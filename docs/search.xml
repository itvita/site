<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>mac配置多jdk随意切换</title>
    <url>/20221120/mac%E9%85%8D%E7%BD%AE%E5%A4%9Ajdk%E9%9A%8F%E6%84%8F%E5%88%87%E6%8D%A2/</url>
    <content><![CDATA[<h1 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h1><p><a href="https://support.apple.com/kb/DL1572?locale=zh_CN">JDK6</a><br><a href="">JDK7</a><br><a href="">JDK8</a></p>
<h1 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h1><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">open .bash_profile</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/usr/local/apache-tomcat-7.0.79/bin</span><br><span class="line"><span class="built_in">export</span> JAVA_6_HOME=/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home</span><br><span class="line"><span class="built_in">export</span> JAVA_7_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home</span><br><span class="line"><span class="built_in">export</span> JAVA_8_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home</span><br></pre></td></tr></table></figure>

<h1 id="设置默认的jdk版本"><a href="#设置默认的jdk版本" class="headerlink" title="设置默认的jdk版本"></a>设置默认的jdk版本</h1><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=<span class="variable">$JAVA_8_HOME</span> </span><br></pre></td></tr></table></figure>

<h1 id="设置alias-用于切换"><a href="#设置alias-用于切换" class="headerlink" title="设置alias 用于切换"></a>设置alias 用于切换</h1><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">alias</span> jdk8=<span class="string">&#x27;export JAVA_HOME=$JAVA_8_HOME&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> jdk7=<span class="string">&#x27;export JAVA_HOME=$JAVA_7_HOME&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> jdk6=<span class="string">&#x27;export JAVA_HOME=$JAVA_6_HOME&#x27;</span></span><br></pre></td></tr></table></figure>

<h1 id="保存退出后刷新配置"><a href="#保存退出后刷新配置" class="headerlink" title="保存退出后刷新配置"></a>保存退出后刷新配置</h1><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> .bash_profile</span><br></pre></td></tr></table></figure>

<h1 id="切换jdk"><a href="#切换jdk" class="headerlink" title="切换jdk"></a>切换jdk</h1><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">命令行输入jdk6，再输入java -version 查看当前版本即可实现动态切换，jdk7，jdk8同样。</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>mac</tag>
        <tag>jdk</tag>
      </tags>
  </entry>
  <entry>
    <title>AOP统数据库统一字段处理</title>
    <url>/20221112/AOP%E7%BB%9F%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%9F%E4%B8%80%E5%AD%97%E6%AE%B5%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<blockquote>
<p>废话不多说，请看代码<br>示例代码为APO+mybatis</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itvita.norisk.company.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itvita.norisk.company.model.dto.CmpUserDto;</span><br><span class="line"><span class="keyword">import</span> com.itvita.norisk.company.util.SystemUtil;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Around;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Aspect;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Pointcut;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.BeanWrapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.BeanWrapperImpl;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2021/5/27 11:16</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liu.q [916000612@qq.com]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@des</span>:  统一处理公共数据库字段</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SqlAopConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.itvita.norisk.company.mapper.*.insert(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">excudeAddService</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.itvita.norisk.company.mapper.*.updateById(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">excudeUpdateService</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Around(&quot;excudeAddService()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">addAround</span><span class="params">(ProceedingJoinPoint thisJoinPoint)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Object[] args = thisJoinPoint.getArgs();</span><br><span class="line">            <span class="comment">// myBatis只能传递一个参数</span></span><br><span class="line">            <span class="keyword">if</span> (args != <span class="literal">null</span> &amp;&amp; args.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">Object</span> <span class="variable">argument</span> <span class="operator">=</span> args[<span class="number">0</span>];</span><br><span class="line">                <span class="type">BeanWrapper</span> <span class="variable">beanWrapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BeanWrapperImpl</span>(argument);</span><br><span class="line">                <span class="type">CmpUserDto</span> <span class="variable">cmpUserDto</span> <span class="operator">=</span> SystemUtil.getCmpUserDto();</span><br><span class="line">                beanWrapper.setPropertyValue(<span class="string">&quot;createdBy&quot;</span>, cmpUserDto.getId());</span><br><span class="line">                beanWrapper.setPropertyValue(<span class="string">&quot;createdName&quot;</span>, cmpUserDto.getNickName());</span><br><span class="line">                beanWrapper.setPropertyValue(<span class="string">&quot;createdTime&quot;</span>, LocalDateTime.now());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> thisJoinPoint.proceed(args);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Around(&quot;excudeUpdateService()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">UpdAround</span><span class="params">(ProceedingJoinPoint thisJoinPoint)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Object[] args = thisJoinPoint.getArgs();</span><br><span class="line">            <span class="comment">// myBatis只能传递一个参数</span></span><br><span class="line">            <span class="keyword">if</span> (args != <span class="literal">null</span> &amp;&amp; args.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">Object</span> <span class="variable">argument</span> <span class="operator">=</span> args[<span class="number">0</span>];</span><br><span class="line">                <span class="type">BeanWrapper</span> <span class="variable">beanWrapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BeanWrapperImpl</span>(argument);</span><br><span class="line">                <span class="type">CmpUserDto</span> <span class="variable">cmpUserDto</span> <span class="operator">=</span> SystemUtil.getCmpUserDto();</span><br><span class="line">                beanWrapper.setPropertyValue(<span class="string">&quot;updatedBy&quot;</span>, cmpUserDto.getId());</span><br><span class="line">                beanWrapper.setPropertyValue(<span class="string">&quot;updatedName&quot;</span>, cmpUserDto.getNickName());</span><br><span class="line">                beanWrapper.setPropertyValue(<span class="string">&quot;updatedTime&quot;</span>, LocalDateTime.now());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> thisJoinPoint.proceed(args);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>springboot</category>
      </categories>
      <tags>
        <tag>aop</tag>
      </tags>
  </entry>
  <entry>
    <title>centos安装gitblit</title>
    <url>/20221113/centos%E5%AE%89%E8%A3%85gitblit/</url>
    <content><![CDATA[<h1 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h1><p><a href="http://gitblit.github.io/gitblit/">http://gitblit.github.io/gitblit/</a></p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><ol>
<li>上传到centos &#x2F;opt下，解压为 gitblit</li>
<li>进入gitblit&#x2F;data 修改默认配置文件<blockquote>
<p>default.properties</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">server.httpPort = 8088  #访问端口 </span><br><span class="line">server.httpsPort = 0 (#0表示禁用此https端口，根据个人需求设置)</span><br><span class="line">server.httpBindInterface = 主机IP (#默认为空，也可写成主机IP，为空时则可以通过远程访问gitblit，建议为空)</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./gitblit.sh</span><br><span class="line"></span><br><span class="line">后台启动：</span><br><span class="line">nohup ./gitblit.sh &amp;</span><br></pre></td></tr></table></figure>

<h1 id="配置nginx访问"><a href="#配置nginx访问" class="headerlink" title="配置nginx访问"></a>配置nginx访问</h1><p>1.nginx转发配置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#gitblit</span><br><span class="line">server &#123;</span><br><span class="line"> listen 80;</span><br><span class="line"> server_name  域名;</span><br><span class="line">	</span><br><span class="line"> location / &#123;</span><br><span class="line">     proxy_pass http://localhost:8088/;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>2.转码问题 （无法加载目录）</p>
<blockquote>
<p>default.properties</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">web.forwardSlashCharacter = !</span><br></pre></td></tr></table></figure>
<p>3.仓库地址问题</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">web.canonicalUrl = http://域名</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>CentOs</tag>
      </tags>
  </entry>
  <entry>
    <title>centos安装mysql</title>
    <url>/20221117/centos%E5%AE%89%E8%A3%85mysql/</url>
    <content><![CDATA[<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p><strong>1、检查Linux是否安装了mariadb数据库，mariadb数据库是mysql的分支</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">执行命令：</span></span><br><span class="line">yum list installed | grep mariadb </span><br></pre></td></tr></table></figure>

<p><strong>2、如果Linux中安装了mariadb数据库，先卸载掉，因为CentOS 7.6 内部集成了mariadb，而安装mysql的话会和mariadb的文件冲突，所以需要先卸载掉mariadb</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">执行命令：</span></span><br><span class="line">yum -y remove mariadb-libs.x86_64</span><br></pre></td></tr></table></figure>

<p><strong>3、下载mysql安装包</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">执行命令：</span></span><br><span class="line">wget https://cdn.mysql.com//Downloads/MySQL-5.7/mysql-5.7.32-linux-glibc2.12-x86_64.tar.gz</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">然后移动到/usr/local下</span></span><br><span class="line">mv mysql-5.7.32-linux-glibc2.12-x86_64.tar.gz /usr/local</span><br></pre></td></tr></table></figure>

<p><strong>4、解压</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">解压tar包：</span></span><br><span class="line">tar -xvf mysql-5.7.32-linux-glibc2.12-x86_64.tar.gz</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">解压下载下来的mysql软件压缩包，执行命令：</span></span><br><span class="line">tar -zxvf mysql-5.7.32-linux-glibc2.12-x86_64.tar.gz</span><br></pre></td></tr></table></figure>

<p><strong>5、更名</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">解压下载下来的mysql软件压缩包，执行命令：</span></span><br><span class="line">mv mysql-5.7.32-linux-glibc2.12-x86_64 mysql</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">然后进入目录</span></span><br><span class="line">cd mysql</span><br></pre></td></tr></table></figure>

<p><strong>6、在mysql-5.7.32文件夹目录下创建一个&#x2F;data&#x2F;3306文件夹</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">执行命令：</span></span><br><span class="line">mkdir -vp ./data </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">（v表示创建新目录都显示信息，p表示递归创建）</span></span><br></pre></td></tr></table></figure>

<p><strong>7、添加mysql用户及用户组</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">执行命令：</span></span><br><span class="line">groupadd mysql</span><br><span class="line"></span><br><span class="line">useradd mysql -g mysql </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">（-g: 是指定用户所在组）</span></span><br></pre></td></tr></table></figure>

<p><strong>8、切换到.&#x2F;bin目录下执行：</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./mysqld --initialize-insecure --user=mysql --datadir=/usr/local/mysql/data --basedir=/usr/local/mysql</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">（--initialize-insecure标识不设置密码， root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.）</span></span><br></pre></td></tr></table></figure>

<p><strong>9、在mysql&#x2F;bin目录下</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">执行命令：</span></span><br><span class="line">./mysql_ssl_rsa_setup --datadir=/usr/local/mysql/data （表示安全连接访问，生成RSA私钥）</span><br></pre></td></tr></table></figure>

<p><strong>10、更改mysql-5.7.32整个文件夹目录权限所属</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">执行命令：</span></span><br><span class="line">chown -R mysql:mysql /usr/local/mysql （-R表示迭代递归）</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">chmod</span>：文件/目录权限设置命令</span></span><br></pre></td></tr></table></figure>

<p><strong>11、在&#x2F;etc 目录下创建my.cnf文件</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[client]</span><br><span class="line">port = 3306</span><br><span class="line">socket = /opt/mysql5.7.32/data/3306/mysql.sock</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">port = 3306</span><br><span class="line">socket = /opt/mysql5.7.32/data/3306/mysql.sock</span><br><span class="line">datadir = /opt/mysql5.7.32/data/3306</span><br><span class="line">log-error = /opt/mysql5.7.32/data/3306/error.log</span><br><span class="line">pid-file = /opt/mysql5.7.32/data/3306/mysql.pid</span><br><span class="line">lower_case_table_names=1</span><br><span class="line">character-set-server=utf8mb4</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">skip-grant-tables</span></span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8mb4</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>至此MySQL安装完成;</p>
<p><strong>12、启动MySQL服务</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">在mysql-5.7.24/bin目录下执行命令：</span></span><br><span class="line">./mysqld_safe --defaults-file=/etc/my.cnf</span><br></pre></td></tr></table></figure>

<p><strong>13、修改密码</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">登录进入mysql，在mysql-5.7.32/bin目录下执行命令：</span></span><br><span class="line">./mysql -uroot -p -P3306 -h127.0.0.1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">修改mysql的密码，执行：</span></span><br><span class="line">alter user &#x27;root&#x27;@&#x27;localhost&#x27; identified by &#x27;123456&#x27;;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">然后刷新</span></span><br><span class="line">flush privileges; </span><br></pre></td></tr></table></figure>

<p><strong>14授权远程访问</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">登录进入mysql执行命令：（这样远程客户端才能访问）</span></span><br><span class="line">grant all privileges on *.* to root@&#x27;%&#x27; identified by &#x27;123456&#x27;;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">其中*.* 的第一个*表示所有数据库名，第二个*表示所有的数据库表；</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">root@<span class="string">&#x27;%&#x27;</span> 中的root表示用户名，%表示ip地址，%也可以指定具体的ip地址，比如root@localhost，root@xx.xx.xx.xx</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">然后刷新</span></span><br><span class="line">flush privileges; </span><br></pre></td></tr></table></figure>

<p><strong>15、关闭MySQL服务</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入mysql-5.7.32/bin目录下执行命令：</span></span><br><span class="line">./mysqladmin -uroot -p -P3306 -h127.0.0.1 shutdown</span><br></pre></td></tr></table></figure>

<h1 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">vim /etc/profile -- 所有用户生效</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">vim ~/.bash_profile --当前用户生效</span></span><br><span class="line">export MYSQL_HOME=&quot;/usr/local/mysql&quot;</span><br><span class="line">export PATH=&quot;$PATH:$MYSQL_HOME/bin&quot;</span><br></pre></td></tr></table></figure>

<h1 id="刷新环境变量"><a href="#刷新环境变量" class="headerlink" title="刷新环境变量"></a>刷新环境变量</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">source  /etc/profile</span><br></pre></td></tr></table></figure>

<h1 id="设置到开机启动"><a href="#设置到开机启动" class="headerlink" title="设置到开机启动"></a>设置到开机启动</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld  </span><br><span class="line"></span><br><span class="line">cp //usr/local/mysql/support-files/mysql.server /etc/rc.d/init.d/mysql</span><br><span class="line"></span><br><span class="line">chmod 700 /etc/init.d/mysql   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">加入到系统服务命令</span></span><br><span class="line">chkconfig --add mysqld    </span><br><span class="line"></span><br><span class="line">chkconfig --level 2345 mysqld on </span><br></pre></td></tr></table></figure>

<h1 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">启动</span></span><br><span class="line"> service mysql start</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">停止</span></span><br><span class="line"> service mysql stop</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重启</span></span><br><span class="line"> service mysql restart</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>centos</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>centos安装nginx</title>
    <url>/20221117/centos%E5%AE%89%E8%A3%85nginx/</url>
    <content><![CDATA[<h1 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h1><p><a href="http://nginx.org/en/download.html">nginx官网</a></p>
<h1 id="命令下载"><a href="#命令下载" class="headerlink" title="命令下载"></a>命令下载</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wget http://nginx.org/download/nginx-1.18.0.tar.gz</span><br></pre></td></tr></table></figure>

<h1 id="安装依赖包"><a href="#安装依赖包" class="headerlink" title="安装依赖包"></a>安装依赖包</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum install gcc gcc-c++ pcre* openssl* gd-devel* zlib-devel pcre-devel</span><br></pre></td></tr></table></figure>

<h1 id="解压并进入目录"><a href="#解压并进入目录" class="headerlink" title="解压并进入目录"></a>解压并进入目录</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">tar –zxvf nginx-1.18.0.tar.gz</span><br><span class="line">cd nginx-1.18.0</span><br></pre></td></tr></table></figure>

<h1 id="创建nginx用户"><a href="#创建nginx用户" class="headerlink" title="创建nginx用户"></a>创建nginx用户</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">useradd -M -s /sbin/nologin nginx</span><br></pre></td></tr></table></figure>

<h1 id="配置编译参数"><a href="#配置编译参数" class="headerlink" title="配置编译参数"></a>配置编译参数</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./configure --prefix=/opt/nginx --with-http_stub_status_module --with-http_ssl_module --with-http_realip_module --with-http_flv_module --with-http_mp4_module --with-http_gzip_static_module --with-stream --with-stream_ssl_module #./configure –help</span><br></pre></td></tr></table></figure>

<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>

<h1 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd /opt/nginx/sbin</span><br><span class="line">./nginx</span><br></pre></td></tr></table></figure>

<h1 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">刷新配置</span><br><span class="line">./nginx -s reload</span><br><span class="line">停止</span><br><span class="line">./nginx -s stop</span><br></pre></td></tr></table></figure>

<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><h2 id="腾讯云证书https的基本配置"><a href="#腾讯云证书https的基本配置" class="headerlink" title="腾讯云证书https的基本配置"></a>腾讯云证书https的基本配置</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">upstream myproject &#123;</span><br><span class="line">    server 127.0.0.1:8000 weight=3; //weight 权重，数字越大轮到的几率越大</span><br><span class="line">    server 127.0.0.1:8001;</span><br><span class="line">    server 127.0.0.1:8002;</span><br><span class="line">    server 127.0.0.1:8003;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">myMiniProgram</span></span><br><span class="line">server &#123;  </span><br><span class="line">	listen 80;  </span><br><span class="line">	server_name xx.com;  </span><br><span class="line">	rewrite ^(.*)$  https://$host$1 permanent;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">SSL 访问端口号为 443</span></span><br><span class="line">  listen 443 ssl; </span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">填写绑定证书的域名</span></span><br><span class="line">  server_name cloud.tencent.com; </span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">证书文件名称</span></span><br><span class="line">  ssl_certificate 1_cloud.tencent.com_bundle.crt; </span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">私钥文件名称</span></span><br><span class="line">  ssl_certificate_key 2_cloud.tencent.com.key; </span><br><span class="line">  ssl_session_timeout 5m;</span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">请按照以下协议配置</span></span><br><span class="line">  ssl_protocols TLSv1 TLSv1.1 TLSv1.2; </span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">请按照以下套件配置，配置加密套件，写法遵循 openssl 标准。</span></span><br><span class="line">  ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; </span><br><span class="line">  ssl_prefer_server_ciphers on;</span><br><span class="line"><span class="meta prompt_">	</span></span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">代理转发</span></span><br><span class="line">	location / &#123;</span><br><span class="line">	    #自定义请求头内容</span><br><span class="line">		proxy_set_header X-Forwarded-Scheme  https;</span><br><span class="line">		proxy_set_header X-Forwarded-port  443;</span><br><span class="line">		client_max_body_size 1000m; </span><br><span class="line"><span class="meta prompt_">		#</span><span class="language-bash">设置主机头和客户端真实地址，以便服务器获取客户端真实IP</span></span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">		proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">        #禁用缓存</span><br><span class="line">        proxy_buffering off;</span><br><span class="line">        #反向代理的地址</span><br><span class="line">        proxy_pass http://localhost:7878; </span><br><span class="line">        # proxy_pass http://myproject; #用这行代替上面，实现负载均衡</span><br><span class="line">        #启用支持websocket连接</span><br><span class="line">        proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">        proxy_set_header Connection &quot;upgrade&quot;;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">静态代理</span></span><br><span class="line">	location /admin &#123;</span><br><span class="line">	   alias /usr/local/mymini/cpp-web;</span><br><span class="line">       index login.html;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="srpingboot-request-get…uri-还是http怎么办？"><a href="#srpingboot-request-get…uri-还是http怎么办？" class="headerlink" title="srpingboot request.get…uri ,还是http怎么办？"></a>srpingboot request.get…uri ,还是http怎么办？</h1><blockquote>
<p>配置tomcat</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">server.tomcat.protocol-header=X-Forwarded-Proto # ssl forward headers</span><br><span class="line">server.tomcat.remote-ip-header=X-Forwarded-For</span><br></pre></td></tr></table></figure>

<h4 id="代理tcp协议链接mysql"><a href="#代理tcp协议链接mysql" class="headerlink" title="代理tcp协议链接mysql"></a>代理tcp协议链接mysql</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">stream &#123;</span><br><span class="line">    upstream cloudsocket &#123;</span><br><span class="line">       hash $remote_addr consistent;</span><br><span class="line">      # $binary_remote_addr;</span><br><span class="line">       server 127.0.0.1:3306 weight=5 max_fails=3 fail_timeout=30s;</span><br><span class="line">    &#125;</span><br><span class="line">    server &#123;</span><br><span class="line">       listen 3306;#数据库服务器监听端口</span><br><span class="line">       proxy_connect_timeout 10s;</span><br><span class="line">       proxy_timeout 300s;#设置客户端和代理服务之间的超时时间，如果5分钟内没操作将自动断开。</span><br><span class="line">       proxy_pass cloudsocket;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>centos</tag>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>centos安装字体</title>
    <url>/20221112/centos%E5%AE%89%E8%A3%85%E5%AD%97%E4%BD%93/</url>
    <content><![CDATA[<h1 id="事先安装"><a href="#事先安装" class="headerlink" title="事先安装"></a>事先安装</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum -y install fontconfig</span><br><span class="line">yum -y install mkfontscale</span><br></pre></td></tr></table></figure>
<h1 id="查看已安装字体"><a href="#查看已安装字体" class="headerlink" title="查看已安装字体"></a>查看已安装字体</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">fc-list</span><br></pre></td></tr></table></figure>
<h1 id="查看linux已安装中文字体"><a href="#查看linux已安装中文字体" class="headerlink" title="查看linux已安装中文字体"></a>查看linux已安装中文字体</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">fc-list :lang=zh</span><br></pre></td></tr></table></figure>
<h1 id="安装字体"><a href="#安装字体" class="headerlink" title="安装字体"></a>安装字体</h1><h2 id="1-进入字体目录"><a href="#1-进入字体目录" class="headerlink" title="1. 进入字体目录"></a>1. 进入字体目录</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /usr/share/fonts</span><br></pre></td></tr></table></figure>
<h2 id="2-新建目录-myfonts"><a href="#2-新建目录-myfonts" class="headerlink" title="2. 新建目录 myfonts"></a>2. 新建目录 myfonts</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir myfonts</span><br></pre></td></tr></table></figure>
<h2 id="3-上传字体到myfonts-并进入目录"><a href="#3-上传字体到myfonts-并进入目录" class="headerlink" title="3. 上传字体到myfonts,并进入目录"></a>3. 上传字体到myfonts,并进入目录</h2><blockquote>
<p>window字体目录 C:\Windows\Fonts </p>
</blockquote>
<h2 id="4-开始安装"><a href="#4-开始安装" class="headerlink" title="4. 开始安装"></a>4. 开始安装</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更新字体库索引</span></span><br><span class="line">mkfontscale</span><br><span class="line">mkfontdir</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更新字体缓存</span></span><br><span class="line">fc-cache</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>centos</tag>
      </tags>
  </entry>
  <entry>
    <title>centos配置jdk</title>
    <url>/20221122/centos%E9%85%8D%E7%BD%AEjdk/</url>
    <content><![CDATA[<h1 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h1><p><a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">jdk8</a></p>
<h1 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tar -zxvf  jdk-8u271-linux-x64.tar.gz.tar.gz</span><br></pre></td></tr></table></figure>

<h1 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#vim /etc/profile -- 所有用户生效</span><br><span class="line">#vim ~/.bash_profile --当前用户生效</span><br><span class="line">JAVA_HOME=/opt/jdk1.8.0_271 </span><br><span class="line">JRE_HOME=/opt/jdk1.8.0_271/jre </span><br><span class="line">CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib </span><br><span class="line">PATH=$JAVA_HOME/bin:$PATH </span><br><span class="line">export PATH JAVA_HOME CLASSPATH</span><br></pre></td></tr></table></figure>

<h1 id="刷新"><a href="#刷新" class="headerlink" title="刷新"></a>刷新</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">source  /etc/profile</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>jdk</tag>
        <tag>centos</tag>
      </tags>
  </entry>
  <entry>
    <title>centos安装redis</title>
    <url>/20221119/centos%E5%AE%89%E8%A3%85redis/</url>
    <content><![CDATA[<h1 id="1、redis最新版下载地址"><a href="#1、redis最新版下载地址" class="headerlink" title="1、redis最新版下载地址"></a>1、redis最新版下载地址</h1><p><a href="https://redis.io/download">redis官网</a></p>
<p><a href="https://github.com/redis/redis">GitHub</a></p>
<h1 id="2、下载"><a href="#2、下载" class="headerlink" title="2、下载"></a>2、下载</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget https://download.redis.io/releases/redis-6.0.9.tar.gz</span><br></pre></td></tr></table></figure>

<h1 id="3、解压并进入目录"><a href="#3、解压并进入目录" class="headerlink" title="3、解压并进入目录"></a>3、解压并进入目录</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tar -zxvf redis-6.0.9.tar.gz</span><br><span class="line">cd redis-6.0.9</span><br></pre></td></tr></table></figure>

<h1 id="4、编译安装"><a href="#4、编译安装" class="headerlink" title="4、编译安装"></a>4、编译安装</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>

<h1 id="5、移动脚本-amp-配置文件"><a href="#5、移动脚本-amp-配置文件" class="headerlink" title="5、移动脚本&amp;配置文件"></a>5、移动脚本&amp;配置文件</h1><blockquote>
<p>把redis-6.0.9&#x2F;src目录下的mkreleasehdr.sh，redis-benchmark， redis-check-rdb， redis-cli， redis-server拷贝到redis-6.0.9&#x2F;bin目录</p>
<p>并授予可执行权限 ，chmod + x *</p>
</blockquote>
<h1 id="6、修改redis-conf"><a href="#6、修改redis-conf" class="headerlink" title="6、修改redis.conf"></a>6、修改redis.conf</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#修改为守护模式</span><br><span class="line">daemonize yes</span><br><span class="line">#设置进程锁文件</span><br><span class="line">pidfile /Users/liuqiang/tools/redis/redis_639.pid</span><br><span class="line">#端口</span><br><span class="line">port 6379</span><br><span class="line">#客户端超时时间</span><br><span class="line">timeout 300</span><br><span class="line">#日志级别</span><br><span class="line">loglevel debug</span><br><span class="line">#日志文件位置</span><br><span class="line">logfile /Users/liuqiang/tools/redis/log-redis.log</span><br><span class="line">#设置数据库的数量，默认数据库为0，可以使用SELECT &lt;dbid&gt;命令在连接上指定数据库id</span><br><span class="line">databases 16</span><br><span class="line">##指定在多长时间内，有多少次更新操作，就将数据同步到数据文件，可以多个条件配合</span><br><span class="line">#save &lt;seconds&gt; &lt;changes&gt;</span><br><span class="line">#Redis默认配置文件中提供了三个条件：</span><br><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60 10000</span><br><span class="line">#指定存储至本地数据库时是否压缩数据，默认为yes，Redis采用LZF压缩，如果为了节省CPU时间，</span><br><span class="line">#可以关闭该#选项，但会导致数据库文件变的巨大</span><br><span class="line">rdbcompression yes</span><br><span class="line">#指定本地数据库文件名</span><br><span class="line">dbfilename dump.rdb</span><br><span class="line">#指定本地数据库路径</span><br><span class="line">dir /Users/liuqiang/tools/redis/db/</span><br><span class="line">#指定是否在每次更新操作后进行日志记录，Redis在默认情况下是异步的把数据写入磁盘，如果不开启，可能</span><br><span class="line">#会在断电时导致一段时间内的数据丢失。因为 redis本身同步数据文件是按上面save条件来同步的，所以有</span><br><span class="line">#的数据会在一段时间内只存在于内存中</span><br><span class="line">appendonly no</span><br><span class="line">#指定更新日志条件，共有3个可选值：</span><br><span class="line">#no：表示等操作系统进行数据缓存同步到磁盘（快）</span><br><span class="line">#always：表示每次更新操作后手动调用fsync()将数据写到磁盘（慢，安全）</span><br><span class="line">#everysec：表示每秒同步一次（折衷，默认值）</span><br><span class="line">appendfsync everysec</span><br><span class="line">#密码</span><br><span class="line">requirepass 123456</span><br></pre></td></tr></table></figure>

<h1 id="7、启动"><a href="#7、启动" class="headerlink" title="7、启动"></a>7、启动</h1><blockquote>
<p>进入redis-6.0.9目录</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./bin/redis-server ./redis.conf</span><br></pre></td></tr></table></figure>

<h1 id="8、停止"><a href="#8、停止" class="headerlink" title="8、停止"></a>8、停止</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ps -ef|grep redis</span><br><span class="line">kill -9 pid</span><br></pre></td></tr></table></figure>



<h1 id="make-1-server-o-错误-1"><a href="#make-1-server-o-错误-1" class="headerlink" title="make[1]: *** [server.o] 错误 1"></a><font color="red">make[1]: *** [server.o] 错误 1</font></h1><p><em>原因是因为gcc版本过低，yum安装的gcc是4.8.5的。因此需要升级gcc，升级过程如下</em></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum -y install centos-release-scl</span><br><span class="line"></span><br><span class="line">yum -y install devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils</span><br><span class="line"></span><br><span class="line">#这句是临时的</span><br><span class="line">scl enable devtoolset-9 bash</span><br><span class="line"></span><br><span class="line">#修改环境变量</span><br><span class="line">echo &quot;source /opt/rh/devtoolset-9/enable&quot; &gt;&gt; /etc/profile</span><br><span class="line"></span><br><span class="line">gcc -v</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>centos</tag>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title>bbb视频会议系统搭建</title>
    <url>/20221119/bbb%E8%A7%86%E9%A2%91%E4%BC%9A%E8%AE%AE%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><blockquote>
<p>要先准备云服务器，域名。</p>
</blockquote>
<h2 id="更新镜像"><a href="#更新镜像" class="headerlink" title="更新镜像"></a>更新镜像</h2><p>1、备份配置文件：</p>
<p>cp -a &#x2F;etc&#x2F;apt&#x2F;sources.list &#x2F;etc&#x2F;apt&#x2F;sources.list.bak</p>
<p>2、修改<strong>sources.list</strong>文件，将<strong><a href="http://archive.ubuntu.com/">http://archive.ubuntu.com</a></strong>和<strong><a href="http://security.ubuntu.com/">http://security.ubuntu.com</a></strong>替换成<strong><a href="http://mirrors.huaweicloud.com/">http://mirrors.huaweicloud.com</a></strong>，可以参考如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sed -i &quot;s@http://.*archive.ubuntu.com@http://mirrors.huaweicloud.com@g&quot; /etc/apt/sources.list</span><br><span class="line">sed -i &quot;s@http://.*security.ubuntu.com@http://mirrors.huaweicloud.com@g&quot; /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<p>3、执行<strong>apt-get update</strong>更新索引</p>
<p>继续更新服务器，按顺序逐行执行命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">grep &quot;multiverse&quot; /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<p>执行完此命令后如果没有看到</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deb http://archive.ubuntu.com/ubuntu trusty multiverse</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deb http://archive.ubuntu.com/ubuntu trusty main restricted universe multiverse</span><br></pre></td></tr></table></figure>

<p>则执行</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo &quot;deb http://us.archive.ubuntu.com/ubuntu/ trusty multiverse&quot; | sudo tee -a /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<p>然后执行命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get dist-upgrade</span><br></pre></td></tr></table></figure>

<p>接下来安装LibreOffice（ppt转换工具）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt-get install software-properties-common</span><br><span class="line">sudo add-apt-repository ppa:libreoffice/libreoffice-4-4</span><br></pre></td></tr></table></figure>

<h2 id="然后根据官网安装（首先要配置防火墙）"><a href="#然后根据官网安装（首先要配置防火墙）" class="headerlink" title="然后根据官网安装（首先要配置防火墙）"></a>然后根据官网安装（首先要配置防火墙）</h2><p><a href="http://docs.bigbluebutton.org/2.2/install.html#4--install-bigbluebutton">http://docs.bigbluebutton.org/2.2/install.html#4--install-bigbluebutton</a></p>
<p>安装过程需要一晚上~</p>
<p>安装demo</p>
<p>配置ssl</p>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><ol>
<li><p>问题详细提示如下:</p>
<p>E: Could not get lock &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;lock-frontend - open (11: Resource temporarly unavailable)</p>
<p>E: Unable to acquire the dpkg frontend lock (&#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;lock-frontend), is an other process using it?</p>
</li>
<li><p>如何解决这种问题呢?</p>
</li>
</ol>
<p>　　2.1 首先查看是否有apt-get这个程序在运行</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ps aux|grep apt-get</span><br></pre></td></tr></table></figure>

<p>　　2.2 如果发现存在这样的程序在运行那么就kill掉，否则执行2.3</p>
<p>　　2.3 直接删除锁文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo rm /var/lib/dpkg/lock-frontend</span><br><span class="line">sudo rm /var/lib/dpkg/lock</span><br></pre></td></tr></table></figure>

<h1 id="报错1007："><a href="#报错1007：" class="headerlink" title="报错1007："></a>报错1007：</h1><p>ICE协商失败** -浏览器和FreeSWITCH尝试协商用于流媒体的端口，并且协商失败。可能的原因：</p>
<ul>
<li>NAT阻止了连接</li>
<li>防火墙阻止UDP连接&#x2F;端口</li>
</ul>
<p>更新 FreeSWITCH配置</p>
<p><a href="http://docs.bigbluebutton.org/2.2/configure-firewall.html#update-freeswitch">http://docs.bigbluebutton.org/2.2/configure-firewall.html#update-freeswitch</a></p>
<h1 id="报错1020-，无法启用视频"><a href="#报错1020-，无法启用视频" class="headerlink" title="报错1020 ，无法启用视频"></a>报错1020 ，无法启用视频</h1><p><a href="http://docs.bigbluebutton.org/2.2/configure-firewall.html#extra-steps-when-server-is-behind-nat">http://docs.bigbluebutton.org/2.2/configure-firewall.html#extra-steps-when-server-is-behind-nat</a></p>
<h3 id="Kurento安装方法"><a href="#Kurento安装方法" class="headerlink" title="Kurento安装方法"></a>Kurento安装方法</h3><p>安装gunpg</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">apt-get update \`` ``&amp;&amp; apt-get ``install` `--no-``install``-recommends --``yes` `\``  ``gnupg</span><br></pre></td></tr></table></figure>

<p>2、确定ubuntu版本</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat` `/etc/issue``Ubuntu 18.04.2 LTS \n \l ``#输出</span><br></pre></td></tr></table></figure>

<p>3、设置变量（根据上一步的结果 ，下面2行选1行执行）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Run ONLY ONE of these lines:``DISTRO=``&quot;xenial&quot;` `# KMS for Ubuntu 16.04 (Xenial)``DISTRO=``&quot;bionic&quot;` `# KMS for Ubuntu 18.04 (Bionic)</span><br></pre></td></tr></table></figure>

<p>4、添加key</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 5AFA7A83</span><br></pre></td></tr></table></figure>

<p>5、设置kurento.list</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tee` `&quot;/etc/apt/sources.list.d/kurento.list&quot;` `&gt;``/dev/null` `&lt;`# Kurento Media Server - Release packages``deb [arch=amd64] http:``//ubuntu``.openvidu.io``/6``.10.0 $DISTRO kms6``EOF</span><br></pre></td></tr></table></figure>

<p>注：这一步的作用，实际就是在”&#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;kurento.list” 这个文件中，追加一行deb [arch&#x3D;amd64] <a href="http://ubuntu.openvidu.io/6.10.0">http://ubuntu.openvidu.io/6.10.0</a> $DISTRO kms6。</p>
<p>执行时，terminal终端中，按顺序把上面4行，都复制进去就行（注：1个字符都不要少）</p>
<p>6、安装kurento media server</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">apt-get update \`` ``&amp;&amp; apt-get ``install` `--``yes` `kurento-media-server</span><br></pre></td></tr></table></figure>

<p>7、启动&#x2F;停止</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo` `service kurento-media-server start``sudo` `service kurento-media-server stop</span><br></pre></td></tr></table></figure>

<h1 id="Error-Unable-to-connect-to-the-FreeSWITCH-Event-Socket-Layer-on-port-8021"><a href="#Error-Unable-to-connect-to-the-FreeSWITCH-Event-Socket-Layer-on-port-8021" class="headerlink" title="Error: Unable to connect to the FreeSWITCH Event Socket Layer on port 8021"></a>Error: Unable to connect to the FreeSWITCH Event Socket Layer on port 8021</h1><h2 id="FreeSWITCH无法绑定到端口8021"><a href="#FreeSWITCH无法绑定到端口8021" class="headerlink" title="FreeSWITCH无法绑定到端口8021"></a>FreeSWITCH无法绑定到端口8021</h2><p>FreeSWITCH支持IPV4和IPV6。但是，如果您的服务器不支持IPV6，则FreeSWITCH将无法绑定到端口8021。如果运行<code>sudo bbb-conf --check</code>并看到以下错误</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Error: Found text in freeswitch.log:</span><br><span class="line">#</span><br><span class="line">#    Thread ended for mod_event_socket</span><br><span class="line">#</span><br><span class="line"># FreeSWITCH may not be responding to requests on port 8021 (event socket layer)</span><br><span class="line"># and users may have errors joining audio.</span><br><span class="line">#</span><br></pre></td></tr></table></figure>

<p>可能是您的服务器已禁用IPV6（或不支持它）。您可以通过运行以下命令进行检查</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ sudo ip addr | grep inet6</span><br><span class="line">inet6 ::1/128 scope host</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>如果看不到该行<code>inet6 ::1/128 scope host</code>，则您的服务器已禁用IPV6。在这种情况下，我们需要禁用FreeSWITCH对IPV6的支持。首先，编辑<code>/opt/freeswitch/etc/freeswitch/autoload_configs/event_socket.conf.xml</code>并更改行</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;param name=&quot;listen-ip&quot; value=&quot;::&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p>至</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;param name=&quot;listen-ip&quot; value=&quot;127.0.0.1&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p>这告诉FreeSWITCH，不是将端口8021绑定到本地IPV6地址，而是绑定到IPV4地址127.0.0.1。接下来，执行以下两个命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ sudo mv /opt/freeswitch/etc/freeswitch/sip_profiles/internal-ipv6.xml /opt/freeswitch/etc/freeswitch/sip_profiles/internal-ipv6.xml_</span><br><span class="line">$ sudo mv /opt/freeswitch/etc/freeswitch/sip_profiles/external-ipv6.xml /opt/freeswitch/etc/freeswitch/sip_profiles/external-ipv6.xml_</span><br></pre></td></tr></table></figure>

<p>然后使用命令重新启动BigBlueButton</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ sudo bbb-conf --clean</span><br><span class="line">$ sudo bbb-conf --check</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>视频会议</tag>
      </tags>
  </entry>
  <entry>
    <title>centos创建sftp账号</title>
    <url>/20221121/centos%E5%88%9B%E5%BB%BAsftp%E8%B4%A6%E5%8F%B7/</url>
    <content><![CDATA[<h2 id="使用系统自带的internal-sftp搭建SFTP服务器。"><a href="#使用系统自带的internal-sftp搭建SFTP服务器。" class="headerlink" title="使用系统自带的internal-sftp搭建SFTP服务器。"></a>使用系统自带的internal-sftp搭建SFTP服务器。</h2><p>打开命令终端窗口，按以下步骤操作。</p>
<p>1、查看openssh的版本</p>
<pre><code>ssh -V 
</code></pre>
<p>使用ssh -V 命令来查看openssh的版本，版本必须大于4.8p1，低于的这个版本需要升级。</p>
<p>2、创建sftp组</p>
<pre><code>groupadd sftp
</code></pre>
<p> 3、创建一个sftp用户，用户名为mysftp2020，密码为mysftp2020</p>
<blockquote>
<p>修改用户密码和修改Linux用户密码是一样的：</p>
</blockquote>
<blockquote>
<p>注意：这里我们将mysftp2020用户的shell设置为&#x2F;bin&#x2F;false使他没有登陆shell的权限</p>
</blockquote>
<pre><code>useradd -g sftp -s /bin/false mysftp2020  //用户名
passwd mysftp2020  //密码
</code></pre>
<p>4、sftp组的用户的home目录统一指定到&#x2F;data&#x2F;sftp下，按用户名区分，这里先新建一个mysftp2020目录，然后指定mysftp2020的home为&#x2F;data&#x2F;sftp&#x2F;mysftp2020<br>sftp组的用户的home目录统一指定到&#x2F;data&#x2F;sftp下</p>
<pre><code>mkdir -p /data/sftp/mysftp2020
</code></pre>
<p>然后指定mysftp2020的home为&#x2F;data&#x2F;sftp&#x2F;mysftp2020</p>
<p><code>usermod -d /data/sftp/mysftp2020 mysftp2020</code></p>
<p>5、配置sshd_config</p>
<pre><code>vim /etc/ssh/sshd_config
</code></pre>
<p>找到如下这行，用#符号注释掉，大致在文件末尾处。</p>
<pre><code>#Subsystem      sftp    /usr/libexec/openssh/sftp-server  
</code></pre>
<p>在文件最后面添加如下几行内容，然后保存。</p>
<pre><code>Subsystem sftp internal-sftp  
#匹配sftp组的用户，如果有多个组用逗号分割 也可以使用“Match
Match Group sftp  
#User mysftp2020”匹配用户，多个用户之间也是用逗号分割
#用chroot将用户的根目录指定到/data/ftp/%u,%u代表用户名,%h表示用户根目录
ChrootDirectory /data/sftp/%u  
#指定sftp命令
ForceCommand    internal-sftp  
AllowTcpForwarding no
#禁止用户使用端口转发 建立用户和组放
X11Forwarding no
</code></pre>
<p>6、设定Chroot目录权限</p>
<pre><code>chown root:sftp /data/sftp/mysftp2020
chmod 755 /data/sftp/mysftp2020
</code></pre>
<p>7、建立SFTP用户登入后可写入的目录<br>照上面设置后，在重启sshd服务后，用户mysftp2020已经可以登录。但使用chroot指定根目录后，根应该是无法写入的，所以要新建一个目录供mysftp2020上传文件。这个目录所有者为mysftp2020，所有组为sftp，所有者有写入权限，而所有组无写入权限。命令如下：</p>
<pre><code>mkdir /data/sftp/mysftp2020/upload
chown mysftp2020:sftp /data/sftp/mysftp2020/upload
chmod 755 /data/sftp/mysftp2020/upload
</code></pre>
<p>8、修改&#x2F;etc&#x2F;selinux&#x2F;config</p>
<pre><code>vim /etc/selinux/config
</code></pre>
<p>将文件中的SELINUX&#x3D;enforcing 修改为 SELINUX&#x3D;disabled ，然后保存。</p>
<p>再输入命令</p>
<pre><code>setenforce 0
</code></pre>
<p>9、重启sshd服务</p>
<pre><code>service sshd restart
</code></pre>
<p>10、验证sftp环境<br>用mysftp2020用户名登录，yes确定，回车输入密码。</p>
<pre><code>sftp mysftp2020@127.0.0.1
</code></pre>
<p>显示 sftp&gt; 则sftp搭建成功。</p>
<p>11、使用FileZilla FTP Client连接SFTP服务器</p>
<blockquote>
<p>输入主机IP地址、用户名、密码、端口连接SFTP服务器，端口默认为22。</p>
</blockquote>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>centos</tag>
        <tag>sftp</tag>
      </tags>
  </entry>
  <entry>
    <title>centos7配置maven</title>
    <url>/20221123/centos%E9%85%8D%E7%BD%AEmaven/</url>
    <content><![CDATA[<h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget https://dlcdn.apache.org/maven/maven-3/3.8.2/binaries/apache-maven-3.8.2-bin.tar.gz</span><br></pre></td></tr></table></figure>

<h3 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tar -zxvf apache-maven-3.8.2-bin.tar.gz</span><br></pre></td></tr></table></figure>

<h3 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line">export MAVEN_HOME=/opt/apache-maven-3.8.2</span><br><span class="line">export PATH=$PATH:$MAVEN_HOME/bin</span><br></pre></td></tr></table></figure>

<h3 id="刷新配置"><a href="#刷新配置" class="headerlink" title="刷新配置"></a>刷新配置</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>centos</tag>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title>git从版本库中移除文件</title>
    <url>/20221124/git%E4%BB%8E%E7%89%88%E6%9C%AC%E5%BA%93%E4%B8%AD%E7%A7%BB%E9%99%A4%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<blockquote>
<p>如果你想把一个文件从版本控制中移除，并且保留本地的文件，首先需要把这个文件加入到gitignore文件中。然后执行以下命令就可以了</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git rm file_path --cached</span><br></pre></td></tr></table></figure>

<blockquote>
<p>以上命令将file_path所代表的文件从版本控制中删除，并保留本地文件，此外还要进行commit操作才能将服务端的文件删掉。如果想把一个文件夹从版本控制中删除并保留本地的文件，只需在上述命令的基础上加上-r参数，即</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git rm -r folder_path --cached</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果想把所有gitignore中的文件从版本控制中删除的话，需要执行以下两个命令，即先移除所有文件，再执行添加所有文件（这次会忽略gitignore中的文件）。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git rm -r . --cached</span><br><span class="line">git add .</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>js通过url下载文件</title>
    <url>/20221126/js%E9%80%9A%E8%BF%87url%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(src).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> res.<span class="title function_">blob</span>().<span class="title function_">then</span>(<span class="function"><span class="params">blob</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">  <span class="keyword">let</span> url = <span class="variable language_">window</span>.<span class="property">URL</span>.<span class="title function_">createObjectURL</span>(blob);</span><br><span class="line">  a.<span class="property">href</span> = url;</span><br><span class="line">  a.<span class="property">download</span> = name;</span><br><span class="line">  a.<span class="title function_">click</span>();</span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">URL</span>.<span class="title function_">revokeObjectURL</span>(url);</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>fetch</tag>
      </tags>
  </entry>
  <entry>
    <title>git分支与合并</title>
    <url>/20221125/git%E5%88%86%E6%94%AF%E4%B8%8E%E5%90%88%E5%B9%B6/</url>
    <content><![CDATA[<h1 id="通过本地分支创建远程分支"><a href="#通过本地分支创建远程分支" class="headerlink" title="通过本地分支创建远程分支"></a>通过本地分支创建远程分支</h1><blockquote>
<p>创建并切换到本地分支</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git checkout -b 分支名称</span><br></pre></td></tr></table></figure>
<blockquote>
<p>查看分支</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure>

<blockquote>
<p>同步并创建远程分支</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git push --set-upstream origin 分支名称</span><br></pre></td></tr></table></figure>
<blockquote>
<p>切换分支</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git checkout 分支名称（默认主分支：master）</span><br></pre></td></tr></table></figure>

<h1 id="如果本地没有分支，同步远程分支"><a href="#如果本地没有分支，同步远程分支" class="headerlink" title="如果本地没有分支，同步远程分支"></a>如果本地没有分支，同步远程分支</h1><blockquote>
<p>更新远程主机origin 整理分支</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git remote update origin --prune</span><br></pre></td></tr></table></figure>

<blockquote>
<p>列出远程分支</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git branch -r</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以利用 git checkout –track origin&#x2F;branch_name ，这时本地会新建一个分支名叫 branch_name ，会自动跟踪远程的同名分支 branch_name</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git checkout --track origin/分支名称</span><br></pre></td></tr></table></figure>

<blockquote>
<p>或者新建本地分支gpf与远程gpf分支相关联</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git checkout -b gpf origin/分支名称</span><br></pre></td></tr></table></figure>

<h1 id="合并分支到master上"><a href="#合并分支到master上" class="headerlink" title="合并分支到master上"></a>合并分支到master上</h1><blockquote>
<p>首先切换到master分支上</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git checkout master</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果是多人开发的话 需要把远程master上的代码pull下来</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git pull origin master</span><br></pre></td></tr></table></figure>

<blockquote>
<p>然后我们把dev分支的代码合并到master上</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git  merge dev</span><br></pre></td></tr></table></figure>

<blockquote>
<p>然后查看状态</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>mac无法打开或已损坏解决办法</title>
    <url>/20221127/mac%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80%E6%88%96%E5%B7%B2%E6%8D%9F%E5%9D%8F%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
    <content><![CDATA[<p>1、系统偏好设置… -&gt; 安全性与隐私–&gt;修改为任何来源</p>
<p>2、如果没有任何来源  ,打开终端执行:sudo spctl –master-disable</p>
<p>如果还不行 </p>
<p>sudo xattr -d com.apple.quarantine &#x2F;Applications&#x2F;Navicat\ for\ SQL\ Server.app</p>
<p>&#x2F;Applications&#x2F;Navicat\ for\ SQL\ Server.app 为app路径  </p>
<p>如果有空格，空格前加 \</p>
]]></content>
      <categories>
        <category>mac</category>
      </categories>
  </entry>
  <entry>
    <title>markdown修改字体颜色</title>
    <url>/20221128/markdown%E4%BF%AE%E6%94%B9%E5%AD%97%E4%BD%93%E9%A2%9C%E8%89%B2/</url>
    <content><![CDATA[<h2 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;font face=&quot;微软雅黑&quot;&gt;我是微软雅黑&lt;/font&gt;</span><br></pre></td></tr></table></figure>

<h2 id="字号"><a href="#字号" class="headerlink" title="字号"></a>字号</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;font size=&#x27;72&#x27;&gt;72大小的字体&lt;/font&gt;</span><br></pre></td></tr></table></figure>

<h2 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;font color=&#x27;#0099ff&#x27;&gt;变个颜色&lt;/font&gt;	</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>颜色名</th>
<th>十六进制颜色值</th>
<th>颜色</th>
</tr>
</thead>
<tbody><tr>
<td>AliceBlue</td>
<td><font color=#F0F8FF>#F0F8FF</font></td>
<td>rgb(240, 248, 255)</td>
</tr>
<tr>
<td>AntiqueWhite</td>
<td><font color=#FAEBD7>#FAEBD7</font></td>
<td>rgb(250, 235, 215)</td>
</tr>
<tr>
<td>Aqua</td>
<td><font color=#00FFFF>#00FFFF</font></td>
<td>rgb(0, 255, 255)</td>
</tr>
<tr>
<td>Aquamarine</td>
<td><font color=#F0FFFF>#7FFFD4</font></td>
<td>rgb(127, 255, 212)</td>
</tr>
<tr>
<td>Azure</td>
<td><font color=#F0FFFF>#F0FFFF</font></td>
<td>rgb(240, 255, 255)</td>
</tr>
<tr>
<td>Beige</td>
<td><font color=#F5F5DC>#F5F5DC</font></td>
<td>rgb(245, 245, 220)</td>
</tr>
<tr>
<td>Bisque</td>
<td><font color=#FFE4C4>#FFE4C4</font></td>
<td>rgb(255, 228, 196)</td>
</tr>
<tr>
<td>Black</td>
<td><font color=#000000>#000000</font></td>
<td>rgb(0, 0, 0)</td>
</tr>
<tr>
<td>BlanchedAlmond</td>
<td><font color=#FFEBCD>#FFEBCD</font></td>
<td>rgb(255, 235, 205)</td>
</tr>
<tr>
<td>Blue</td>
<td><font color=#0000FF>#0000FF</font></td>
<td>rgb(0, 0, 255)</td>
</tr>
<tr>
<td>BlueViolet</td>
<td><font color=#8A2BE2>#8A2BE2</font></td>
<td>rgb(138, 43, 226)</td>
</tr>
<tr>
<td>Brown</td>
<td><font color=#A52A2A>#A52A2A</font></td>
<td>rgb(165, 42, 42)</td>
</tr>
<tr>
<td>BurlyWood</td>
<td><font color=#DEB887>#DEB887</font></td>
<td>rgb(222, 184, 135)</td>
</tr>
<tr>
<td>CadetBlue</td>
<td><font color=#5F9EA0>#5F9EA0</font></td>
<td>rgb(95, 158, 160)</td>
</tr>
<tr>
<td>Chartreuse</td>
<td><font color=#7FFF00>#7FFF00</font></td>
<td>rgb(127, 255, 0)</td>
</tr>
<tr>
<td>Chocolate</td>
<td><font color=#D2691E>#D2691E</font></td>
<td>rgb(210, 105, 30)</td>
</tr>
<tr>
<td>Coral</td>
<td><font color=#FF7F50>#FF7F50</font></td>
<td>rgb(255, 127, 80)</td>
</tr>
<tr>
<td>CornflowerBlue</td>
<td><font color=#6495ED>#6495ED</font></td>
<td>rgb(100, 149, 237)</td>
</tr>
<tr>
<td>Cornsilk</td>
<td><font color=#FFF8DC>#FFF8DC</font></td>
<td>rgb(255, 248, 220)</td>
</tr>
<tr>
<td>Crimson</td>
<td><font color=#DC143C>#DC143C</font></td>
<td>rgb(220, 20, 60)</td>
</tr>
<tr>
<td>Cyan</td>
<td><font color=#00FFFF>#00FFFF</font></td>
<td>rgb(0, 255, 255)</td>
</tr>
<tr>
<td>DarkBlue</td>
<td><font color=#00008B>#00008B</font></td>
<td>rgb(0, 0, 139)</td>
</tr>
<tr>
<td>DarkCyan</td>
<td><font color=#008B8B>#008B8B</font></td>
<td>rgb(0, 139, 139)</td>
</tr>
<tr>
<td>DarkGoldenRod</td>
<td><font color=#B8860B>#B8860B</font></td>
<td>rgb(184, 134, 11)</td>
</tr>
<tr>
<td>DarkGray</td>
<td><font color=#A9A9A9>#A9A9A9</font></td>
<td>rgb(169, 169, 169)</td>
</tr>
<tr>
<td>DarkGreen</td>
<td><font color=#006400>#006400</font></td>
<td>rgb(0, 100, 0)</td>
</tr>
<tr>
<td>DarkKhaki</td>
<td><font color=#BDB76B>#BDB76B</font></td>
<td>rgb(189, 183, 107)</td>
</tr>
<tr>
<td>DarkMagenta</td>
<td><font color=#8B008B>#8B008B</font></td>
<td>rgb(139, 0, 139)</td>
</tr>
<tr>
<td>DarkOliveGreen</td>
<td><font color=#556B2F>#556B2F</font></td>
<td>rgb(85, 107, 47)</td>
</tr>
<tr>
<td>Darkorange</td>
<td><font color=#FF8C00>#FF8C00</font></td>
<td>rgb(255, 140, 0)</td>
</tr>
<tr>
<td>DarkOrchid</td>
<td><font color=#9932CC>#9932CC</font></td>
<td>rgb(153, 50, 204)</td>
</tr>
<tr>
<td>DarkRed</td>
<td><font color=#8B0000>#8B0000</font></td>
<td>rgb(139, 0, 0)</td>
</tr>
<tr>
<td>DarkSalmon</td>
<td><font color=#E9967A>#E9967A</font></td>
<td>rgb(233, 150, 122)</td>
</tr>
<tr>
<td>DarkSeaGreen</td>
<td><font color=#8FBC8F>#8FBC8F</font></td>
<td>rgb(143, 188, 143)</td>
</tr>
<tr>
<td>DarkSlateBlue</td>
<td><font color=#483D8B>#483D8B</font></td>
<td>rgb(72, 61, 139)</td>
</tr>
<tr>
<td>DarkSlateGray</td>
<td><font color=#2F4F4F>#2F4F4F</font></td>
<td>rgb(47, 79, 79)</td>
</tr>
<tr>
<td>DarkTurquoise</td>
<td><font color=#00CED1>#00CED1</font></td>
<td>rgb(0, 206, 209)</td>
</tr>
<tr>
<td>DarkViolet</td>
<td><font color=#9400D3>#9400D3</font></td>
<td>rgb(148, 0, 211)</td>
</tr>
<tr>
<td>DeepPink</td>
<td><font color=#FF1493>#FF1493</font></td>
<td>rgb(255, 20, 147)</td>
</tr>
<tr>
<td>DeepSkyBlue</td>
<td><font color=#00BFFF>#00BFFF</font></td>
<td>rgb(0, 191, 255)</td>
</tr>
<tr>
<td>DimGray</td>
<td><font color=#696969>#696969</font></td>
<td>rgb(105, 105, 105)</td>
</tr>
<tr>
<td>DodgerBlue</td>
<td><font color=#1E90FF>#1E90FF</font></td>
<td>rgb(30, 144, 255)</td>
</tr>
<tr>
<td>Feldspar</td>
<td><font color=#D19275>#D19275</font></td>
<td>rgb(209, 146, 117)</td>
</tr>
<tr>
<td>FireBrick</td>
<td><font color=#B22222>#B22222</font></td>
<td>rgb(178, 34, 34)</td>
</tr>
<tr>
<td>FloralWhite</td>
<td><font color=#FFFAF0>#FFFAF0</font></td>
<td>rgb(255, 250, 240)</td>
</tr>
<tr>
<td>ForestGreen</td>
<td><font color=#228B22>#228B22</font></td>
<td>rgb(34, 139, 34)</td>
</tr>
<tr>
<td>Fuchsia</td>
<td><font color=#FF00FF>#FF00FF</font></td>
<td>rgb(255, 0, 255)</td>
</tr>
<tr>
<td>Gainsboro</td>
<td><font color=#DCDCDC>#DCDCDC</font></td>
<td>rgb(220, 220, 220)</td>
</tr>
<tr>
<td>GhostWhite</td>
<td><font color=#F8F8FF>#F8F8FF</font></td>
<td>rgb(248, 248, 255)</td>
</tr>
<tr>
<td>Gold</td>
<td><font color=#FFD700>#FFD700</font></td>
<td>rgb(255, 215, 0)</td>
</tr>
<tr>
<td>GoldenRod</td>
<td><font color=#DAA520>#DAA520</font></td>
<td>rgb(218, 165, 32)</td>
</tr>
<tr>
<td>Gray</td>
<td><font color=#808080>#808080</font></td>
<td>rgb(128, 128, 128)</td>
</tr>
<tr>
<td>Green</td>
<td><font color=#008000>#008000</font></td>
<td>rgb(0, 128, 0)</td>
</tr>
<tr>
<td>GreenYellow</td>
<td><font color=#ADFF2F>#ADFF2F</font></td>
<td>rgb(173, 255, 47)</td>
</tr>
<tr>
<td>HoneyDew</td>
<td><font color=#F0FFF0>#F0FFF0</font></td>
<td>rgb(240, 255, 240)</td>
</tr>
<tr>
<td>HotPink</td>
<td><font color=#FF69B4>#FF69B4</font></td>
<td>rgb(255, 105, 180)</td>
</tr>
<tr>
<td>IndianRed</td>
<td><font color=#CD5C5C>#CD5C5C</font></td>
<td>rgb(205, 92, 92)</td>
</tr>
<tr>
<td>Indigo</td>
<td><font color=#4B0082>#4B0082</font></td>
<td>rgb(75, 0, 130)</td>
</tr>
<tr>
<td>Ivory</td>
<td><font color=#FFFFF0>#FFFFF0</font></td>
<td>rgb(255, 255, 240)</td>
</tr>
<tr>
<td>Khaki</td>
<td><font color=#F0E68C>#F0E68C</font></td>
<td>rgb(240, 230, 140)</td>
</tr>
<tr>
<td>Lavender</td>
<td><font color=#E6E6FA>#E6E6FA</font></td>
<td>rgb(230, 230, 250)</td>
</tr>
<tr>
<td>LavenderBlush</td>
<td><font color=#FFF0F5>#FFF0F5</font></td>
<td>rgb(255, 240, 245)</td>
</tr>
<tr>
<td>LawnGreen</td>
<td><font color=#7CFC00>#7CFC00</font></td>
<td>rgb(124, 252, 0)</td>
</tr>
<tr>
<td>LemonChiffon</td>
<td><font color=#FFFACD>#FFFACD</font></td>
<td>rgb(255, 250, 205)</td>
</tr>
<tr>
<td>LightBlue</td>
<td><font color=#ADD8E6>#ADD8E6</font></td>
<td>rgb(173, 216, 230)</td>
</tr>
<tr>
<td>LightCoral</td>
<td><font color=#F08080>#F08080</font></td>
<td>rgb(240, 128, 128)</td>
</tr>
<tr>
<td>LightCyan</td>
<td><font color=#E0FFFF>#E0FFFF</font></td>
<td>rgb(224, 255, 255)</td>
</tr>
<tr>
<td>LightGoldenRodYellow</td>
<td><font color=#FAFAD2>#FAFAD2</font></td>
<td>rgb(250, 250, 210)</td>
</tr>
<tr>
<td>LightGrey</td>
<td><font color=#D3D3D3>#D3D3D3</font></td>
<td>rgb(211, 211, 211)</td>
</tr>
<tr>
<td>LightGreen</td>
<td><font color=#90EE90>#90EE90</font></td>
<td>rgb(144, 238, 144)</td>
</tr>
<tr>
<td>LightPink</td>
<td><font color=#FFB6C1>#FFB6C1</font></td>
<td>rgb(255, 182, 193)</td>
</tr>
<tr>
<td>LightSalmon</td>
<td><font color=#FFA07A>#FFA07A</font></td>
<td>rgb(255, 160, 122)</td>
</tr>
<tr>
<td>LightSeaGreen</td>
<td><font color=#20B2AA>#20B2AA</font></td>
<td>rgb(32, 178, 170)</td>
</tr>
<tr>
<td>LightSkyBlue</td>
<td><font color=#87CEFA>#87CEFA</font></td>
<td>rgb(135, 206, 250)</td>
</tr>
<tr>
<td>LightSlateBlue</td>
<td><font color=#8470FF>#8470FF</font></td>
<td>rgb(132, 112, 255)</td>
</tr>
<tr>
<td>LightSlateGray</td>
<td><font color=#778899>#778899</font></td>
<td>rgb(119, 136, 153)</td>
</tr>
<tr>
<td>LightSteelBlue</td>
<td><font color=#B0C4DE>#B0C4DE</font></td>
<td>rgb(176, 196, 222)</td>
</tr>
<tr>
<td>LightYellow</td>
<td><font color=#FFFFE0>#FFFFE0</font></td>
<td>rgb(255, 255, 224)</td>
</tr>
<tr>
<td>Lime</td>
<td><font color=#00FF00>#00FF00</font></td>
<td>rgb(0, 255, 0)</td>
</tr>
<tr>
<td>LimeGreen</td>
<td><font color=#32CD32>#32CD32</font></td>
<td>rgb(50, 205, 50)</td>
</tr>
<tr>
<td>Linen</td>
<td><font color=#FAF0E6>#FAF0E6</font></td>
<td>rgb(250, 240, 230)</td>
</tr>
<tr>
<td>Magenta</td>
<td><font color=#FF00FF>#FF00FF</font></td>
<td>rgb(255, 0, 255)</td>
</tr>
<tr>
<td>Maroon</td>
<td><font color=#800000>#800000</font></td>
<td>rgb(128, 0, 0)</td>
</tr>
<tr>
<td>MediumAquaMarine</td>
<td><font color=#66CDAA>#66CDAA</font></td>
<td>rgb(102, 205, 170)</td>
</tr>
<tr>
<td>MediumBlue</td>
<td><font color=#0000CD>#0000CD</font></td>
<td>rgb(0, 0, 205)</td>
</tr>
<tr>
<td>MediumOrchid</td>
<td><font color=#BA55D3>#BA55D3</font></td>
<td>rgb(186, 85, 211)</td>
</tr>
<tr>
<td>MediumPurple</td>
<td><font color=#9370D8>#9370D8</font></td>
<td>rgb(147, 112, 216)</td>
</tr>
<tr>
<td>MediumSeaGreen</td>
<td><font color=#3CB371>#3CB371</font></td>
<td>rgb(60, 179, 113)</td>
</tr>
<tr>
<td>MediumSlateBlue</td>
<td><font color=#7B68EE>#7B68EE</font></td>
<td>rgb(123, 104, 238)</td>
</tr>
<tr>
<td>MediumSpringGreen</td>
<td><font color=#00FA9A>#00FA9A</font></td>
<td>rgb(0, 250, 154)</td>
</tr>
<tr>
<td>MediumTurquoise</td>
<td><font color=#48D1CC>#48D1CC</font></td>
<td>rgb(72, 209, 204)</td>
</tr>
<tr>
<td>MediumVioletRed</td>
<td><font color=#C71585>#C71585</font></td>
<td>rgb(199, 21, 133)</td>
</tr>
<tr>
<td>MidnightBlue</td>
<td><font color=#191970>#191970</font></td>
<td>rgb(25, 25, 112)</td>
</tr>
<tr>
<td>MintCream</td>
<td><font color=#F5FFFA>#F5FFFA</font></td>
<td>rgb(245, 255, 250)</td>
</tr>
<tr>
<td>MistyRose</td>
<td><font color=#FFE4E1>#FFE4E1</font></td>
<td>rgb(255, 228, 225)</td>
</tr>
<tr>
<td>Moccasin</td>
<td><font color=#FFE4B5>#FFE4B5</font></td>
<td>rgb(255, 228, 181)</td>
</tr>
<tr>
<td>NavajoWhite</td>
<td><font color=#FFDEAD>#FFDEAD</font></td>
<td>rgb(255, 222, 173)</td>
</tr>
<tr>
<td>Navy</td>
<td><font color=#000080>#000080</font></td>
<td>rgb(0, 0, 128)</td>
</tr>
<tr>
<td>OldLace</td>
<td><font color=#FDF5E6>#FDF5E6</font></td>
<td>rgb(253, 245, 230)</td>
</tr>
<tr>
<td>Olive</td>
<td><font color=#808000>#808000</font></td>
<td>rgb(128, 128, 0)</td>
</tr>
<tr>
<td>OliveDrab</td>
<td><font color=#6B8E23>#6B8E23</font></td>
<td>rgb(107, 142, 35)</td>
</tr>
<tr>
<td>Orange</td>
<td><font color=#FFA500>#FFA500</font></td>
<td>rgb(255, 165, 0)</td>
</tr>
<tr>
<td>OrangeRed</td>
<td><font color=#FF4500>#FF4500</font></td>
<td>rgb(255, 69, 0)</td>
</tr>
<tr>
<td>Orchid</td>
<td><font color=#DA70D6>#DA70D6</font></td>
<td>rgb(218, 112, 214)</td>
</tr>
<tr>
<td>PaleGoldenRod</td>
<td><font color=#EEE8AA>#EEE8AA</font></td>
<td>rgb(238, 232, 170)</td>
</tr>
<tr>
<td>PaleGreen</td>
<td><font color=#98FB98>#98FB98</font></td>
<td>rgb(152, 251, 152)</td>
</tr>
<tr>
<td>PaleTurquoise</td>
<td><font color=#AFEEEE>#AFEEEE</font></td>
<td>rgb(175, 238, 238)</td>
</tr>
<tr>
<td>PaleVioletRed</td>
<td><font color=#D87093>#D87093</font></td>
<td>rgb(216, 112, 147)</td>
</tr>
<tr>
<td>PapayaWhip</td>
<td><font color=#FFEFD5>#FFEFD5</font></td>
<td>rgb(255, 239, 213)</td>
</tr>
<tr>
<td>PeachPuff</td>
<td><font color=#FFDAB9>#FFDAB9</font></td>
<td>rgb(255, 218, 185)</td>
</tr>
<tr>
<td>Peru</td>
<td><font color=#CD853F>#CD853F</font></td>
<td>rgb(205, 133, 63)</td>
</tr>
<tr>
<td>Pink</td>
<td><font color=#FFC0CB>#FFC0CB</font></td>
<td>rgb(255, 192, 203)</td>
</tr>
<tr>
<td>Plum</td>
<td><font color=#DDA0DD>#DDA0DD</font></td>
<td>rgb(221, 160, 221)</td>
</tr>
<tr>
<td>PowderBlue</td>
<td><font color=#B0E0E6>#B0E0E6</font></td>
<td>rgb(176, 224, 230)</td>
</tr>
<tr>
<td>Purple</td>
<td><font color=#800080>#800080</font></td>
<td>rgb(128, 0, 128)</td>
</tr>
<tr>
<td>Red</td>
<td><font color=#FF0000>#FF0000</font></td>
<td>rgb(255, 0, 0)</td>
</tr>
<tr>
<td>RosyBrown</td>
<td><font color=#BC8F8F>#BC8F8F</font></td>
<td>rgb(188, 143, 143)</td>
</tr>
<tr>
<td>RoyalBlue</td>
<td><font color=#4169E1>#4169E1</font></td>
<td>rgb(65, 105, 225)</td>
</tr>
<tr>
<td>SaddleBrown</td>
<td><font color=#8B4513>#8B4513</font></td>
<td>rgb(139, 69, 19)</td>
</tr>
<tr>
<td>Salmon</td>
<td><font color=#FA8072>#FA8072</font></td>
<td>rgb(250, 128, 114)</td>
</tr>
<tr>
<td>SandyBrown</td>
<td><font color=#F4A460>#F4A460</font></td>
<td>rgb(244, 164, 96)</td>
</tr>
<tr>
<td>SeaGreen</td>
<td><font color=#2E8B57>#2E8B57</font></td>
<td>rgb(46, 139, 87)</td>
</tr>
<tr>
<td>SeaShell</td>
<td><font color=#FFF5EE>#FFF5EE</font></td>
<td>rgb(255, 245, 238)</td>
</tr>
<tr>
<td>Sienna</td>
<td><font color=#A0522D>#A0522D</font></td>
<td>rgb(160, 82, 45)</td>
</tr>
<tr>
<td>Silver</td>
<td><font color=#C0C0C0>#C0C0C0</font></td>
<td>rgb(192, 192, 192)</td>
</tr>
<tr>
<td>SkyBlue</td>
<td><font color=#87CEEB>#87CEEB</font></td>
<td>rgb(135, 206, 235)</td>
</tr>
<tr>
<td>SlateBlue</td>
<td><font color=#6A5ACD>#6A5ACD</font></td>
<td>rgb(106, 90, 205)</td>
</tr>
<tr>
<td>SlateGray</td>
<td><font color=#708090>#708090</font></td>
<td>rgb(112, 128, 144)</td>
</tr>
<tr>
<td>Snow</td>
<td><font color=#FFFAFA>#FFFAFA</font></td>
<td>rgb(255, 250, 250)</td>
</tr>
<tr>
<td>SpringGreen</td>
<td><font color=#00FF7F>#00FF7F</font></td>
<td>rgb(0, 255, 127)</td>
</tr>
<tr>
<td>SteelBlue</td>
<td><font color=#4682B4>#4682B4</font></td>
<td>rgb(70, 130, 180)</td>
</tr>
<tr>
<td>Tan</td>
<td><font color=#D2B48C>#D2B48C</font></td>
<td>rgb(210, 180, 140)</td>
</tr>
<tr>
<td>Teal</td>
<td><font color=#008080>#008080</font></td>
<td>rgb(0, 128, 128)</td>
</tr>
<tr>
<td>Thistle</td>
<td><font color=#D8BFD8>#D8BFD8</font></td>
<td>rgb(216, 191, 216)</td>
</tr>
<tr>
<td>Tomato</td>
<td><font color=#FF6347>#FF6347</font></td>
<td>rgb(255, 99, 71)</td>
</tr>
<tr>
<td>Turquoise</td>
<td><font color=#40E0D0>#40E0D0</font></td>
<td>rgb(64, 224, 208)</td>
</tr>
<tr>
<td>Violet</td>
<td><font color=#EE82EE>#EE82EE</font></td>
<td>rgb(238, 130, 238)</td>
</tr>
<tr>
<td>VioletRed</td>
<td><font color=#D02090>#D02090</font></td>
<td>rgb(208, 32, 144)</td>
</tr>
<tr>
<td>Wheat</td>
<td><font color=#F5DEB3>#F5DEB3</font></td>
<td>rgb(245, 222, 179)</td>
</tr>
<tr>
<td>White</td>
<td><font color=#FFFFFF>#FFFFFF</font></td>
<td>rgb(255, 255, 255)</td>
</tr>
<tr>
<td>WhiteSmoke</td>
<td><font color=#F5F5F5>#F5F5F5</font></td>
<td>rgb(245, 245, 245)</td>
</tr>
<tr>
<td>Yellow</td>
<td><font color=#FFFF00>#FFFF00</font></td>
<td>rgb(255, 255, 0)</td>
</tr>
<tr>
<td>YellowGreen</td>
<td><font color=#9ACD32>#9ACD32</font></td>
<td>rgb(154, 205, 50)</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>markdown</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>mysql操作json字段删除其中一项</title>
    <url>/20221129/mysql%E6%93%8D%E4%BD%9Cjson%E5%AD%97%E6%AE%B5%E5%88%A0%E9%99%A4%E5%85%B6%E4%B8%AD%E4%B8%80%E9%A1%B9/</url>
    <content><![CDATA[<h2 id="查询某个数据是否存在于数组"><a href="#查询某个数据是否存在于数组" class="headerlink" title="查询某个数据是否存在于数组"></a>查询某个数据是否存在于数组</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	id,</span><br><span class="line">	jsons</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	<span class="keyword">table</span></span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	JSON_CONTAINS(jsons, <span class="string">&#x27;&quot;测试&quot;&#x27;</span>, <span class="string">&#x27;$&#x27;</span> )<span class="operator">=</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h2 id="从数组中删除指定值"><a href="#从数组中删除指定值" class="headerlink" title="从数组中删除指定值"></a>从数组中删除指定值</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">table</span> </span><br><span class="line"><span class="keyword">SET</span> </span><br><span class="line">jsons <span class="operator">=</span> JSON_REMOVE(jsons, JSON_UNQUOTE(JSON_SEARCH( jsons, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;测试&#x27;</span> )))</span><br><span class="line"><span class="keyword">WHERE</span> JSON_CONTAINS(jsons, <span class="string">&#x27;&quot;测试&quot;&#x27;</span>, <span class="string">&#x27;$&#x27;</span> )<span class="operator">=</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h2 id="关于mysql-JSON的函数"><a href="#关于mysql-JSON的函数" class="headerlink" title="关于mysql JSON的函数"></a>关于mysql JSON的函数</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">JSON_ARRAY 生成json数组</span><br><span class="line">JSON_OBJECT 生成json对象</span><br><span class="line">JSON_QUOTE 加&quot;号</span><br><span class="line">JSON_CONTAINS 指定数据是否存在</span><br><span class="line">JSON_CONTAINS_PATH 指定路径是否存在</span><br><span class="line">JSON_EXTRACT 查找所有指定数据</span><br><span class="line">JSON_KEYS 查找所有指定键值</span><br><span class="line">JSON_SEARCH 查找所有指定值的位置</span><br><span class="line">JSON_ARRAY_APPEND  指定位置追加数组元素</span><br><span class="line">JSON_ARRAY_INSERT 指定位置插入数组元素</span><br><span class="line">JSON_INSERT 指定位置插入</span><br><span class="line">JSON_REPLACE 指定位置替换</span><br><span class="line">JSON_SET 指定位置设置</span><br><span class="line">JSON_MERGE 合并</span><br><span class="line">JSON_REMOVE 指定位置移除</span><br><span class="line">JSON_UNQUOTE 去&quot;号</span><br><span class="line">JSON_DEPTH 深度</span><br><span class="line">JSON_LENGTH 长度</span><br><span class="line">JSON_TYPE 类型</span><br><span class="line">JSON_VALID 是否有效json格式</span><br></pre></td></tr></table></figure>

<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><h3 id="JSON-ARRAY"><a href="#JSON-ARRAY" class="headerlink" title="JSON_ARRAY"></a>JSON_ARRAY</h3>]]></content>
      <categories>
        <category>mysql</category>
      </categories>
      <tags>
        <tag>json</tag>
      </tags>
  </entry>
  <entry>
    <title>PhantomJS通过HTML转图片</title>
    <url>/20221129/PhantomJS%E9%80%9A%E8%BF%87HTML%E8%BD%AC%E5%9B%BE%E7%89%87/</url>
    <content><![CDATA[<h2 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h2><p>负责转换的服务器需要先安装phantomjs</p>
<ul>
<li><a href="http://npm.taobao.org/dist/phantomjs/">淘宝镜像下载地址</a></li>
<li><a href="https://phantomjs.org/download.html">官方下载地址</a></li>
<li>解压放于软件目录即可<blockquote>
<p>如：C:\tools\phantomjs-2.1.1-windows</p>
</blockquote>
</li>
</ul>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><ul>
<li><a href="https://phantomjs.org/api/webpage/method/child-frames-count.html">官方API</a></li>
</ul>
<h4 id="java代码"><a href="#java代码" class="headerlink" title="java代码"></a>java代码</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itvita.system;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        sb.append(<span class="string">&quot;C:\\tools\\phantomjs-2.1.1-windows\\bin\\phantomjs.exe &quot;</span>); <span class="comment">//phantomjs 安装地址</span></span><br><span class="line">        sb.append(<span class="string">&quot;C:\\Users\\liuqiang\\Desktop\\test\\script.js &quot;</span>); <span class="comment">//脚本地址</span></span><br><span class="line">        sb.append(<span class="string">&quot;https://www.baidu.com/s?tn=59044660_hao_pg&amp;ie=utf-8&amp;wd=1 &quot;</span>);<span class="comment">//html源地址</span></span><br><span class="line">        sb.append(<span class="string">&quot;C:\\Users\\liuqiang\\Desktop\\test\\baidu.png &quot;</span>);<span class="comment">//图片存放地址</span></span><br><span class="line">        sb.append(<span class="string">&quot;1 &quot;</span>);<span class="comment">//缩放级别</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Process</span> <span class="variable">process</span> <span class="operator">=</span> Runtime.getRuntime().exec(sb.toString());<span class="comment">//你的图片输出路径</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> process.getInputStream();</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(inputStream));</span><br><span class="line">        String r;</span><br><span class="line">        <span class="keyword">while</span> ((r = reader.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">            log.info(<span class="string">&quot;PhantomJS输出：&#123;&#125;&quot;</span>, r);</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;done&quot;</span>.equals(r)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (process != <span class="literal">null</span>) &#123;</span><br><span class="line">                    process.destroy();</span><br><span class="line">                    process = <span class="literal">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (reader != <span class="literal">null</span>) &#123;</span><br><span class="line">            reader.close();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;渲染结束...&quot;</span>);</span><br><span class="line">        inputStream.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="javascript脚本代码"><a href="#javascript脚本代码" class="headerlink" title="javascript脚本代码"></a>javascript脚本代码</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * phantomJs 脚本 */</span></span><br><span class="line"><span class="keyword">var</span> page = <span class="built_in">require</span>(<span class="string">&quot;webpage&quot;</span>).<span class="title function_">create</span>(),</span><br><span class="line">  system = <span class="built_in">require</span>(<span class="string">&quot;system&quot;</span>),</span><br><span class="line">  address,</span><br><span class="line">  output,</span><br><span class="line">  size;</span><br><span class="line"><span class="keyword">if</span> (system.<span class="property">args</span>.<span class="property">length</span> &lt; <span class="number">3</span> || system.<span class="property">args</span>.<span class="property">length</span> &gt; <span class="number">5</span>) &#123;</span><br><span class="line">  phantom.<span class="title function_">exit</span>(<span class="number">1</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  address = system.<span class="property">args</span>[<span class="number">1</span>]; <span class="comment">//转换地址</span></span><br><span class="line">  output = system.<span class="property">args</span>[<span class="number">2</span>]; <span class="comment">//输出地址</span></span><br><span class="line">  page.<span class="property">zoomFactor</span> = system.<span class="property">args</span>[<span class="number">3</span>]; <span class="comment">//比例缩放</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(address, output, page.<span class="property">zoomFactor</span>)</span><br><span class="line">  page.<span class="title function_">open</span>(address, <span class="keyword">function</span>(<span class="params">status</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Status: &quot;</span> + status);</span><br><span class="line">    <span class="keyword">if</span> (status === <span class="string">&quot;success&quot;</span>) &#123;</span><br><span class="line">      page.<span class="title function_">render</span>(output);</span><br><span class="line">    &#125;</span><br><span class="line">    page.<span class="title function_">close</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;done&quot;</span>);</span><br><span class="line">    phantom.<span class="title function_">exit</span>();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>html</category>
      </categories>
      <tags>
        <tag>phantomjs</tag>
        <tag>html</tag>
      </tags>
  </entry>
  <entry>
    <title>redis加入windows服务</title>
    <url>/20221129/redis%E5%8A%A0%E5%85%A5windows%E6%9C%8D%E5%8A%A1/</url>
    <content><![CDATA[<h2 id="安装命令"><a href="#安装命令" class="headerlink" title="安装命令:"></a>安装命令:</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">redis-server.exe --service-install redis.windows.conf --loglevel verbose </span><br></pre></td></tr></table></figure>
<h2 id="卸载命令："><a href="#卸载命令：" class="headerlink" title="卸载命令："></a>卸载命令：</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">redis-server --service-uninstall  </span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>redis</category>
      </categories>
      <tags>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title>nginx推流服务器搭建</title>
    <url>/20221129/nginx%E6%8E%A8%E6%B5%81%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<h2 id="预先下载"><a href="#预先下载" class="headerlink" title="预先下载"></a>预先下载</h2><blockquote>
<p>nginx rtmp版本</p>
</blockquote>
<ol>
<li>nginx 1.7.11.3 Gryphon.zip 下载地址：<a href="http://nginx-win.ecsds.eu/download/">http://nginx-win.ecsds.eu/download/</a><blockquote>
<p>nginx rtmp监控</p>
</blockquote>
</li>
<li>nginx-rtmp-module-master.zip 下载地址：<a href="https://github.com/arut/nginx-rtmp-module/">https://github.com/arut/nginx-rtmp-module/</a><blockquote>
<p>直播推流</p>
</blockquote>
</li>
<li>OBS(Open Broadcaster Software) 下载地址：<a href="https://obsproject.com/">https://obsproject.com</a><blockquote>
<p>rtmp播放器</p>
</blockquote>
</li>
<li>VLC 播放器 下载地址：<a href="https://www.videolan.org/">https://www.videolan.org/</a></li>
</ol>
<h2 id="安装nginx"><a href="#安装nginx" class="headerlink" title="安装nginx"></a>安装nginx</h2><p>。。。</p>
<h2 id="安装rtmp监控"><a href="#安装rtmp监控" class="headerlink" title="安装rtmp监控"></a>安装rtmp监控</h2><p>只需解压  nginx-rtmp-module-master 到nginx目录</p>
<h2 id="nginx-conf-配置"><a href="#nginx-conf-配置" class="headerlink" title="nginx.conf 配置"></a>nginx.conf 配置</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">worker_processes  1;   #Nginx进程数，建议设置为等于CPU总核数</span><br><span class="line"> </span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;  #工作模式与连接数上限</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">rtmp_auto_push on;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">#RTMP服务</span><br><span class="line">rtmp  &#123;</span><br><span class="line">    server  &#123;</span><br><span class="line">        listen 1935;</span><br><span class="line">        chunk_size 4096;</span><br><span class="line">        application live  &#123;</span><br><span class="line">            live on;</span><br><span class="line">            record off;</span><br><span class="line">        &#125;</span><br><span class="line">        application live2  &#123;</span><br><span class="line">            live on;</span><br><span class="line">            record off;</span><br><span class="line">        &#125;</span><br><span class="line">        application vod  &#123;</span><br><span class="line">            play /var/flvs;</span><br><span class="line">        &#125;</span><br><span class="line">        application vod_http  &#123;</span><br><span class="line">            play http://127.0.0.1/vod;</span><br><span class="line">        &#125;</span><br><span class="line">        application hls  &#123;</span><br><span class="line">            live on;</span><br><span class="line">            hls on;</span><br><span class="line">            hls_path /tmp/hls;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">#HTTP服务</span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"> </span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  localhost;</span><br><span class="line"> </span><br><span class="line">        location / &#123;</span><br><span class="line">            root   html;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        location /live_hls&#123;</span><br><span class="line">		    types&#123;</span><br><span class="line">			    #m3u8 type设置</span><br><span class="line">				application/vnd.apple.mpegurl m3u8;</span><br><span class="line">				#ts分片文件设置</span><br><span class="line">				video/mp2t ts;</span><br><span class="line">			&#125;</span><br><span class="line">			#指向访问m3u8文件目录</span><br><span class="line">			alias ./m3u8File;</span><br><span class="line">			    add_header Cache-Control no-cache; #禁止缓存</span><br><span class="line">		&#125;</span><br><span class="line"> </span><br><span class="line">        location /control&#123;</span><br><span class="line">		    rtmp_control all;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		location /stat&#123;</span><br><span class="line">		    rtmp_stat all;</span><br><span class="line">			rtmp_stat_stylesheet stat.xsl;</span><br><span class="line">		&#125;</span><br><span class="line">		location /stat.xsl&#123;</span><br><span class="line">		    root ./nginx-rtmp-module-master;</span><br><span class="line">		&#125;</span><br><span class="line"> </span><br><span class="line">        # redirect server error pages to the static page /50x.html</span><br><span class="line">        #</span><br><span class="line">        error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="nginx-常用命令"><a href="#nginx-常用命令" class="headerlink" title="nginx 常用命令"></a>nginx 常用命令</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">start nginx # 开启nginx</span><br><span class="line">nginx -s stop # 关闭nginx</span><br><span class="line">nginx -s reload # 重新启动nginx</span><br><span class="line">nginx -v # 查看版本号</span><br><span class="line">nginx -t # 验证配置文件是否正确</span><br></pre></td></tr></table></figure>

<h2 id="开启nginx"><a href="#开启nginx" class="headerlink" title="开启nginx"></a>开启nginx</h2><p>start .&#x2F;nginx.exe</p>
<h2 id="监控地址"><a href="#监控地址" class="headerlink" title="监控地址"></a>监控地址</h2><p><a href="http://127.0.0.1/stat">http://127.0.0.1/stat</a><br>可以查看直播监控状态</p>
<h2 id="推流"><a href="#推流" class="headerlink" title="推流"></a>推流</h2><ol>
<li>打开 OBS</li>
<li>添加场景</li>
<li>添加来源</li>
<li>开始推流</li>
<li>设置-&gt;推流-&gt;服务器设置为：rtmp:&#x2F;&#x2F;127.0.0.1:1935&#x2F;live</li>
<li>登录监控地址<a href="http://127.0.0.1/stat">http://127.0.0.1/stat</a> 可以看到推流数据</li>
</ol>
<h2 id="拉流"><a href="#拉流" class="headerlink" title="拉流"></a>拉流</h2><ol>
<li>打开VCL</li>
<li>媒体-&gt;打开网络串流-&gt;url设置为：rtmp:&#x2F;&#x2F;127.0.0.1:1935&#x2F;live</li>
</ol>
<h2 id="ffmpeg-转播摄像头画面"><a href="#ffmpeg-转播摄像头画面" class="headerlink" title="ffmpeg 转播摄像头画面"></a>ffmpeg 转播摄像头画面</h2><h2 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h2><p><a href="https://github.com/FFmpeg/FFmpeg/releases">https://github.com/FFmpeg/FFmpeg/releases</a></p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>。。。</p>
<h2 id="大华摄像头rtsp地址"><a href="#大华摄像头rtsp地址" class="headerlink" title="大华摄像头rtsp地址"></a>大华摄像头rtsp地址</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rtsp://帐号:密码@摄像头IP/cam/realmonitor?channel=1&amp;subtype=1</span><br></pre></td></tr></table></figure>
<h2 id="海康摄像头rtsp地址"><a href="#海康摄像头rtsp地址" class="headerlink" title="海康摄像头rtsp地址"></a>海康摄像头rtsp地址</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rtsp://帐号:密码@摄像头IP/cam/realmonitor?channel=1&amp;subtype=1</span><br></pre></td></tr></table></figure>
<h2 id="转播到nginx-rstp"><a href="#转播到nginx-rstp" class="headerlink" title="转播到nginx rstp"></a>转播到nginx rstp</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ffmpeg -i &quot;rtsp://admin:a123456789@192.168.31.27/cam/realmonitor?channel=1&amp;subtype=1&quot; -vcodec copy -acodec copy -f flv &quot;rtmp://127.0.0.1:1935/live&quot;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>nginx</category>
      </categories>
      <tags>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>springboot动态数据源</title>
    <url>/20221129/springboot%E5%8A%A8%E6%80%81%E6%95%B0%E6%8D%AE%E6%BA%90/</url>
    <content><![CDATA[<h3 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h3><ul>
<li>多数据源</li>
<li>通过注解切换数据源</li>
<li>通过传入参数动态切换数据源</li>
<li>可自定义切点等。。。</li>
</ul>
<h3 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h3><p><img src="https://cdn.jsdelivr.net/gh/itvita/resources@master/images/202201131055782.png"></p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><h4 id="数据源配置参数"><a href="#数据源配置参数" class="headerlink" title="数据源配置参数"></a>数据源配置参数</h4><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">dynamic:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">master:</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/db_iv?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&amp;serverTimezone=Asia/Shanghai</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">itvita2021</span></span><br><span class="line">    <span class="attr">slave1:</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/db_iv1?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&amp;serverTimezone=Asia/Shanghai</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">itvita2021</span></span><br></pre></td></tr></table></figure>

<h4 id="数据源KEY定义"><a href="#数据源KEY定义" class="headerlink" title="数据源KEY定义"></a>数据源KEY定义</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itvita.system.config.datasource.commons;</span><br><span class="line"></span><br><span class="line"><span class="comment">// @formatter:off</span></span><br><span class="line"><span class="comment">/**       猪猪保佑 永无bug</span></span><br><span class="line"><span class="comment"> *  _._ _..._ .-&#x27;,     _.._(`))</span></span><br><span class="line"><span class="comment"> * &#x27;-. `     &#x27;  /-._.-&#x27;    &#x27;,/</span></span><br><span class="line"><span class="comment"> *    )         \            &#x27;.</span></span><br><span class="line"><span class="comment"> *   / _    _    |             \</span></span><br><span class="line"><span class="comment"> *  |  a    a    /              |</span></span><br><span class="line"><span class="comment"> *  \   .-.                     ;</span></span><br><span class="line"><span class="comment"> *   &#x27;-(&#x27;&#x27; ).-&#x27;       ,&#x27;       ;</span></span><br><span class="line"><span class="comment"> *      &#x27;-;           |      .&#x27;</span></span><br><span class="line"><span class="comment"> *         \           \    /</span></span><br><span class="line"><span class="comment"> *         | 7  .__  _.-\   \</span></span><br><span class="line"><span class="comment"> *         | |  |  ``/  /`  /</span></span><br><span class="line"><span class="comment"> *        /,_|  |   /,_/   /</span></span><br><span class="line"><span class="comment"> *           /,_/      &#x27;`-&#x27;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> : liu.q [916000612@qq.com]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> : 2019-03-27 22:39</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> : 定义默认的数据源key</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// @formatter:on</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DSK</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">DB_MASTER</span> <span class="operator">=</span> <span class="string">&quot;DB_MASTER&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">DB_SLAVE1</span> <span class="operator">=</span> <span class="string">&quot;DB_SLAVE1&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="系统数据源配置"><a href="#系统数据源配置" class="headerlink" title="系统数据源配置"></a>系统数据源配置</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itvita.system.config.datasource.configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itvita.system.config.datasource.commons.DSK;</span><br><span class="line"><span class="keyword">import</span> cn.itvita.system.config.datasource.commons.DynamicRoutingDataSource;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.MybatisConfiguration;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.MybatisXMLLanguageDriver;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.type.JdbcType;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.SqlSessionFactoryBean;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.SqlSessionTemplate;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.transaction.SpringManagedTransactionFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Primary;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.io.support.PathMatchingResourcePatternResolver;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.datasource.DataSourceTransactionManager;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.PlatformTransactionManager;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> : liu.q [916000612@qq.com]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> : 2019-03-27 22:46</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> :系统数据源配置</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DynamicDataSourceConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;mybatis-plus.mapper-locations&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String mapperLocations;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;mybatis-plus.type-aliases-package&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String typeAliasesPackage;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 主数据源配置</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;dynamic.datasource.master.driver-class-name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String masterDriverClassName;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;dynamic.datasource.master.url&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String masterUrl;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;dynamic.datasource.master.username&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String masterUsername;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;dynamic.datasource.master.password&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String masterPassword;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 数据源1</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;dynamic.datasource.slave1.driver-class-name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String slave1DriverClassName;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;dynamic.datasource.slave1.url&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String slave1Url;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;dynamic.datasource.slave1.username&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String slave1Username;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;dynamic.datasource.slave1.password&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String slave1Password;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 创建数据源对象</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> data source</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Primary</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dbMaster</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        dataSource.setDriverClassName(masterDriverClassName);</span><br><span class="line">        dataSource.setUrl(masterUrl);</span><br><span class="line">        dataSource.setUsername(masterUsername);</span><br><span class="line">        dataSource.setPassword(masterPassword);</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dbSlave1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        dataSource.setDriverClassName(slave1DriverClassName);</span><br><span class="line">        dataSource.setUrl(slave1Url);</span><br><span class="line">        dataSource.setUsername(slave1Username);</span><br><span class="line">        dataSource.setPassword(slave1Password);</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 数据源实例</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Author</span> : liu.q [916000612@qq.com]</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Date</span> : 2019-03-27 22:44</span></span><br><span class="line"><span class="comment">     * 核心动态数据源 数据源整合</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dynamicDataSource</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">DynamicRoutingDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DynamicRoutingDataSource</span>();</span><br><span class="line">        dataSource.setDefaultTargetDataSource(dbMaster());</span><br><span class="line">        Map&lt;Object, Object&gt; dataSourceMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(<span class="number">4</span>);</span><br><span class="line">        dataSourceMap.put(DSK.DB_MASTER, dbMaster());</span><br><span class="line">        dataSourceMap.put(DSK.DB_SLAVE1, dbSlave1());</span><br><span class="line">        dataSource.setTargetDataSources(dataSourceMap);</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SqlSessionFactory <span class="title function_">sqlSessionFactory</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">SqlSessionFactoryBean</span> <span class="variable">sqlSessionFactoryBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBean</span>();</span><br><span class="line">        sqlSessionFactoryBean.setDataSource(dynamicDataSource());</span><br><span class="line"></span><br><span class="line">        sqlSessionFactoryBean.setTypeAliasesPackage(typeAliasesPackage);</span><br><span class="line">        sqlSessionFactoryBean.setMapperLocations(<span class="keyword">new</span> <span class="title class_">PathMatchingResourcePatternResolver</span>().getResources(mapperLocations));</span><br><span class="line"></span><br><span class="line">        <span class="type">MybatisConfiguration</span> <span class="variable">configuration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisConfiguration</span>();</span><br><span class="line">        configuration.setDefaultScriptingLanguage(MybatisXMLLanguageDriver.class);</span><br><span class="line">        configuration.setJdbcTypeForNull(JdbcType.NULL);</span><br><span class="line">        sqlSessionFactoryBean.setConfiguration(configuration);</span><br><span class="line"></span><br><span class="line">        sqlSessionFactoryBean.setTransactionFactory(<span class="keyword">new</span> <span class="title class_">SpringManagedTransactionFactory</span>());</span><br><span class="line">        <span class="keyword">return</span> sqlSessionFactoryBean.getObject();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SqlSessionTemplate <span class="title function_">sqlSessionTemplate</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SqlSessionTemplate</span>(sqlSessionFactory());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 事务管理</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 事务管理实例</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> PlatformTransactionManager <span class="title function_">platformTransactionManager</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">DataSourceTransactionManager</span>(dynamicDataSource());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="数据源操作类"><a href="#数据源操作类" class="headerlink" title="数据源操作类"></a>数据源操作类</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itvita.system.config.datasource.commons;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="comment">// @formatter:off</span></span><br><span class="line"><span class="comment">/**       猪猪保佑 永无bug</span></span><br><span class="line"><span class="comment"> *  _._ _..._ .-&#x27;,     _.._(`))</span></span><br><span class="line"><span class="comment"> * &#x27;-. `     &#x27;  /-._.-&#x27;    &#x27;,/</span></span><br><span class="line"><span class="comment"> *    )         \            &#x27;.</span></span><br><span class="line"><span class="comment"> *   / _    _    |             \</span></span><br><span class="line"><span class="comment"> *  |  a    a    /              |</span></span><br><span class="line"><span class="comment"> *  \   .-.                     ;</span></span><br><span class="line"><span class="comment"> *   &#x27;-(&#x27;&#x27; ).-&#x27;       ,&#x27;       ;</span></span><br><span class="line"><span class="comment"> *      &#x27;-;           |      .&#x27;</span></span><br><span class="line"><span class="comment"> *         \           \    /</span></span><br><span class="line"><span class="comment"> *         | 7  .__  _.-\   \</span></span><br><span class="line"><span class="comment"> *         | |  |  ``/  /`  /</span></span><br><span class="line"><span class="comment"> *        /,_|  |   /,_/   /</span></span><br><span class="line"><span class="comment"> *           /,_/      &#x27;`-&#x27;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> : liu.q [916000612@qq.com]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> : 2019-03-27 22:43</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> : 数据源操作类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// @formatter:on</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DynamicDataSourceContextHolder</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;String&gt; currentDataSource = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 清除当前数据源</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">        currentDataSource.remove();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取当前使用的数据源</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 当前使用数据源的ID</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> currentDataSource.get();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置当前使用的数据源</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value 需要设置的数据源ID</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(String value)</span> &#123;</span><br><span class="line">        currentDataSource.set(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="动态数据源切换"><a href="#动态数据源切换" class="headerlink" title="动态数据源切换"></a>动态数据源切换</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itvita.system.config.datasource.commons;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.datasource.lookup.AbstractRoutingDataSource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ConcurrentHashMap;</span><br><span class="line"><span class="comment">// @formatter:off</span></span><br><span class="line"><span class="comment">/**       猪猪保佑 永无bug</span></span><br><span class="line"><span class="comment"> *  _._ _..._ .-&#x27;,     _.._(`))</span></span><br><span class="line"><span class="comment"> * &#x27;-. `     &#x27;  /-._.-&#x27;    &#x27;,/</span></span><br><span class="line"><span class="comment"> *    )         \            &#x27;.</span></span><br><span class="line"><span class="comment"> *   / _    _    |             \</span></span><br><span class="line"><span class="comment"> *  |  a    a    /              |</span></span><br><span class="line"><span class="comment"> *  \   .-.                     ;</span></span><br><span class="line"><span class="comment"> *   &#x27;-(&#x27;&#x27; ).-&#x27;       ,&#x27;       ;</span></span><br><span class="line"><span class="comment"> *      &#x27;-;           |      .&#x27;</span></span><br><span class="line"><span class="comment"> *         \           \    /</span></span><br><span class="line"><span class="comment"> *         | 7  .__  _.-\   \</span></span><br><span class="line"><span class="comment"> *         | |  |  ``/  /`  /</span></span><br><span class="line"><span class="comment"> *        /,_|  |   /,_/   /</span></span><br><span class="line"><span class="comment"> *           /,_/      &#x27;`-&#x27;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> : liu.q [916000612@qq.com]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> : 2019-03-27 22:43</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> : 动态数据源切换</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// @formatter:on</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DynamicRoutingDataSource</span> <span class="keyword">extends</span> <span class="title class_">AbstractRoutingDataSource</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//预备一份用于存储targetDataSource</span></span><br><span class="line">    <span class="keyword">private</span> ConcurrentHashMap&lt;String, DataSource&gt; backupTargetDataSources = <span class="keyword">new</span> <span class="title class_">ConcurrentHashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> Object <span class="title function_">determineCurrentLookupKey</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">k</span> <span class="operator">=</span> DynamicDataSourceContextHolder.get();</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">null</span> == k)&#123; <span class="comment">// 如果当前未设置数据源，系统会使用默认的数据源</span></span><br><span class="line">            k = DSK.DB_MASTER;</span><br><span class="line">            log.info(<span class="string">&quot;当前数据源为null,使用默认数据源&#123;&quot;</span> + k + <span class="string">&quot;&#125;&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            log.info(<span class="string">&quot;当前数据源&#123;&quot;</span> + k + <span class="string">&quot;&#125;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> DynamicDataSourceContextHolder.get();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addDataSourceToTargetDataSource</span><span class="params">(String key, DataSource ds)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.backupTargetDataSources.put(key, ds);</span><br><span class="line">        <span class="built_in">this</span>.setTargetDataSource(<span class="built_in">this</span>.backupTargetDataSources);</span><br><span class="line">        DynamicDataSourceContextHolder.set(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTargetDataSource</span><span class="params">(Map targetDataSource)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.setTargetDataSources(targetDataSource);</span><br><span class="line">        <span class="built_in">this</span>.afterPropertiesSet();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="自定义注解"><a href="#自定义注解" class="headerlink" title="自定义注解"></a>自定义注解</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itvita.system.config.datasource.annotation;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itvita.system.config.datasource.commons.DSK;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"><span class="comment">// @formatter:off</span></span><br><span class="line"><span class="comment">/**       猪猪保佑 永无bug</span></span><br><span class="line"><span class="comment"> *  _._ _..._ .-&#x27;,     _.._(`))</span></span><br><span class="line"><span class="comment"> * &#x27;-. `     &#x27;  /-._.-&#x27;    &#x27;,/</span></span><br><span class="line"><span class="comment"> *    )         \            &#x27;.</span></span><br><span class="line"><span class="comment"> *   / _    _    |             \</span></span><br><span class="line"><span class="comment"> *  |  a    a    /              |</span></span><br><span class="line"><span class="comment"> *  \   .-.                     ;</span></span><br><span class="line"><span class="comment"> *   &#x27;-(&#x27;&#x27; ).-&#x27;       ,&#x27;       ;</span></span><br><span class="line"><span class="comment"> *      &#x27;-;           |      .&#x27;</span></span><br><span class="line"><span class="comment"> *         \           \    /</span></span><br><span class="line"><span class="comment"> *         | 7  .__  _.-\   \</span></span><br><span class="line"><span class="comment"> *         | |  |  ``/  /`  /</span></span><br><span class="line"><span class="comment"> *        /,_|  |   /,_/   /</span></span><br><span class="line"><span class="comment"> *           /,_/      &#x27;`-&#x27;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> : liu.q [916000612@qq.com]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> : 2019-03-27 22:39</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> : 数据源切换注解</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// @formatter:on</span></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> DS &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span> <span class="keyword">default</span> DSK.DB_MASTER;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="动态切入数据源"><a href="#动态切入数据源" class="headerlink" title="动态切入数据源"></a>动态切入数据源</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itvita.system.config.datasource.commons;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itvita.system.config.datasource.annotation.DS;</span><br><span class="line"><span class="keyword">import</span> cn.itvita.system.config.datasource.annotation.DS;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.JoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.After;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Aspect;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Before;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Pointcut;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.reflect.MethodSignature;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.annotation.Order;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="comment">// @formatter:off</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 猪猪保佑 永无bug</span></span><br><span class="line"><span class="comment"> * _._ _..._ .-&#x27;,     _.._(`))</span></span><br><span class="line"><span class="comment"> * &#x27;-. `     &#x27;  /-._.-&#x27;    &#x27;,/</span></span><br><span class="line"><span class="comment"> * )         \            &#x27;.</span></span><br><span class="line"><span class="comment"> * / _    _    |             \</span></span><br><span class="line"><span class="comment"> * |  a    a    /              |</span></span><br><span class="line"><span class="comment"> * \   .-.                     ;</span></span><br><span class="line"><span class="comment"> * &#x27;-(&#x27;&#x27; ).-&#x27;       ,&#x27;       ;</span></span><br><span class="line"><span class="comment"> * &#x27;-;           |      .&#x27;</span></span><br><span class="line"><span class="comment"> * \           \    /</span></span><br><span class="line"><span class="comment"> * | 7  .__  _.-\   \</span></span><br><span class="line"><span class="comment"> * | |  |  ``/  /`  /</span></span><br><span class="line"><span class="comment"> * /,_|  |   /,_/   /</span></span><br><span class="line"><span class="comment"> * /,_/      &#x27;`-&#x27;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> : liu.q [916000612@qq.com]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> : 2019-03-27 22:40</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> : 动态切入数据源</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// @formatter:on</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Order(-1)</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DynamicDataSourceAspect</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> joinPoint 切点</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> ds        动态数据源</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Author</span> : liu.q [916000612@qq.com]</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Date</span> : 2019-03-27 22:40</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span> :执行方法前更换数据源</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Before(&quot;@annotation(ds)&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doBefore</span><span class="params">(JoinPoint joinPoint, DS ds)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">dataSourceKey</span> <span class="operator">=</span> ds.value();</span><br><span class="line">        log.info(String.format(<span class="string">&quot;设置数据源为  %s&quot;</span>, dataSourceKey));</span><br><span class="line">        DynamicDataSourceContextHolder.set(dataSourceKey);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> joinPoint 切点</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> ds        动态数据源</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Author</span> : liu.q [916000612@qq.com]</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Date</span> : 2019-03-27 22:41</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span> :执行方法后清除数据源设置</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@After(&quot;@annotation(ds)&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doAfter</span><span class="params">(JoinPoint joinPoint, DS ds)</span> &#123;</span><br><span class="line">        log.info(String.format(<span class="string">&quot;当前数据源  %s  执行清理方法&quot;</span>, ds.value()));</span><br><span class="line">        DynamicDataSourceContextHolder.clear();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="meta">@ApiOperation(&quot;查询用户列表&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/getList&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParams(&#123;</span></span><br><span class="line"><span class="meta">            @ApiImplicitParam(name = &quot;year&quot;, value = &quot;年份&quot;, required = true, paramType = &quot;query&quot;)</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    <span class="meta">@DS(DSK.DB_SLAVE1)</span>  <span class="comment">//通过注解设置数据源，不设置默认 主数据源</span></span><br><span class="line">    <span class="keyword">public</span> ReturnVo&lt;PageBean&lt;SysUser&gt;&gt; <span class="title function_">getList</span><span class="params">(Paging paging, String year)</span> &#123;</span><br><span class="line"><span class="comment">//        if (&quot;2021&quot;.equals(year)) &#123;  //通过传入参数动态设置数据源。</span></span><br><span class="line"><span class="comment">//            DynamicDataSourceContextHolder.set(DSK.DB_SLAVE1);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        PageUtil.Paging(paging, <span class="string">&quot;created_time desc&quot;</span>);</span><br><span class="line">        QueryWrapper&lt;SysUser&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>();</span><br><span class="line">        System.out.println(sysUserService.getByMap(<span class="keyword">new</span> <span class="title class_">HashMap</span>()));</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ReturnVo</span>(<span class="keyword">new</span> <span class="title class_">PageBean</span>(sysUserService.list(wrapper)));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>springboot</category>
      </categories>
      <tags>
        <tag>springboot</tag>
      </tags>
  </entry>
  <entry>
    <title>springboot服务调优</title>
    <url>/20221009/springboot%E6%9C%8D%E5%8A%A1%E8%B0%83%E4%BC%98/</url>
    <content><![CDATA[<blockquote>
<p>tomcat常用配置</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">## 等待队列长度，默认100。</span><br><span class="line">server.tomcat.accept-count=1000</span><br><span class="line">## 最大工作线程数，默认200。（4核8g内存，线程数经验值800，操作系统做线程之间的切换调度是有系统开销的，所以不是越多越好。）</span><br><span class="line">server.tomcat.max-threads=800</span><br><span class="line">## 最小工作空闲线程数，默认10。（适当增大一些，以便应对突然增长的访问量）</span><br><span class="line">server.tomcat.min-spare-threads=100</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改长链接keepAlive相关配置，保证路由策略的性能高效。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 当Spring容器内没有TomcatEmbeddedServletContainerFactory这个bean时，会把此bean加载金spring容器中</span><br><span class="line"> */</span><br><span class="line">@Component</span><br><span class="line">public class WebServerConfiguration implements WebServerFactoryCustomizer&lt;ConfigurableWebServerFactory&gt;&#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void customize(ConfigurableWebServerFactory factory) &#123;</span><br><span class="line">        // 使用对应工厂类提供给我们的接口定制化我们的tomcat connector</span><br><span class="line">        ((TomcatServletWebServerFactory) factory).addConnectorCustomizers(new TomcatConnectorCustomizer() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void customize(Connector connector) &#123;</span><br><span class="line">                Http11AprProtocol protocol = (Http11AprProtocol) connector.getProtocolHandler();</span><br><span class="line">                // 定制化keepAliveTimeout，设置30秒内没有请求则服务端自动断开keepalive链接</span><br><span class="line">                protocol.setKeepAliveTimeout(300000);</span><br><span class="line">                // 当客户端发送超过10000个请求则自动断开keepalive链接</span><br><span class="line">                protocol.setMaxKeepAliveRequests(10000);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>springboot</category>
      </categories>
      <tags>
        <tag>springboot</tag>
        <tag>tomcat</tag>
      </tags>
  </entry>
  <entry>
    <title>uniapp在线更新</title>
    <url>/20221029/uniapp%E5%9C%A8%E7%BA%BF%E6%9B%B4%E6%96%B0/</url>
    <content><![CDATA[<h3 id="说在前面"><a href="#说在前面" class="headerlink" title="说在前面"></a>说在前面</h3><ol>
<li>每次打开app检查版本</li>
<li>此处为强制更新，其他非强制更新，热更新等同理。</li>
</ol>
<h3 id="上代码"><a href="#上代码" class="headerlink" title="上代码"></a>上代码</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* APP版本更新</span></span><br><span class="line"><span class="comment"> res = &#123;</span></span><br><span class="line"><span class="comment"> 	code: 1,</span></span><br><span class="line"><span class="comment"> 	data: &#123;</span></span><br><span class="line"><span class="comment"> 		version: 200, //版本号</span></span><br><span class="line"><span class="comment"> 		iosLink: &#x27;&#x27;,</span></span><br><span class="line"><span class="comment"> 		androidLink: &#x27;http://192.168.1.49:8080/20210913110002.apk&#x27;,</span></span><br><span class="line"><span class="comment"> 		content: &#x27;1版本更新内容\n2版本更新内容\n3版本更新内容&#x27;</span></span><br><span class="line"><span class="comment"> 	&#125;</span></span><br><span class="line"><span class="comment"> &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">checkUpdate</span>(<span class="params"></span>) &#123;</span><br><span class="line">	$api(&#123;</span><br><span class="line">		<span class="attr">url</span>: $config.<span class="property">baseURL</span> + <span class="string">&#x27;/v1/appInfo&#x27;</span>,</span><br><span class="line">		<span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">		<span class="attr">data</span>: &#123;&#125;</span><br><span class="line">	&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (res.<span class="property">code</span> === <span class="number">1</span>) &#123;</span><br><span class="line">			<span class="keyword">const</span> appinfo = res.<span class="property">data</span></span><br><span class="line">			plus.<span class="property">runtime</span>.<span class="title function_">getProperty</span>(plus.<span class="property">runtime</span>.<span class="property">appid</span>, <span class="function"><span class="params">widgetInfo</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="keyword">const</span> versionCode = widgetInfo.<span class="property">versionCode</span>;</span><br><span class="line">				<span class="keyword">if</span> (versionCode &lt; appinfo.<span class="property">version</span>) &#123;</span><br><span class="line">					uni.<span class="title function_">showModal</span>(&#123;</span><br><span class="line">						<span class="attr">title</span>: <span class="string">&#x27;发现新版本&#x27;</span>,</span><br><span class="line">						<span class="attr">showCancel</span>: <span class="literal">false</span>,</span><br><span class="line">						<span class="attr">confirmText</span>: <span class="string">&#x27;立即更新&#x27;</span>,</span><br><span class="line">						<span class="attr">content</span>: appinfo.<span class="property">content</span>,</span><br><span class="line">						<span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">							<span class="keyword">if</span> (res.<span class="property">confirm</span>) &#123;</span><br><span class="line">								<span class="keyword">if</span> (uni.<span class="title function_">getSystemInfoSync</span>().<span class="property">platform</span> == <span class="string">&#x27;android&#x27;</span>) &#123;</span><br><span class="line">									<span class="keyword">var</span> w = plus.<span class="property">nativeUI</span>.<span class="title function_">showWaiting</span>(<span class="string">&quot;下载中...&quot;</span>);</span><br><span class="line">									<span class="keyword">const</span> downloadTask = uni.<span class="title function_">downloadFile</span>(&#123;</span><br><span class="line">										<span class="attr">url</span>: appinfo.<span class="property">androidLink</span>,</span><br><span class="line">										<span class="attr">success</span>: <span class="function"><span class="params">downloadResult</span> =&gt;</span> &#123;</span><br><span class="line">											<span class="keyword">if</span> (downloadResult.<span class="property">statusCode</span> ===</span><br><span class="line">												<span class="number">200</span>) &#123;</span><br><span class="line">												plus.<span class="property">runtime</span>.<span class="title function_">install</span>(</span><br><span class="line">													downloadResult</span><br><span class="line">													.<span class="property">tempFilePath</span>, &#123;</span><br><span class="line">														<span class="attr">force</span>: <span class="literal">false</span></span><br><span class="line">													&#125;,</span><br><span class="line">													<span class="function"><span class="params">d</span> =&gt;</span> &#123;</span><br><span class="line">														<span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">															<span class="string">&#x27;install success...&#x27;</span></span><br><span class="line">														);</span><br><span class="line">														plus.<span class="property">runtime</span></span><br><span class="line">															.<span class="title function_">restart</span>();</span><br><span class="line">													&#125;,</span><br><span class="line">													<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">														<span class="variable language_">console</span>.<span class="title function_">error</span>(</span><br><span class="line">															<span class="string">&#x27;install fail...&#x27;</span></span><br><span class="line">														);</span><br><span class="line">													&#125;</span><br><span class="line">												);</span><br><span class="line">											&#125;</span><br><span class="line">										&#125;</span><br><span class="line">									&#125;);</span><br><span class="line">									downloadTask.<span class="title function_">onProgressUpdate</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">										w.<span class="title function_">setTitle</span>(<span class="string">&quot;  正在下载&quot;</span> + res.<span class="property">progress</span> + <span class="string">&quot;%  &quot;</span>);</span><br><span class="line">										<span class="keyword">if</span>(res.<span class="property">progress</span>&gt;=<span class="number">100</span>)&#123;</span><br><span class="line">											w.<span class="title function_">close</span>();</span><br><span class="line">										&#125;</span><br><span class="line">										<span class="comment">//  console.log(&#x27;下载进度&#x27; + res.progress);</span></span><br><span class="line">                    <span class="comment">//   console.log(&#x27;已经下载的数据长度&#x27; + res.totalBytesWritten);</span></span><br><span class="line">                    <span class="comment">//   console.log(&#x27;预期需要下载的数据总长度&#x27; + res.totalBytesExpectedToWrite);</span></span><br><span class="line">									&#125;);</span><br><span class="line">								&#125;</span><br><span class="line">								<span class="keyword">if</span> (uni.<span class="title function_">getSystemInfoSync</span>().<span class="property">platform</span> == <span class="string">&#x27;ios&#x27;</span>) &#123;</span><br><span class="line">									plus.<span class="property">runtime</span>.<span class="title function_">openURL</span>(appinfo.<span class="property">iosLink</span>, <span class="keyword">function</span>(<span class="params">res</span>) &#123;&#125;);</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;)</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>uniapp</category>
      </categories>
      <tags>
        <tag>uniapp</tag>
      </tags>
  </entry>
  <entry>
    <title>uniapp消息推送unipush</title>
    <url>/20221009/uniapp%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81unipush/</url>
    <content><![CDATA[<h3 id="官方步骤"><a href="#官方步骤" class="headerlink" title="官方步骤"></a>官方步骤</h3><blockquote>
<p>具体参考官方流程开通，如果需要离线推送，则需要配置厂商通道。</p>
</blockquote>
<p><a href="https://ask.dcloud.net.cn/article/35622">官方UniPush使用指南</a></p>
<h3 id="不说废话-直上代码。"><a href="#不说废话-直上代码。" class="headerlink" title="不说废话~直上代码。"></a>不说废话~直上代码。</h3><h4 id="uniapp前端"><a href="#uniapp前端" class="headerlink" title="uniapp前端"></a>uniapp前端</h4><blockquote>
<p>app.vue onLaunch</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">  <span class="comment">// #ifdef APP-PLUS</span></span><br><span class="line">  <span class="comment">/* 设置竖屏 */</span></span><br><span class="line">plus.<span class="property">screen</span>.<span class="title function_">lockOrientation</span>(<span class="string">&#x27;portrait-primary&#x27;</span>);</span><br><span class="line">  <span class="comment">/* 清除角标 */</span></span><br><span class="line">  plus.<span class="property">runtime</span>.<span class="title function_">setBadgeNumber</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="comment">// 监听接收透传消息事件,苹果为透传消息</span></span><br><span class="line">plus.<span class="property">push</span>.<span class="title function_">addEventListener</span>(</span><br><span class="line">	<span class="string">&#x27;receive&#x27;</span>,</span><br><span class="line">	<span class="keyword">function</span>(<span class="params">msg</span>) &#123;</span><br><span class="line">		<span class="keyword">let</span> payload = &#123;&#125;;</span><br><span class="line">		<span class="keyword">if</span> (msg.<span class="property">payload</span>) &#123;</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;msg.payload&#x27;</span>, msg.<span class="property">payload</span>);</span><br><span class="line">			payload = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(msg.<span class="property">payload</span>);</span><br><span class="line">			<span class="keyword">if</span> (payload.<span class="property">t</span>) &#123;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		payload.<span class="property">t</span> = <span class="literal">true</span>;</span><br><span class="line">		plus.<span class="property">push</span>.<span class="title function_">createMessage</span>(msg.<span class="property">content</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(payload), &#123;</span><br><span class="line">			<span class="attr">title</span>: msg.<span class="property">title</span></span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="literal">false</span></span><br><span class="line">);</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// #endif</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>index.vue onLoad</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// #ifdef APP-PLUS</span></span><br><span class="line"><span class="comment">// 监听系统通知栏消息点击事件</span></span><br><span class="line">	plus.<span class="property">push</span>.<span class="title function_">addEventListener</span>(</span><br><span class="line">		<span class="string">&#x27;click&#x27;</span>,</span><br><span class="line">		<span class="keyword">function</span>(<span class="params">msg</span>) &#123;</span><br><span class="line">			<span class="keyword">let</span> payload = msg.<span class="property">payload</span>;</span><br><span class="line">			<span class="keyword">if</span> (payload <span class="keyword">instanceof</span> <span class="title class_">String</span>) &#123;</span><br><span class="line">				payload = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(payload);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">/*跳转到对应页面*/</span></span><br><span class="line">			uni.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">				<span class="attr">url</span>: payload.<span class="property">url</span></span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="literal">false</span></span><br><span class="line">	);</span><br><span class="line">     <span class="comment">// #endif</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>login.vue done</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 推送cid</span></span><br><span class="line">  <span class="keyword">const</span> clientInfo = plus.<span class="property">push</span>.<span class="title function_">getClientInfo</span>();</span><br><span class="line">  <span class="keyword">const</span> clientid = clientInfo.<span class="property">clientid</span>;</span><br><span class="line">  <span class="comment">/* 设备类型 */</span></span><br><span class="line">  <span class="keyword">const</span> brand = uni.<span class="title function_">getSystemInfoSync</span>().<span class="property">brand</span>;</span><br><span class="line">  <span class="comment">/* save */</span></span><br><span class="line">  <span class="title function_">addOrUpdate</span>(&#123;</span><br><span class="line">    <span class="attr">userId</span>: userInfo.<span class="property">id</span>,</span><br><span class="line">    <span class="attr">mobileBrand</span>: brand,</span><br><span class="line">    <span class="attr">mobileCid</span>: clientid</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.itvita.utils.push;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSONObject;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.ApiHelper;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.GtApiConfiguration;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.api.PushApi;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.common.ApiResult;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.dto.req.Audience;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.dto.req.Settings;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.dto.req.Strategy;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.dto.req.message.PushChannel;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.dto.req.message.PushDTO;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.dto.req.message.PushMessage;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.dto.req.message.android.AndroidDTO;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.dto.req.message.android.ThirdNotification;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.dto.req.message.android.Ups;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.dto.req.message.ios.Alert;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.dto.req.message.ios.Aps;</span><br><span class="line"><span class="keyword">import</span> com.getui.push.v2.sdk.dto.req.message.ios.IosDTO;</span><br><span class="line"><span class="keyword">import</span> com.itvita.utils.IdGenerator;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 推送工具类（个推）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: liu.q</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2020/4/26 13:41</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UniPush</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* unipush 后台配置 */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">AppID</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">appKey</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">masterSecret</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">domain</span> <span class="operator">=</span> <span class="string">&quot;https://restapi.getui.com/v2/&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据cid单推</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> cid:     推送设备唯一标识</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> title:   通知标题</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> body:    通知内容</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> payload: 参数（长度不能超过100，可以为json字符串）</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: void</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Time</span>: 2021/9/7 9:52 上午</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span>: liu.q [916000612@qq.com]</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">toSingleCid</span><span class="params">(String cid, String title, String body, String payload)</span> &#123;</span><br><span class="line">        <span class="type">GtApiConfiguration</span> <span class="variable">apiConfiguration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GtApiConfiguration</span>();</span><br><span class="line">        <span class="comment">//填写应用配置</span></span><br><span class="line">        apiConfiguration.setAppId(AppID);</span><br><span class="line">        apiConfiguration.setAppKey(appKey);</span><br><span class="line">        apiConfiguration.setMasterSecret(masterSecret);</span><br><span class="line">        apiConfiguration.setDomain(domain);</span><br><span class="line">        <span class="comment">// 实例化ApiHelper对象，用于创建接口对象</span></span><br><span class="line">        <span class="type">ApiHelper</span> <span class="variable">apiHelper</span> <span class="operator">=</span> ApiHelper.build(apiConfiguration);</span><br><span class="line">        <span class="comment">// 创建对象，目前有PushApi、StatisticApi、UserApi</span></span><br><span class="line">        <span class="type">PushApi</span> <span class="variable">pushApi</span> <span class="operator">=</span> apiHelper.creatApi(PushApi.class);</span><br><span class="line">        <span class="comment">//根据cid进行单推</span></span><br><span class="line">        PushDTO&lt;Audience&gt; pushDTO = <span class="keyword">new</span> <span class="title class_">PushDTO</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// 请求唯一标识号，10-32位之间；如果request_id重复，会导致消息丢失</span></span><br><span class="line">        pushDTO.setRequestId(IdGenerator.getUUID());</span><br><span class="line">        <span class="comment">/*推送目标用户*/</span></span><br><span class="line">        <span class="type">Audience</span> <span class="variable">audience</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Audience</span>();</span><br><span class="line">        audience.addCid(cid);</span><br><span class="line">        pushDTO.setAudience(audience);</span><br><span class="line">        <span class="comment">/*推送条件设置*/</span></span><br><span class="line">        <span class="type">Settings</span> <span class="variable">settings</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Settings</span>();</span><br><span class="line">        settings.setTtl(<span class="number">3600000</span>);<span class="comment">//消息有效期，走厂商消息需要设置该值</span></span><br><span class="line">        <span class="type">Strategy</span> <span class="variable">strategy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Strategy</span>();</span><br><span class="line">        <span class="comment">// 1: 表示该消息在用户在线时推送个推通道，用户离线时推送厂商通道;</span></span><br><span class="line">        <span class="comment">// 2: 表示该消息只通过厂商通道策略下发，不考虑用户是否在线;</span></span><br><span class="line">        <span class="comment">// 3: 表示该消息只通过个推通道下发，不考虑用户是否在线；</span></span><br><span class="line">        <span class="comment">// 4: 表示该消息优先从厂商通道下发，若消息内容在厂商通道代发失败后会从个推通道下发。</span></span><br><span class="line">        strategy.setDef(<span class="number">4</span>);</span><br><span class="line">        settings.setStrategy(strategy);</span><br><span class="line">        pushDTO.setSettings(settings);</span><br><span class="line">        <span class="comment">/*个推推送消息参数*/</span></span><br><span class="line">        <span class="type">PushMessage</span> <span class="variable">pushMessage</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PushMessage</span>();</span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">param</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">        param.put(<span class="string">&quot;title&quot;</span>, title);</span><br><span class="line">        param.put(<span class="string">&quot;content&quot;</span>, body);</span><br><span class="line">        param.put(<span class="string">&quot;payload&quot;</span>, payload);</span><br><span class="line">        pushMessage.setTransmission(param.toJSONString());</span><br><span class="line">        pushDTO.setPushMessage(pushMessage);</span><br><span class="line">        <span class="comment">/*厂商推送消息参数，包含ios消息参数，android厂商消息参数*/</span></span><br><span class="line">        <span class="type">PushChannel</span> <span class="variable">pushChannel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PushChannel</span>();</span><br><span class="line">        <span class="comment">/*苹果推送参数*/</span></span><br><span class="line">        <span class="type">IosDTO</span> <span class="variable">iosDTO</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">IosDTO</span>();</span><br><span class="line">        iosDTO.setType(<span class="string">&quot;notify&quot;</span>);<span class="comment">//voip：voip语音推送，notify：apns通知消息</span></span><br><span class="line">        <span class="comment">/*推送通知消息内容*/</span></span><br><span class="line">        <span class="type">Aps</span> <span class="variable">aps</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Aps</span>();</span><br><span class="line">        aps.setContentAvailable(<span class="number">0</span>);</span><br><span class="line">        aps.setSound(<span class="string">&quot;default&quot;</span>);</span><br><span class="line">        <span class="comment">/*推送苹果离线通知标题内容*/</span></span><br><span class="line">        <span class="type">Alert</span> <span class="variable">alert</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Alert</span>();</span><br><span class="line">        alert.setTitle(title+<span class="string">&quot;苹果的标题&quot;</span>);</span><br><span class="line">        alert.setBody(body+<span class="string">&quot;苹果的body&quot;</span>);</span><br><span class="line">        aps.setAlert(alert);</span><br><span class="line">        iosDTO.setAps(aps);</span><br><span class="line">        iosDTO.setAutoBadge(<span class="string">&quot;+1&quot;</span>);</span><br><span class="line">        iosDTO.setPayload(payload);<span class="comment">//   苹果自定义数据内容</span></span><br><span class="line">        iosDTO.setApnsCollapseId(IdGenerator.getUUID());<span class="comment">//使用相同的apns-collapse-id可以覆盖之前的消息</span></span><br><span class="line">        pushChannel.setIos(iosDTO);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*安卓推送参数*/</span></span><br><span class="line">        <span class="type">AndroidDTO</span> <span class="variable">androidDTO</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AndroidDTO</span>();</span><br><span class="line">        <span class="comment">/*android厂商通道推送消息内容*/</span></span><br><span class="line">        <span class="type">Ups</span> <span class="variable">ups</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Ups</span>();</span><br><span class="line">        <span class="comment">/*安卓离线厂商通道推送透传消息体*/</span></span><br><span class="line"><span class="comment">//        ups.setTransmission(payload);</span></span><br><span class="line">        <span class="comment">/*安卓离线厂商通道推送通知消息体*/</span></span><br><span class="line">        <span class="type">ThirdNotification</span> <span class="variable">notification</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThirdNotification</span>();</span><br><span class="line">        notification.setTitle(title);</span><br><span class="line">        notification.setBody(body);</span><br><span class="line">        notification.setClickType(<span class="string">&quot;intent&quot;</span>);</span><br><span class="line">        notification.setIntent(<span class="string">&quot;intent:#Intent;action=android.intent.action.oppopush;launchFlags=0x14000000;component=com.itvita.norisk.company/io.dcloud.PandoraEntry;S.UP-OL-SU=true;S.title=&quot;</span> + title + <span class="string">&quot;;S.content=&quot;</span> + body + <span class="string">&quot;;S.payload=&quot;</span>+payload+<span class="string">&quot;;end&quot;</span>);</span><br><span class="line">        ups.setNotification(notification);</span><br><span class="line">        <span class="comment">//各厂商自有功能单项设置</span></span><br><span class="line">        <span class="comment">//各厂商自有功能单项设置</span></span><br><span class="line">        ups.addOption(<span class="string">&quot;HW&quot;</span>, <span class="string">&quot;/message/android/notification/badge/class&quot;</span>, <span class="string">&quot;io.dcloud.PandoraEntry&quot;</span>);</span><br><span class="line">        ups.addOption(<span class="string">&quot;HW&quot;</span>, <span class="string">&quot;/message/android/notification/badge/add_num&quot;</span>, <span class="number">1</span>);</span><br><span class="line">        ups.addOption(<span class="string">&quot;HW&quot;</span>, <span class="string">&quot;/message/android/notification/importance&quot;</span>, <span class="string">&quot;HIGH&quot;</span>);</span><br><span class="line">        ups.addOption(<span class="string">&quot;VV&quot;</span>,<span class="string">&quot;classification&quot;</span>,<span class="number">1</span>);</span><br><span class="line">        androidDTO.setUps(ups);</span><br><span class="line">        pushChannel.setAndroid(androidDTO);</span><br><span class="line">        pushDTO.setPushChannel(pushChannel);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 进行cid单推</span></span><br><span class="line">        ApiResult&lt;Map&lt;String, Map&lt;String, String&gt;&gt;&gt; apiResult = pushApi.pushToSingleByCid(pushDTO);</span><br><span class="line">        <span class="keyword">if</span> (apiResult.isSuccess()) &#123;</span><br><span class="line">            <span class="comment">// success</span></span><br><span class="line">            log.info(<span class="string">&quot;推送成功：&#123;&#125;&quot;</span>, apiResult.getData());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// failed</span></span><br><span class="line">            log.error(<span class="string">&quot;推送失败：cid:&#123;&#125;,code:&#123;&#125;, msg:&#123;&#125;&quot;</span> ,cid, apiResult.getCode() , apiResult.getMsg());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">param</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">        param.put(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;111&quot;</span>);</span><br><span class="line">        param.put(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;native&quot;</span>);</span><br><span class="line">        toSingleCid(<span class="string">&quot;bb94fce97ee07c59fce32544ef7b9521&quot;</span>, <span class="string">&quot;推送测试&quot;</span>, <span class="string">&quot;推送内容&quot;</span>, param.toJSONString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>uniapp</category>
      </categories>
      <tags>
        <tag>消息推送</tag>
      </tags>
  </entry>
  <entry>
    <title>xsearch</title>
    <url>/20221009/xSearch/</url>
    <content><![CDATA[<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p><img src="https://cdn.jsdelivr.net/gh/itvita/resources@master/images/202201211649098.png"></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">x-search</span> <span class="attr">ref</span>=<span class="string">&quot;mySearch&quot;</span> <span class="attr">:search-items</span>=<span class="string">&quot;searchItems&quot;</span> <span class="attr">:label-width</span>=<span class="string">&quot;100&quot;</span> @<span class="attr">search</span>=<span class="string">&quot;search&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">x-search</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> searchItems = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;text&#x27;</span>,</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&#x27;name&#x27;</span>,</span><br><span class="line">    <span class="attr">label</span>: <span class="string">&#x27;文本&#x27;</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">    <span class="attr">placeholder</span>: <span class="string">&#x27;提示文字&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;select&#x27;</span>,</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&#x27;sex&#x27;</span>,</span><br><span class="line">    <span class="attr">label</span>: <span class="string">&#x27;下拉&#x27;</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">placeholder</span>: <span class="string">&#x27;请选择&#x27;</span>,</span><br><span class="line">    <span class="attr">options</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">label</span>: <span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;1&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">label</span>: <span class="string">&#x27;女&#x27;</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;2&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;select&#x27;</span>,</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&#x27;sex1&#x27;</span>,</span><br><span class="line">    <span class="attr">label</span>: <span class="string">&#x27;动态下拉&#x27;</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">placeholder</span>: <span class="string">&#x27;请选择&#x27;</span>,</span><br><span class="line">    <span class="attr">options</span>: []</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;rangePicker&#x27;</span>,</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&#x27;rangeDate&#x27;</span>,</span><br><span class="line">    <span class="attr">label</span>: <span class="string">&#x27;日期范围&#x27;</span>,</span><br><span class="line">    <span class="attr">value</span>: [<span class="string">&#x27;2022-01-21 00:00:00&#x27;</span>, <span class="string">&#x27;2022-01-31 23:59:59&#x27;</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;cascader&#x27;</span>,</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&#x27;address&#x27;</span>,</span><br><span class="line">    <span class="attr">label</span>: <span class="string">&#x27;级联下拉&#x27;</span>,</span><br><span class="line">    <span class="attr">value</span>: [],</span><br><span class="line">    <span class="attr">options</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="attr">parentId</span>: <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">        <span class="attr">label</span>: <span class="string">&#x27;河南&#x27;</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;001&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">        <span class="attr">parentId</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="attr">label</span>: <span class="string">&#x27;郑州&#x27;</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;001001&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;3&#x27;</span>,</span><br><span class="line">        <span class="attr">parentId</span>: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">        <span class="attr">label</span>: <span class="string">&#x27;高新区&#x27;</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;001001001&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;cascader&#x27;</span>,</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&#x27;address1&#x27;</span>,</span><br><span class="line">    <span class="attr">label</span>: <span class="string">&#x27;动态级联下拉&#x27;</span>,</span><br><span class="line">    <span class="attr">value</span>: [],</span><br><span class="line">    <span class="attr">options</span>: []</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      searchItems</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    <span class="comment">// 模拟延迟加载数据</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">searchItems</span>[<span class="number">2</span>].<span class="property">options</span> = [&#123;</span><br><span class="line">        <span class="attr">label</span>: <span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;1&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">label</span>: <span class="string">&#x27;女&#x27;</span>,</span><br><span class="line">          <span class="attr">value</span>: <span class="string">&#x27;2&#x27;</span></span><br><span class="line">        &#125;]</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">searchItems</span>[<span class="number">5</span>].<span class="property">options</span> = [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">id</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">          <span class="attr">parentId</span>: <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">          <span class="attr">label</span>: <span class="string">&#x27;河南&#x27;</span>,</span><br><span class="line">          <span class="attr">value</span>: <span class="string">&#x27;001&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">id</span>: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">          <span class="attr">parentId</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">          <span class="attr">label</span>: <span class="string">&#x27;郑州&#x27;</span>,</span><br><span class="line">          <span class="attr">value</span>: <span class="string">&#x27;001001&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">id</span>: <span class="string">&#x27;3&#x27;</span>,</span><br><span class="line">          <span class="attr">parentId</span>: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">          <span class="attr">label</span>: <span class="string">&#x27;高新区&#x27;</span>,</span><br><span class="line">          <span class="attr">value</span>: <span class="string">&#x27;001001001&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;, <span class="number">3000</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    search (params) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(params)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>label-width</td>
<td>label宽度</td>
<td>Number</td>
<td>100</td>
</tr>
<tr>
<td>search-items</td>
<td>组件配置</td>
<td>Array</td>
<td>[]</td>
</tr>
</tbody></table>
<h3 id="search-items"><a href="#search-items" class="headerlink" title="search-items"></a>search-items</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>可选项</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>type</td>
<td>类型</td>
<td>String</td>
<td>text,select,rangePicker,cascader</td>
<td></td>
</tr>
<tr>
<td>key</td>
<td>键</td>
<td>String</td>
<td></td>
<td></td>
</tr>
<tr>
<td>label</td>
<td>显示名称</td>
<td>String</td>
<td></td>
<td></td>
</tr>
<tr>
<td>value</td>
<td>值</td>
<td>String,Array</td>
<td>text，select时为String，rangePicker,cascader为Array</td>
<td></td>
</tr>
<tr>
<td>placeholder</td>
<td>提示文字</td>
<td>String</td>
<td></td>
<td>非必填</td>
</tr>
<tr>
<td>options</td>
<td>select，cascader选项</td>
<td>Array</td>
<td>简单数组</td>
<td></td>
</tr>
</tbody></table>
<h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>search</td>
<td>搜索</td>
<td>function(searchFrom)</td>
</tr>
</tbody></table>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><table>
<thead>
<tr>
<th>方法名称</th>
<th>说明</th>
<th>举例</th>
</tr>
</thead>
<tbody><tr>
<td>getSearchFrom</td>
<td>获取查询条件</td>
<td>this.$refs.mySearch.getSearchFrom()</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>xtools-antd</category>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Afd-Lib组件帮助文档</title>
    <url>/20221112/Afd-Lib%E7%BB%84%E4%BB%B6%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3/</url>
    <content><![CDATA[<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=true} -->

<!-- code_chunk_output -->

<ol>
<li><a href="#%E8%A7%86%E9%A2%91%E9%A2%84%E8%A7%88%E5%88%97%E8%A1%A8">视频预览列表</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7%E8%AF%B4%E6%98%8E">属性说明</a></li>
</ol>
</li>
<li><a href="#%E5%9F%BA%E7%A1%80%E4%B8%8A%E4%BC%A0%E6%8C%89%E9%92%AE">基础上传按钮</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-1">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6">事件</a></li>
<li><a href="#values%E8%AF%B4%E6%98%8E">values说明</a></li>
</ol>
</li>
<li><a href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0">文件上传</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-2">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-1">属性</a></li>
<li><a href="#step%E8%AF%B4%E6%98%8E">step说明</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-1">事件</a></li>
<li><a href="#values%E4%B8%BE%E4%BE%8B">values举例</a></li>
</ol>
</li>
<li><a href="#%E6%A0%91%E5%BD%A2%E4%B8%8B%E6%8B%89">树形下拉</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-3">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-2">属性</a></li>
<li><a href="#asyncload%E8%AF%B4%E6%98%8E">asyncLoad说明</a></li>
<li><a href="#%E6%96%B9%E6%B3%95">方法</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-2">事件</a></li>
</ol>
</li>
<li><a href="#%E6%A0%91%E5%BD%A2">树形</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-4">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-3">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-3">事件</a></li>
<li><a href="#%E6%96%B9%E6%B3%95-1">方法</a></li>
</ol>
</li>
<li><a href="#%E6%97%B6%E9%97%B4%E9%80%89%E6%8B%A9%E5%99%A8">时间选择器</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-5">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-4">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-4">事件</a></li>
</ol>
</li>
<li><a href="#%E6%96%87%E6%9C%AC%E6%98%BE%E7%A4%BA">文本显示</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-6">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-5">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-5">事件</a></li>
</ol>
</li>
<li><a href="#table%E8%A1%A8%E6%A0%BC">table表格</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-7">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-6">属性</a></li>
<li><a href="#columns">columns</a></li>
<li><a href="#columns%E5%88%97%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B">columns列配置示例</a><ol>
<li><a href="#%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE">基本配置</a></li>
<li><a href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%96%87%E6%9C%AC">格式化文本</a></li>
<li><a href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%98%BE%E7%A4%BA%E5%9B%BE%E7%89%87">格式化显示图片</a></li>
<li><a href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%BA%E5%9B%BE%E6%96%87">格式化为图文</a></li>
<li><a href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%BA%E5%BC%80%E5%85%B3%E6%8C%89%E9%92%AE">格式化为开关按钮</a></li>
<li><a href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%BA%E5%BE%BD%E7%AB%A0">格式化为徽章</a></li>
</ol>
</li>
<li><a href="#operate">operate</a><ol>
<li><a href="#items">items</a></li>
</ol>
</li>
<li><a href="#operate%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B">operate配置示例</a></li>
<li><a href="#%E6%96%B9%E6%B3%95-2">方法</a></li>
</ol>
</li>
<li><a href="#%E6%90%9C%E7%B4%A2%E6%9D%A1">搜索条</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-8">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-7">属性</a></li>
<li><a href="#items%E7%A4%BA%E4%BE%8B">items示例</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-6">事件</a></li>
<li><a href="#%E6%96%B9%E6%B3%95-3">方法</a></li>
</ol>
</li>
<li><a href="#%E6%8A%A5%E8%A1%A8">报表</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-9">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-8">属性</a></li>
<li><a href="#%E6%96%B9%E6%B3%95-4">方法</a></li>
</ol>
</li>
<li><a href="#%E6%8A%A5%E8%A1%A8%E5%AF%BC%E5%87%BA">报表导出</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-10">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-9">属性</a></li>
<li><a href="#%E6%96%B9%E6%B3%95-5">方法</a></li>
</ol>
</li>
<li><a href="#%E6%97%A5%E6%9C%9F%E9%80%89%E6%8B%A9%E5%99%A8">日期选择器</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-11">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-10">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-7">事件</a></li>
</ol>
</li>
<li><a href="#%E6%97%A5%E6%9C%9F%E8%8C%83%E5%9B%B4%E9%80%89%E6%8B%A9%E5%99%A8">日期范围选择器</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-12">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-11">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-8">事件</a></li>
</ol>
</li>
<li><a href="#%E5%8D%95%E9%80%89%E9%80%89%E6%8B%A9%E5%99%A8">单选选择器</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-13">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-12">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-9">事件</a></li>
</ol>
</li>
<li><a href="#%E5%A4%9A%E9%80%89%E9%80%89%E6%8B%A9%E5%99%A8">多选选择器</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-14">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-13">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-10">事件</a></li>
</ol>
</li>
<li><a href="#%E6%9C%88%E9%80%89%E6%8B%A9">月选择</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-15">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-14">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-11">事件</a></li>
</ol>
</li>
<li><a href="#%E5%9B%BE%E7%89%87%E5%88%97%E8%A1%A8">图片列表</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-16">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-15">属性</a></li>
</ol>
</li>
<li><a href="#%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BE%E5%9D%90%E6%A0%87%E6%8B%BE%E5%8F%96">高德地图坐标拾取</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-17">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-16">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-12">事件</a></li>
</ol>
</li>
<li><a href="#%E6%A0%91%E5%BD%A2-1">树形</a><ol>
<li><a href="#%E6%95%88%E6%9E%9C">效果</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-18">示例</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-17">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-13">事件</a></li>
</ol>
</li>
</ol>
<!-- /code_chunk_output -->


<h2 id="视频预览列表"><a href="#视频预览列表" class="headerlink" title="视频预览列表"></a>视频预览列表</h2><blockquote>
<p>点击播放</p>
</blockquote>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-video url=&quot;path&quot; :data-list=&quot;videoDataList&quot; /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      videoDataList: [</span><br><span class="line">        &#123;</span><br><span class="line">          path: &#x27;http://127.0.0.1:8080/1.mp4&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          path: &#x27;http://127.0.0.1:8080/3.mp4&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;&#125;,</span><br><span class="line">  methods: &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性说明"><a href="#属性说明" class="headerlink" title="属性说明"></a>属性说明</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>url</td>
<td>dataList 中视频访问地址key</td>
<td>String</td>
<td>path</td>
</tr>
<tr>
<td>dataList</td>
<td>视频列表</td>
<td>Array</td>
<td></td>
</tr>
<tr>
<td>baseUrl</td>
<td>url跟地址</td>
<td>String</td>
<td>‘’</td>
</tr>
</tbody></table>
<h2 id="基础上传按钮"><a href="#基础上传按钮" class="headerlink" title="基础上传按钮"></a>基础上传按钮</h2><blockquote>
<p>一般用于工具条，不回显上传结果。</p>
</blockquote>
<h3 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-btn-upload</span><br><span class="line">      @beforeUpload=&quot;beforeUpload&quot;</span><br><span class="line">      @doneUpload=&quot;doneUpload&quot;</span><br><span class="line">      label=&quot;导入&quot;</span><br><span class="line">      accept=&quot;.xlsx,.xls&quot;</span><br><span class="line">      action=&quot;http://localhost:8102/base/common/upload/image&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data () &#123;</span><br><span class="line">      return &#123;&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    beforeUpload (values) &#123;</span><br><span class="line">      console.log(&#x27;导入前&#x27;, values)</span><br><span class="line">    &#125;,</span><br><span class="line">    doneUpload (values) &#123;</span><br><span class="line">      console.log(&#x27;导入后&#x27;, values)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>label</td>
<td>组件名称</td>
<td>String</td>
<td>导入</td>
</tr>
<tr>
<td>size</td>
<td>允许上传文件大小 单位MB</td>
<td>Number</td>
<td>2</td>
</tr>
<tr>
<td>accept</td>
<td>允许上传文件类型</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>action</td>
<td>文件上传路径</td>
<td>String</td>
<td></td>
</tr>
</tbody></table>
<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>beforeUpload</td>
<td>文件开始上传前调用</td>
<td>function(values)</td>
</tr>
<tr>
<td>doneUpload</td>
<td>文件上传完成后调用</td>
<td>function(values)</td>
</tr>
</tbody></table>
<h3 id="values说明"><a href="#values说明" class="headerlink" title="values说明"></a>values说明</h3><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">		file<span class="punctuation">:</span>File<span class="punctuation">,</span></span><br><span class="line">		id<span class="punctuation">:</span> <span class="string">&quot;1qgc04h0lsclr7bhtcby&quot;</span></span><br><span class="line">    name<span class="punctuation">:</span> <span class="string">&quot;文件名.xlsx&quot;</span></span><br><span class="line">    original<span class="punctuation">:</span> <span class="string">&quot;源文件路径&quot;</span></span><br><span class="line">    path<span class="punctuation">:</span> <span class="string">&quot;压缩文件路径&quot;</span></span><br><span class="line">    state<span class="punctuation">:</span> <span class="number">2</span> <span class="comment">//状态，1开始上传，2上传成功，3上传失败</span></span><br><span class="line">	<span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h2><blockquote>
<p>常用于表单，可以预览，下载。</p>
</blockquote>
<h3 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-upload</span><br><span class="line">      v-model=&quot;uploadList&quot;</span><br><span class="line">      :max-num=&quot;5&quot;</span><br><span class="line">      :size=&quot;5&quot;</span><br><span class="line">      @change=&quot;change&quot;</span><br><span class="line">      @beforeUpload=&quot;beforeUpload&quot;</span><br><span class="line">      @doneUpload=&quot;doneUpload&quot;</span><br><span class="line">      accept=&quot;.jpg,.png,.xlsx,.doc,.docx&quot;</span><br><span class="line">      :disabled=&quot;false&quot;</span><br><span class="line">      basePath=&quot;https://echftp.yqzhfw.com/&quot;</span><br><span class="line">      action=&quot;https://jmy.yqzhfw.com/train/api/base-server/base/common/upload/image&quot;</span><br><span class="line">      :replaceFields=&quot;&#123;</span><br><span class="line">        name: &#x27;name&#x27;,</span><br><span class="line">        path: &#x27;path&#x27;,</span><br><span class="line">        original: &#x27;original&#x27;,</span><br><span class="line">        size: &#x27;size&#x27;,</span><br><span class="line">        suffix: &#x27;suffix&#x27;,</span><br><span class="line">      &#125;&quot;</span><br><span class="line">      :showDownload=&quot;true&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;!-- :step=&quot;&#123; size: 2048 &#125;&quot; --&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      uploadList: [</span><br><span class="line">        // &#123;</span><br><span class="line">        //   name: &quot;音频服务.png&quot;,</span><br><span class="line">        //   path: &quot;/basis/2020/7/10/13acde2b08e84fc7bae4e9c0195facfc.png&quot;,</span><br><span class="line">        // &#125;,</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    change (param) &#123;</span><br><span class="line">      console.log(&#x27;change&#x27;, param)</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeUpload (param) &#123;</span><br><span class="line">      console.log(&#x27;beforeUpload&#x27;, param)</span><br><span class="line">    &#125;,</span><br><span class="line">    doneUpload (param) &#123;</span><br><span class="line">      console.log(&#x27;doneUpload&#x27;, param)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>value(v-model)</td>
<td>设置上传文件默认值</td>
<td>Array</td>
<td>[]</td>
</tr>
<tr>
<td>max-num</td>
<td>允许最大文件数</td>
<td>Number</td>
<td>0</td>
</tr>
<tr>
<td>size</td>
<td>单位MB</td>
<td>Number</td>
<td>2</td>
</tr>
<tr>
<td>accept</td>
<td>允许上传文件类型</td>
<td>String</td>
<td>几乎所有文件</td>
</tr>
<tr>
<td>disabled</td>
<td>是否禁用</td>
<td>boolean</td>
<td>false</td>
</tr>
<tr>
<td>imgBasePath</td>
<td>文件访问跟路径</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>action</td>
<td>文件上传路径</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>replaceFields</td>
<td>结果 key替换</td>
<td>Object</td>
<td>{<br/>          name: ‘name’,<br/>          path: ‘path’,<br/>          original: ‘original’,<br/>          size: ‘size’,<br/>          suffix: ‘suffix’,<br/>  }</td>
</tr>
<tr>
<td>step</td>
<td>开启分片上传</td>
<td>Object</td>
<td>false</td>
</tr>
</tbody></table>
<h3 id="step说明"><a href="#step说明" class="headerlink" title="step说明"></a>step说明</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>size</td>
<td>分片大小，单位kb</td>
<td>Number</td>
<td>无</td>
</tr>
</tbody></table>
<h3 id="事件-1"><a href="#事件-1" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>文件发生改变后调用</td>
<td>values</td>
</tr>
<tr>
<td>beforeUpload</td>
<td>文件上传前回调</td>
<td>values</td>
</tr>
<tr>
<td>doneUpload</td>
<td>文件上传结束回调</td>
<td>values</td>
</tr>
</tbody></table>
<h3 id="values举例"><a href="#values举例" class="headerlink" title="values举例"></a>values举例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[&#123;</span><br><span class="line">   name: &quot;音频服务.png&quot;,</span><br><span class="line">   path: &quot;/basis/2020/7/10/13acde2b08e84fc7bae4e9c0195facfc.png&quot;,</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<h2 id="树形下拉"><a href="#树形下拉" class="headerlink" title="树形下拉"></a>树形下拉</h2><h3 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-tree-select</span><br><span class="line">      ref=&quot;dTreeSelect&quot;</span><br><span class="line">      :replaceFields=&quot;&#123;</span><br><span class="line">        key: &#x27;id&#x27;,</span><br><span class="line">        value: &#x27;value&#x27;,</span><br><span class="line">        title: &#x27;title&#x27;,</span><br><span class="line">        children: &#x27;children&#x27;,</span><br><span class="line">      &#125;&quot;</span><br><span class="line">      v-model=&quot;treeSelect&quot;</span><br><span class="line">      @change=&quot;change&quot;</span><br><span class="line">      :multiple=&quot;false&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      treeSelect: [&#x27;0-0&#x27;, &#x27;0-0-1&#x27;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.$refs.dTreeSelect.init([</span><br><span class="line">        &#123;</span><br><span class="line">          title: &#x27;Node1&#x27;,</span><br><span class="line">          value: &#x27;0-0&#x27;,</span><br><span class="line">          id: &#x27;0-0&#x27;,</span><br><span class="line">          children: [</span><br><span class="line">            &#123;</span><br><span class="line">              value: &#x27;0-0-1&#x27;,</span><br><span class="line">              id: &#x27;0-0-1&#x27;,</span><br><span class="line">              title: &#x27;title&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              title: &#x27;Child Node2&#x27;,</span><br><span class="line">              value: &#x27;0-0-2&#x27;,</span><br><span class="line">              id: &#x27;0-0-2&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: &#x27;Node2&#x27;,</span><br><span class="line">          value: &#x27;0-1&#x27;,</span><br><span class="line">          id: &#x27;0-1&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">      ])</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    change (val) &#123;</span><br><span class="line">      console.log(val)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="属性-2"><a href="#属性-2" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>replaceFields</td>
<td>替换结果集中key，value,title，children为对应字段</td>
<td>Object</td>
<td>{<br/>       key: ‘key’,<br/>        value:’value’,<br>         title: ‘title’,<br/>         children: ‘children’<br/>   }</td>
</tr>
<tr>
<td>v-model(value)</td>
<td>绑定值单选时String ，多选时 Array</td>
<td>String&#x2F;Array</td>
<td></td>
</tr>
<tr>
<td>multiple</td>
<td>是否开启多选</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>asyncLoad</td>
<td>异步加载数据</td>
<td>function（node）</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id="asyncLoad说明"><a href="#asyncLoad说明" class="headerlink" title="asyncLoad说明"></a>asyncLoad说明</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">asyncLoad (&#123; id &#125;) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.$axios(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;http://localhost:7001/api/xxx/getTree&#x27;</span>,</span><br><span class="line">      <span class="attr">params</span>: &#123; <span class="attr">pid</span>: id &#125;</span><br><span class="line">      &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      	<span class="title function_">resolve</span>(res.<span class="property">data</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>举例</th>
</tr>
</thead>
<tbody><tr>
<td>init</td>
<td>数据初始化</td>
<td>this.$refs.dTreeSelect.init([]) &#x2F;&#x2F;初始化一个空数组</td>
</tr>
</tbody></table>
<h3 id="事件-2"><a href="#事件-2" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>选中值改变触发</td>
<td>function(value)</td>
</tr>
</tbody></table>
<h2 id="树形"><a href="#树形" class="headerlink" title="树形"></a>树形</h2><h3 id="示例-4"><a href="#示例-4" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-tree</span><br><span class="line">      ref=&quot;dTree&quot;</span><br><span class="line">      :replaceFields=&quot;&#123;</span><br><span class="line">        key: &#x27;key&#x27;,</span><br><span class="line">        title: &#x27;title&#x27;,</span><br><span class="line">        children: &#x27;children&#x27;,</span><br><span class="line">      &#125;&quot;</span><br><span class="line">      @click=&quot;nodeClick&quot;</span><br><span class="line">      :asyncLoad=&quot;false&quot;</span><br><span class="line">    &gt;</span><br><span class="line">    &lt;/d-tree&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      treeData: [</span><br><span class="line">        &#123;</span><br><span class="line">          title: &#x27;Node1&#x27;,</span><br><span class="line">          value: &#x27;0-0&#x27;,</span><br><span class="line">          key: &#x27;0-0&#x27;,</span><br><span class="line">          children: [</span><br><span class="line">            &#123;</span><br><span class="line">              value: &#x27;0-0-1&#x27;,</span><br><span class="line">              key: &#x27;0-0-1&#x27;,</span><br><span class="line">              title: &#x27;title&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              title: &#x27;Child Node2&#x27;,</span><br><span class="line">              value: &#x27;0-0-2&#x27;,</span><br><span class="line">              key: &#x27;0-0-2&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: &#x27;Node2&#x27;,</span><br><span class="line">          value: &#x27;0-1&#x27;,</span><br><span class="line">          key: &#x27;0-1&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.$refs.dTree.init(this.treeData)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    nodeClick (param) &#123;</span><br><span class="line">      console.log(param)</span><br><span class="line">    &#125;,</span><br><span class="line">    asyncLoad (&#123; id &#125;) &#123;</span><br><span class="line">      return new Promise((resolve) =&gt; &#123;</span><br><span class="line">        this.$axios(&#123;</span><br><span class="line">          url: &#x27;http://localhost:7001/api/xxx/getTree&#x27;,</span><br><span class="line">          params: &#123; pid: id &#125;</span><br><span class="line">        &#125;).then((res) =&gt; &#123;</span><br><span class="line">          resolve(res.data) // 子节点数据 []</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    refresh () &#123;</span><br><span class="line">      this.$refs.dTree.refreshByPid(0, function () &#123;</span><br><span class="line">        console.log(&#x27;刷新完成&#x27;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-3"><a href="#属性-3" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>replaceFields</td>
<td>替换结果集中key，title，children为对应字段</td>
<td>Object</td>
<td>{<br/>       key: ‘key’,<br/>        title: ‘title’,<br/>         children: ‘children’<br/>   }</td>
</tr>
<tr>
<td>asyncLoad</td>
<td>异步加载数据 （不需要异步可不配置）</td>
<td>function（node）</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id="事件-3"><a href="#事件-3" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>click</td>
<td>节点点击事件</td>
<td>function(value)</td>
</tr>
</tbody></table>
<h3 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h3><table>
<thead>
<tr>
<th>方法名称</th>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>init</td>
<td>树形数组</td>
<td>初始化数据，异步时可以传空数组[]</td>
</tr>
<tr>
<td>refreshByPid</td>
<td>id,callback</td>
<td>要刷新的节点ID，刷新完成回调</td>
</tr>
</tbody></table>
<h2 id="时间选择器"><a href="#时间选择器" class="headerlink" title="时间选择器"></a>时间选择器</h2><h3 id="示例-5"><a href="#示例-5" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-time-picker v-model=&quot;timePicker&quot; @change=&quot;change&quot;&gt;&lt;/d-time-picker&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        timePicker: &#x27;&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    change (value) &#123;</span><br><span class="line">      console.log(value)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-4"><a href="#属性-4" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>v-model(value)</td>
<td>绑定值</td>
<td>String</td>
<td>‘’</td>
</tr>
<tr>
<td>allowClear</td>
<td>是否显示清空按钮</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>disabled</td>
<td>是否禁用</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>format</td>
<td>日期格式</td>
<td>String</td>
<td>HH:mm:ss</td>
</tr>
<tr>
<td>hourStep</td>
<td>小时选项间隔</td>
<td>Number</td>
<td>1</td>
</tr>
<tr>
<td>minuteStep</td>
<td>分钟选项间隔</td>
<td>Number</td>
<td>1</td>
</tr>
<tr>
<td>secondStep</td>
<td>秒选项间隔</td>
<td>Number</td>
<td>1</td>
</tr>
<tr>
<td>placeholder</td>
<td>没有值的时候显示的内容</td>
<td>String</td>
<td>‘’</td>
</tr>
<tr>
<td>size</td>
<td>文本框大小[large,default,small]</td>
<td>String</td>
<td>default</td>
</tr>
<tr>
<td>inputReadOnly</td>
<td>设置输入框为只读（避免在移动设备上打开虚拟键盘)</td>
<td>Boolean</td>
<td>true</td>
</tr>
</tbody></table>
<h3 id="事件-4"><a href="#事件-4" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>值改变事件</td>
<td>function(value)</td>
</tr>
</tbody></table>
<h2 id="文本显示"><a href="#文本显示" class="headerlink" title="文本显示"></a>文本显示</h2><h3 id="示例-6"><a href="#示例-6" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-text value=&quot;测试&quot; color=&quot;primary&quot; @click=&quot;handelClick&quot; /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;&#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handelClick (value) &#123;</span><br><span class="line">      console.log(value)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-5"><a href="#属性-5" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>显示值</td>
<td>String</td>
<td>‘’</td>
</tr>
<tr>
<td>color</td>
<td>显示颜色【primary,success,warning,error】</td>
<td>String</td>
<td>default</td>
</tr>
</tbody></table>
<h3 id="事件-5"><a href="#事件-5" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>click</td>
<td>点击事件</td>
<td>function(value)</td>
</tr>
</tbody></table>
<h2 id="table表格"><a href="#table表格" class="headerlink" title="table表格"></a>table表格</h2><h3 id="示例-7"><a href="#示例-7" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-table ref=&quot;myTable&quot;&gt;</span><br><span class="line">      &lt;div slot=&quot;tools&quot;&gt;</span><br><span class="line">        &lt;a-button icon=&quot;plus&quot; @click=&quot;getSelect&quot; type=&quot;primary&quot;&gt;获取选中项id&lt;/a-button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/d-table&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.tableInit()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    search (param) &#123;</span><br><span class="line">      this.$refs.myTable.search(param)</span><br><span class="line">    &#125;,</span><br><span class="line">    tableInit () &#123;</span><br><span class="line">      this.$refs.myTable.init(</span><br><span class="line">        &#123;</span><br><span class="line">          url: &#x27;http://localhost:9001/xxxx/getList&#x27;,</span><br><span class="line">          columns: [</span><br><span class="line">            &#123;</span><br><span class="line">              field: &#x27;title&#x27;,</span><br><span class="line">              title: &#x27;名称&#x27;,</span><br><span class="line">              sorter: &#x27;true&#x27;,</span><br><span class="line">              align: &#x27;left&#x27;,</span><br><span class="line">              width: 150</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              field: &#x27;path&#x27;,</span><br><span class="line">              title: &#x27;路由/权限&#x27;,</span><br><span class="line">              align: &#x27;left&#x27;,</span><br><span class="line">              width: 150</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              field: &#x27;icons&#x27;,</span><br><span class="line">              title: &#x27;图标&#x27;,</span><br><span class="line">              align: &#x27;left&#x27;,</span><br><span class="line">              width: 100,</span><br><span class="line">              hidden: true</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              field: &#x27;menuType&#x27;,</span><br><span class="line">              title: &#x27;类型&#x27;,</span><br><span class="line">              sorter: &#x27;true&#x27;,</span><br><span class="line">              align: &#x27;center&#x27;,</span><br><span class="line">              width: 80,</span><br><span class="line">              formatter: &#123;</span><br><span class="line">                type: &#x27;text&#x27;,</span><br><span class="line">                format: (row) =&gt; &#123;</span><br><span class="line">                  if (row.menuType === 0) &#123;</span><br><span class="line">                    return &#123;</span><br><span class="line">                      value: &#x27;目录&#x27;</span><br><span class="line">                    &#125;</span><br><span class="line">                  &#125; else if (row.menuType === 1) &#123;</span><br><span class="line">                    return &#123;</span><br><span class="line">                      value: &#x27;菜单&#x27;</span><br><span class="line">                    &#125;</span><br><span class="line">                  &#125; else if (row.menuType === 2) &#123;</span><br><span class="line">                    return &#123;</span><br><span class="line">                      value: &#x27;按钮&#x27;</span><br><span class="line">                    &#125;</span><br><span class="line">                  &#125; else &#123;</span><br><span class="line">                    return &#123;</span><br><span class="line">                      value: &#x27;-&#x27;</span><br><span class="line">                    &#125;</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              field: &#x27;seq&#x27;,</span><br><span class="line">              title: &#x27;顺序号&#x27;,</span><br><span class="line">              sorter: &#x27;true&#x27;,</span><br><span class="line">              align: &#x27;right&#x27;,</span><br><span class="line">              width: 120</span><br><span class="line">            &#125;</span><br><span class="line">          ],</span><br><span class="line">          operate: &#123;</span><br><span class="line">            items: [</span><br><span class="line">              &#123;</span><br><span class="line">                label: &#x27;编辑&#x27;,</span><br><span class="line">                color: &#x27;primary&#x27;,</span><br><span class="line">                event: (row) =&gt; &#123;</span><br><span class="line">                  console.log(row)</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;,</span><br><span class="line">              &#123;</span><br><span class="line">                label: &#x27;删除&#x27;,</span><br><span class="line">                color: &#x27;danger&#x27;,</span><br><span class="line">                event: (row) =&gt; &#123;</span><br><span class="line">                  this.$confirm(&#123;</span><br><span class="line">                    title: &#x27;确认删除？&#x27;,</span><br><span class="line">                    content: &#x27;删除后将无法恢复！&#x27;,</span><br><span class="line">                    onOk: () =&gt; &#123;</span><br><span class="line">                      console.log(row)</span><br><span class="line">                    &#125;</span><br><span class="line">                  &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        () =&gt; &#123;</span><br><span class="line">          this.search()</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">    &#125;,</span><br><span class="line">    getSelect () &#123;</span><br><span class="line">      console.log(this.$refs.myTable.getSelected())</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-6"><a href="#属性-6" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>是否必填</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>url</td>
<td>请求链接</td>
<td>是</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>method</td>
<td>请求方式</td>
<td>否</td>
<td>post&#x2F;get</td>
<td>get</td>
</tr>
<tr>
<td>pagination</td>
<td>是否显示分页</td>
<td>否</td>
<td>boolean</td>
<td>true</td>
</tr>
<tr>
<td>queryParams</td>
<td>默认参数</td>
<td>否</td>
<td>Object</td>
<td>{}</td>
</tr>
<tr>
<td>pageNumber</td>
<td>初始化加载第一页，默认第一页</td>
<td>否</td>
<td>Number</td>
<td>1</td>
</tr>
<tr>
<td>pageSize</td>
<td>每页的记录行数（*）</td>
<td>否</td>
<td>Number</td>
<td>10</td>
</tr>
<tr>
<td>pageList</td>
<td>可供选择的每页的行数</td>
<td>否</td>
<td>Array</td>
<td>[10, 25, 50, 100]</td>
</tr>
<tr>
<td>showColumns</td>
<td>是否显示所有的列</td>
<td>否</td>
<td>boolean</td>
<td>true</td>
</tr>
<tr>
<td>showRefresh</td>
<td>是否显示刷新按钮</td>
<td>否</td>
<td>boolean</td>
<td>true</td>
</tr>
<tr>
<td>changeSize</td>
<td>允许改变列大小</td>
<td>否</td>
<td>boolean</td>
<td>true</td>
</tr>
<tr>
<td>showCheckBox</td>
<td>显示复选框</td>
<td>否</td>
<td>boolean</td>
<td>false</td>
</tr>
<tr>
<td>showIndex</td>
<td>显示序号</td>
<td>否</td>
<td>boolean</td>
<td>true</td>
</tr>
<tr>
<td>height</td>
<td>行高，如果没有设置height属性，表格自动根据记录条数设置表格高度</td>
<td>否</td>
<td>Number</td>
<td>500</td>
</tr>
<tr>
<td>columns</td>
<td>定义列</td>
<td>是</td>
<td>Array</td>
<td></td>
</tr>
<tr>
<td>operate</td>
<td>定义操作</td>
<td>否</td>
<td>Object</td>
<td></td>
</tr>
</tbody></table>
<h3 id="columns"><a href="#columns" class="headerlink" title="columns"></a>columns</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>是否必填</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>field</td>
<td>字段名</td>
<td>是</td>
<td>String</td>
<td>-</td>
</tr>
<tr>
<td>title</td>
<td>显示名</td>
<td>是</td>
<td>String</td>
<td>-</td>
</tr>
<tr>
<td>sorter</td>
<td>是否可以排序</td>
<td>否</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>width</td>
<td>宽度 ，不配置则自适应宽度</td>
<td>否</td>
<td>Integer</td>
<td>自适应</td>
</tr>
<tr>
<td>align</td>
<td>对齐方式 可选：left center right</td>
<td>否</td>
<td>String</td>
<td>left</td>
</tr>
<tr>
<td>hidden</td>
<td>是否隐藏</td>
<td>否</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>formatter</td>
<td>如下示例 ：</td>
<td>否</td>
<td>Object</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id="columns列配置示例"><a href="#columns列配置示例" class="headerlink" title="columns列配置示例"></a>columns列配置示例</h3><h4 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">field</span>: <span class="string">&#x27;title&#x27;</span>, <span class="comment">//字段名</span></span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;标签名称&#x27;</span>, <span class="comment">//显示名</span></span><br><span class="line">    <span class="attr">sorter</span>: <span class="literal">true</span>, <span class="comment">//是否可以排序</span></span><br><span class="line">    <span class="attr">width</span>:<span class="number">200</span>,<span class="comment">//宽度 ，不配置则自适应宽度</span></span><br><span class="line">    <span class="attr">align</span>: <span class="string">&#x27;left&#x27;</span>,<span class="comment">//对齐方式 可选：left center right</span></span><br><span class="line">    <span class="attr">hidden</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  。。。</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h4 id="格式化文本"><a href="#格式化文本" class="headerlink" title="格式化文本"></a>格式化文本</h4><blockquote>
<p>多用于标题，可通过点击事件查看详情</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">field</span>: <span class="string">&#x27;title&#x27;</span>,</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;名称&#x27;</span>,</span><br><span class="line">  <span class="attr">sorter</span>: <span class="string">&#x27;true&#x27;</span>,</span><br><span class="line">  <span class="attr">align</span>: <span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">  <span class="attr">width</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">formatter</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;text&#x27;</span>, <span class="comment">//格式化方式</span></span><br><span class="line">    <span class="attr">format</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">value</span>: row.<span class="property">title</span>, <span class="comment">//显示文本（必填）</span></span><br><span class="line">      <span class="attr">color</span>: <span class="string">&#x27;primary&#x27;</span>, <span class="comment">// 显示颜色 &#x27;primary&#x27;,&#x27;danger&#x27;,&#x27;success&#x27;,&#x27;warning&#x27;,&#x27;info&#x27;,&#x27;default&#x27;</span></span><br><span class="line">      <span class="attr">event</span>:<span class="function">()=&gt;</span>&#123; <span class="comment">// 点击触发事件</span></span><br><span class="line">        	<span class="comment">// ...</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="格式化显示图片"><a href="#格式化显示图片" class="headerlink" title="格式化显示图片"></a>格式化显示图片</h4><blockquote>
<p>可用于头像等需要显示图片的列</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">field</span>: <span class="string">&#x27;headImage&#x27;</span>,</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;状态&#x27;</span>,</span><br><span class="line">  <span class="attr">sorter</span>: <span class="string">&#x27;true&#x27;</span>,</span><br><span class="line">  <span class="attr">align</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">  <span class="attr">width</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">formatter</span>: &#123;</span><br><span class="line">   <span class="attr">type</span>: <span class="string">&#x27;image&#x27;</span>, <span class="comment">//格式化方式</span></span><br><span class="line">   <span class="attr">format</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">name</span>:<span class="string">&#x27;&#x27;</span>,<span class="comment">// 名称</span></span><br><span class="line">      <span class="attr">url</span>:<span class="string">&#x27;&#x27;</span>  <span class="comment">// 图片路径</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="格式化为图文"><a href="#格式化为图文" class="headerlink" title="格式化为图文"></a>格式化为图文</h4><blockquote>
<p>同上，但图片右侧可配置显示的文字</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">field</span>: <span class="string">&#x27;name&#x27;</span>,</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;状态&#x27;</span>,</span><br><span class="line">  <span class="attr">sorter</span>: <span class="string">&#x27;true&#x27;</span>,</span><br><span class="line">  <span class="attr">align</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">  <span class="attr">width</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">formatter</span>: &#123;</span><br><span class="line">   <span class="attr">type</span>: <span class="string">&#x27;image-text&#x27;</span>, <span class="comment">//格式化方式</span></span><br><span class="line">   <span class="attr">format</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">name</span>:<span class="string">&#x27;&#x27;</span>,<span class="comment">// 名称</span></span><br><span class="line">      <span class="attr">url</span>:<span class="string">&#x27;&#x27;</span>  <span class="comment">// 图片路径</span></span><br><span class="line">      <span class="attr">text</span>:[ <span class="comment">//显示文本内容， 建议一行或两行</span></span><br><span class="line">         &#123;</span><br><span class="line">           <span class="attr">content</span>:<span class="string">&#x27;显示文本&#x27;</span></span><br><span class="line">         &#125;,</span><br><span class="line">         &#123;</span><br><span class="line">           <span class="attr">content</span>:<span class="string">&#x27;显示文本&#x27;</span></span><br><span class="line">         &#125;</span><br><span class="line">      ]</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="格式化为开关按钮"><a href="#格式化为开关按钮" class="headerlink" title="格式化为开关按钮"></a>格式化为开关按钮</h4><blockquote>
<p>不建议使用</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">field</span>: <span class="string">&#x27;state&#x27;</span>,</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;状态&#x27;</span>,</span><br><span class="line">  <span class="attr">sorter</span>: <span class="string">&#x27;true&#x27;</span>,</span><br><span class="line">  <span class="attr">align</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">  <span class="attr">width</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">formatter</span>: &#123;</span><br><span class="line">   <span class="attr">type</span>: <span class="string">&#x27;switch&#x27;</span>, <span class="comment">//格式化方式</span></span><br><span class="line">   <span class="attr">format</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">value</span>:<span class="literal">true</span>,<span class="comment">// 是否选中  true | false</span></span><br><span class="line">      <span class="attr">change</span>:<span class="function">()=&gt;</span>&#123;<span class="comment">// change事件回调</span></span><br><span class="line">         <span class="keyword">const</span> v = !row.<span class="property">state</span></span><br><span class="line">         <span class="comment">// ...</span></span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="格式化为徽章"><a href="#格式化为徽章" class="headerlink" title="格式化为徽章"></a>格式化为徽章</h4><blockquote>
<p>常用于展示各种状态</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">field</span>: <span class="string">&#x27;state&#x27;</span>,</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;状态&#x27;</span>,</span><br><span class="line">  <span class="attr">sorter</span>: <span class="string">&#x27;true&#x27;</span>,</span><br><span class="line">  <span class="attr">align</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">  <span class="attr">width</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">formatter</span>: &#123;</span><br><span class="line">   <span class="attr">type</span>: <span class="string">&#x27;badge&#x27;</span>, <span class="comment">//格式化方式</span></span><br><span class="line">   <span class="attr">format</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">value</span>:<span class="string">&#x27;审核通过&#x27;</span>,</span><br><span class="line">      <span class="attr">color</span>:<span class="string">&#x27;blue&#x27;</span><span class="comment">//徽章颜色&#x27;blue&#x27;,&#x27;green&#x27;,&#x27;gray&#x27;,&#x27;orange&#x27;,&#x27;yellow&#x27;,&#x27;red&#x27; 等支持16进制</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="operate"><a href="#operate" class="headerlink" title="operate"></a>operate</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>是否必填</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>width</td>
<td>操作列宽度</td>
<td>否</td>
<td>Integer</td>
<td>自适应</td>
</tr>
<tr>
<td>items</td>
<td>操作配置</td>
<td>是</td>
<td>Array</td>
<td>-</td>
</tr>
</tbody></table>
<h4 id="items"><a href="#items" class="headerlink" title="items"></a>items</h4><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>是否必填</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>label</td>
<td>显示名称</td>
<td>是</td>
<td>String</td>
<td>-</td>
</tr>
<tr>
<td>permission</td>
<td>权限标识</td>
<td>否</td>
<td>String</td>
<td>-</td>
</tr>
<tr>
<td>color</td>
<td>显示颜色【primary,success,danger,warning..】</td>
<td>是</td>
<td>String</td>
<td>-</td>
</tr>
<tr>
<td>event</td>
<td>点击事件</td>
<td>是</td>
<td>Function(row)</td>
<td></td>
</tr>
<tr>
<td>hidden</td>
<td>隐藏条件</td>
<td>是</td>
<td>Function(row)</td>
<td></td>
</tr>
</tbody></table>
<h3 id="operate配置示例"><a href="#operate配置示例" class="headerlink" title="operate配置示例"></a>operate配置示例</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">operate</span>: &#123;</span><br><span class="line">          <span class="attr">width</span>: <span class="number">200</span>,</span><br><span class="line">          <span class="attr">items</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">              <span class="attr">label</span>: <span class="string">&#x27;编辑&#x27;</span>,</span><br><span class="line">              <span class="attr">color</span>: <span class="string">&#x27;primary&#x27;</span>,</span><br><span class="line">              <span class="attr">event</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">edit</span>.<span class="title function_">showModal</span>(row.<span class="property">id</span>)</span><br><span class="line">              &#125;,</span><br><span class="line">              <span class="attr">hidden</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> row.<span class="property">roleType</span> === <span class="number">1</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              <span class="attr">label</span>: <span class="string">&#x27;置顶&#x27;</span>,</span><br><span class="line">              <span class="attr">color</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">              <span class="attr">event</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="title function_">update</span>(&#123;</span><br><span class="line">                  <span class="attr">id</span>: row.<span class="property">id</span>,</span><br><span class="line">                  <span class="attr">isTop</span>: <span class="number">1</span></span><br><span class="line">                &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">                  <span class="keyword">if</span> (res.<span class="property">code</span> === <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">success</span>(<span class="string">&#x27;置顶成功&#x27;</span>)</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="title function_">search</span>()</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;,</span><br><span class="line">              <span class="attr">hidden</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> row.<span class="property">isTop</span> === <span class="number">1</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              <span class="attr">label</span>: <span class="string">&#x27;取消置顶&#x27;</span>,</span><br><span class="line">              <span class="attr">color</span>: <span class="string">&#x27;danger&#x27;</span>,</span><br><span class="line">              <span class="attr">event</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="title function_">update</span>(&#123;</span><br><span class="line">                  <span class="attr">id</span>: row.<span class="property">id</span>,</span><br><span class="line">                  <span class="attr">isTop</span>: <span class="number">0</span></span><br><span class="line">                &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">                  <span class="keyword">if</span> (res.<span class="property">code</span> === <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">success</span>(<span class="string">&#x27;取消成功&#x27;</span>)</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="title function_">search</span>()</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;,</span><br><span class="line">              <span class="attr">hidden</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> row.<span class="property">isTop</span> !== <span class="number">1</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              <span class="attr">label</span>: <span class="string">&#x27;删除&#x27;</span>,</span><br><span class="line">              <span class="attr">color</span>: <span class="string">&#x27;danger&#x27;</span>,</span><br><span class="line">              <span class="attr">event</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">this</span>.$confirm(&#123;</span><br><span class="line">                  <span class="attr">title</span>: <span class="string">&#x27;确认删除？&#x27;</span>,</span><br><span class="line">                  <span class="attr">content</span>: <span class="string">&#x27;删除后将无法恢复！&#x27;</span>,</span><br><span class="line">                  <span class="attr">onOk</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                    <span class="title function_">dels</span>([row.<span class="property">id</span>]).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">                      <span class="keyword">if</span> (res.<span class="property">code</span> === <span class="number">1</span>) &#123;</span><br><span class="line">                        <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">success</span>(<span class="string">&#x27;删除成功&#x27;</span>)</span><br><span class="line">                        <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">myTable</span>.<span class="property">selectedRowKeys</span> = []</span><br><span class="line">                        <span class="variable language_">this</span>.<span class="title function_">search</span>()</span><br><span class="line">                      &#125;</span><br><span class="line">                    &#125;)</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>



<h3 id="方法-2"><a href="#方法-2" class="headerlink" title="方法"></a>方法</h3><table>
<thead>
<tr>
<th>方法名称</th>
<th>参数</th>
<th>返回结果</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>selectedRowKeys</td>
<td>-</td>
<td>[id,id,id]</td>
<td>获取选中的key</td>
</tr>
<tr>
<td>selectedRows</td>
<td>-</td>
<td>[{row},{row},{row}]</td>
<td>获取选中的行</td>
</tr>
<tr>
<td>search</td>
<td>JSON</td>
<td>-</td>
<td>执行搜索{pageNumber:1}&#x3D;搜索第一页</td>
</tr>
<tr>
<td>getSelected</td>
<td>-</td>
<td>{selectedRowKeys,selectedRows}</td>
<td>获取选中的行与选中的key</td>
</tr>
<tr>
<td>setSelected</td>
<td>selectedRowKeys,selectedRows</td>
<td>-</td>
<td>设置选中项</td>
</tr>
</tbody></table>
<blockquote>
<p>关于列表多选，需要保留结果的，建议使用多选选择器</p>
</blockquote>
<h2 id="搜索条"><a href="#搜索条" class="headerlink" title="搜索条"></a>搜索条</h2><blockquote>
<p>常配合table表格使用位于table上方的搜索条件</p>
</blockquote>
<h3 id="示例-8"><a href="#示例-8" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-search ref=&quot;searchBar&quot; :column=&quot;3&quot; :items=&quot;items&quot; @search=&quot;search&quot; @reset=&quot;reset&quot;&gt;&lt;/d-search&gt;</span><br><span class="line">    &lt;a-button @click=&quot;getSearchValues&quot;&gt;获取搜索参数&lt;/a-button&gt;</span><br><span class="line">    &lt;a-button style=&quot;margin-left:10px;&quot; @click=&quot;setSearchValues&quot;&gt;设置搜索值&lt;/a-button&gt;</span><br><span class="line">    &lt;div&gt;&#123;&#123; searchValue &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import items from &#x27;./items&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      items,</span><br><span class="line">      searchValue: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    reset () &#123;</span><br><span class="line">      console.log(&#x27;重置搜索条件&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    search (param) &#123;</span><br><span class="line">      this.searchValue = param</span><br><span class="line">    &#125;,</span><br><span class="line">    getSearchValues () &#123;</span><br><span class="line">      this.searchValue = this.$refs.searchBar.getValues()</span><br><span class="line">    &#125;,</span><br><span class="line">    setSearchValues () &#123;</span><br><span class="line">      this.$refs.searchBar.setValues(&#123;</span><br><span class="line">        title: &#x27;测试标题&#x27;,</span><br><span class="line">        state: 0,</span><br><span class="line">        dates: [&#x27;2020-10-10&#x27;, &#x27;2020-11-11&#x27;]</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-7"><a href="#属性-7" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>items</td>
<td>搜索条件配置</td>
<td>Array</td>
<td>[]</td>
</tr>
<tr>
<td>column</td>
<td>每行显示多少列</td>
<td>Number</td>
<td>3</td>
</tr>
</tbody></table>
<h3 id="items示例"><a href="#items示例" class="headerlink" title="items示例"></a>items示例</h3><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">export default <span class="punctuation">[</span></span><br><span class="line"><span class="comment">//文本</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    type<span class="punctuation">:</span> &#x27;text&#x27;<span class="punctuation">,</span> <span class="comment">//组件类型</span></span><br><span class="line">    dataIndex<span class="punctuation">:</span> &#x27;name&#x27;<span class="punctuation">,</span> <span class="comment">//组件key</span></span><br><span class="line">    label<span class="punctuation">:</span> &#x27;名称&#x27;<span class="punctuation">,</span> <span class="comment">//组件显示名称</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">//下拉静态数据</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    type<span class="punctuation">:</span> &#x27;select&#x27;<span class="punctuation">,</span></span><br><span class="line">    dataIndex<span class="punctuation">:</span> &#x27;state&#x27;<span class="punctuation">,</span></span><br><span class="line">    label<span class="punctuation">:</span> &#x27;状态&#x27;<span class="punctuation">,</span></span><br><span class="line">    options<span class="punctuation">:</span> <span class="punctuation">[</span> <span class="comment">//选项配置</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        label<span class="punctuation">:</span> &#x27;启用&#x27;<span class="punctuation">,</span><span class="comment">//名称</span></span><br><span class="line">        value<span class="punctuation">:</span> &#x27;<span class="number">1</span>&#x27; <span class="comment">//值</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        label<span class="punctuation">:</span> &#x27;禁用&#x27;<span class="punctuation">,</span></span><br><span class="line">        value<span class="punctuation">:</span> &#x27;<span class="number">0</span>&#x27;</span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">//下拉动态数据</span></span><br><span class="line">   <span class="punctuation">&#123;</span></span><br><span class="line">    type<span class="punctuation">:</span> &#x27;select&#x27;<span class="punctuation">,</span></span><br><span class="line">    dataIndex<span class="punctuation">:</span> &#x27;state&#x27;<span class="punctuation">,</span></span><br><span class="line">    label<span class="punctuation">:</span> &#x27;状态&#x27;<span class="punctuation">,</span></span><br><span class="line">    options<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    optionsConfig<span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="comment">//动态数据配置</span></span><br><span class="line">       url<span class="punctuation">:</span>&#x27;http<span class="punctuation">:</span><span class="comment">//localhost:8102/base/classify/getAll&#x27;,//数据请求地址result:&#123;code:1,content:[]&#125;</span></span><br><span class="line">       label<span class="punctuation">:</span> &#x27;title&#x27;<span class="punctuation">,</span><span class="comment">// label对应key  不设置默认label</span></span><br><span class="line">       value<span class="punctuation">:</span> &#x27;id&#x27; <span class="comment">//value 对应key  不设置默认value</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">//树形下拉</span></span><br><span class="line">   <span class="punctuation">&#123;</span></span><br><span class="line">    type<span class="punctuation">:</span> &#x27;tree-select&#x27;<span class="punctuation">,</span></span><br><span class="line">    dataIndex<span class="punctuation">:</span> &#x27;dept&#x27;<span class="punctuation">,</span></span><br><span class="line">    label<span class="punctuation">:</span> &#x27;树形下拉&#x27;<span class="punctuation">,</span></span><br><span class="line">    defaultValue<span class="punctuation">:</span> &#x27;&#x27;<span class="punctuation">,</span></span><br><span class="line">    allowLv<span class="punctuation">:</span> &#x27;&gt;=<span class="number">0</span>&#x27;<span class="punctuation">,</span><span class="comment">//允许选择层级的条件===n,!==n ,&gt;=n ,&lt;=n,&gt;n,&lt;n,false 不使用条件(不使用条件时，可通过返回结果内增加disabled=[true|false]控制是否可选)</span></span><br><span class="line">    asyncLoad<span class="punctuation">:</span><span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span><span class="comment">//是否开启数据懒加载（开启后会在请求url上增加参数?pid=value）</span></span><br><span class="line">    optionsConfig<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">       url<span class="punctuation">:</span>&#x27;http<span class="punctuation">:</span><span class="comment">//localhost:8102/base/classify/getAll&#x27;,//数据请求地址result:&#123;code:1,content:[&#123;label,value,lv,[disabled]&#125;]&#125;</span></span><br><span class="line">       label<span class="punctuation">:</span> &#x27;title&#x27;<span class="punctuation">,</span><span class="comment">// label对应key  不设置默认title</span></span><br><span class="line">       value<span class="punctuation">:</span> &#x27;id&#x27;<span class="punctuation">,</span> <span class="comment">//value 对应key  不设置默认value</span></span><br><span class="line">       lv<span class="punctuation">:</span> &#x27;lv&#x27;<span class="comment">//层级 不设置 默认 lv</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">//日期范围</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    type<span class="punctuation">:</span> &#x27;range-picker&#x27;<span class="punctuation">,</span></span><br><span class="line">    dataIndex<span class="punctuation">:</span> &#x27;dates&#x27;<span class="punctuation">,</span></span><br><span class="line">    label<span class="punctuation">:</span> &#x27;日期范围&#x27;<span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">//月选择框</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    type<span class="punctuation">:</span> &#x27;month-picker&#x27;<span class="punctuation">,</span></span><br><span class="line">    dataIndex<span class="punctuation">:</span> &#x27;month&#x27;<span class="punctuation">,</span></span><br><span class="line">    label<span class="punctuation">:</span> &#x27;月份选择&#x27;<span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<h3 id="事件-6"><a href="#事件-6" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>search</td>
<td>点击搜索</td>
<td>function(values)</td>
</tr>
<tr>
<td>reset</td>
<td>点击重置</td>
<td>function()</td>
</tr>
</tbody></table>
<h3 id="方法-3"><a href="#方法-3" class="headerlink" title="方法"></a>方法</h3><table>
<thead>
<tr>
<th>方法名称</th>
<th>参数</th>
<th>返回结果</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>getValues</td>
<td>-</td>
<td>Object</td>
<td>获取当前搜索条件</td>
</tr>
<tr>
<td>setSearchValues</td>
<td>Object</td>
<td>-</td>
<td>设置当前搜索条件</td>
</tr>
</tbody></table>
<h2 id="报表"><a href="#报表" class="headerlink" title="报表"></a>报表</h2><blockquote>
<p>需结合报表服务</p>
</blockquote>
<h3 id="示例-9"><a href="#示例-9" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-report</span><br><span class="line">      ref=&quot;dReport&quot;</span><br><span class="line">      :domain=&quot;domain&quot;</span><br><span class="line">      reportId=&quot;ff80808174d28d1b0174d2b88a730000&quot;</span><br><span class="line">      reportName=&quot;验收单&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;a-button @click=&quot;hideModal&quot;&gt;关闭&lt;/a-button&gt;</span><br><span class="line">    &lt;/d-report&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      domain: &#x27;http://xxxxxx&#x27; // 报表服务的跟地址</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.$refs.dReport.init(&#123; orderId: 1, brandId: 123 &#125;, () =&gt; &#123;&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-8"><a href="#属性-8" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>domain</td>
<td>报表服务跟域名</td>
<td>Array</td>
<td>必填</td>
</tr>
<tr>
<td>reportId</td>
<td>报表配置ID</td>
<td>String</td>
<td>必填</td>
</tr>
<tr>
<td>reportName</td>
<td>报表名称</td>
<td>String</td>
<td>报表</td>
</tr>
<tr>
<td>solt</td>
<td>插槽，可插入操作按钮</td>
<td>-</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id="方法-4"><a href="#方法-4" class="headerlink" title="方法"></a>方法</h3><table>
<thead>
<tr>
<th>方法名称</th>
<th>参数</th>
<th>返回结果</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>init</td>
<td>JSON</td>
<td>-</td>
<td>初始化报表，参数为配置报表时所需参数</td>
</tr>
</tbody></table>
<h2 id="报表导出"><a href="#报表导出" class="headerlink" title="报表导出"></a>报表导出</h2><blockquote>
<p>依赖报表服务</p>
</blockquote>
<h3 id="示例-10"><a href="#示例-10" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-export-tools</span><br><span class="line">      ref=&quot;lzExportTools&quot;</span><br><span class="line">      domain=&quot;http://localhost:7001&quot;</span><br><span class="line">      reportId=&quot;ff80808174d28d1b0174d43fb7e40001&quot;</span><br><span class="line">      reportName=&quot;测试导出&quot;</span><br><span class="line">      @click=&quot;exportClick&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    exportClick () &#123;</span><br><span class="line">      this.$refs.dExportTools.exportExcel(&#123; keyword: &#x27;ceshi&#x27; &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-9"><a href="#属性-9" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>domain</td>
<td>报表服务跟域名</td>
<td>Array</td>
<td>必填</td>
</tr>
<tr>
<td>reportId</td>
<td>报表配置ID</td>
<td>String</td>
<td>必填</td>
</tr>
<tr>
<td>reportName</td>
<td>报表名称</td>
<td>String</td>
<td>报表</td>
</tr>
</tbody></table>
<h3 id="方法-5"><a href="#方法-5" class="headerlink" title="方法"></a>方法</h3><table>
<thead>
<tr>
<th>方法名称</th>
<th>参数</th>
<th>返回结果</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>exportWord</td>
<td>JSON</td>
<td>-</td>
<td>导出word</td>
</tr>
<tr>
<td>exportExcel</td>
<td>JSON</td>
<td>-</td>
<td>导出excel</td>
</tr>
<tr>
<td>exportPdf</td>
<td>JSON</td>
<td>-</td>
<td>导出pdf</td>
</tr>
</tbody></table>
<h2 id="日期选择器"><a href="#日期选择器" class="headerlink" title="日期选择器"></a>日期选择器</h2><h3 id="示例-11"><a href="#示例-11" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-date-picker</span><br><span class="line">      v-model=&quot;datePicker&quot;</span><br><span class="line">      :show-time=&quot;&#123;</span><br><span class="line">        format: &#x27;HH:mm&#x27;,</span><br><span class="line">      &#125;&quot;</span><br><span class="line">      :show-today=&quot;false&quot;</span><br><span class="line">      @change=&quot;dateChange&quot;</span><br><span class="line">      :disabledDate=&quot;disabledDate&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import moment from &#x27;moment&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      datePicker: &#x27;2020-10-10&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    dateChange (values) &#123;</span><br><span class="line">      console.log(values)</span><br><span class="line">    &#125;,</span><br><span class="line">    disabledDate (current) &#123;</span><br><span class="line">      // 只能选择今天之前</span><br><span class="line">      return current &amp;&amp; current &gt; moment().endOf(&#x27;day&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-10"><a href="#属性-10" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>v-model(value)</td>
<td>绑定值</td>
<td>Array</td>
<td>[]</td>
</tr>
<tr>
<td>allowClear</td>
<td><em>是否展示清除按钮</em></td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>disabled</td>
<td><em>禁用全部操作</em></td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>format</td>
<td><em>展示的时间格式</em></td>
<td>String</td>
<td>YYYY-MM-DD</td>
</tr>
<tr>
<td>placeholder</td>
<td><em>没有值的时候显示的内容</em></td>
<td>Array</td>
<td>[]</td>
</tr>
<tr>
<td>size</td>
<td>文本框大小[large,default,small]</td>
<td>String</td>
<td>default</td>
</tr>
<tr>
<td>inputReadOnly</td>
<td><em>设置输入框为只读（避免在移动设备上打开虚拟键盘）</em></td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>showToday</td>
<td><em>是否展示“今天”按钮</em></td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>showTime</td>
<td><em>显示时间选择器</em></td>
<td>[Object, Boolean]</td>
<td>false</td>
</tr>
<tr>
<td>disabledDate</td>
<td><em>禁用日期</em></td>
<td>[Function, Boolean]</td>
<td>false</td>
</tr>
<tr>
<td>disabledTime</td>
<td><em>禁用时间</em></td>
<td>[Function, Boolean]</td>
<td>false</td>
</tr>
</tbody></table>
<h3 id="事件-7"><a href="#事件-7" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>选择值改变</td>
<td>function(values)</td>
</tr>
</tbody></table>
<h2 id="日期范围选择器"><a href="#日期范围选择器" class="headerlink" title="日期范围选择器"></a>日期范围选择器</h2><h3 id="示例-12"><a href="#示例-12" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-range-picker</span><br><span class="line">      v-model=&quot;rangePicker&quot;</span><br><span class="line">      format=&quot;YYYY-MM-DD HH:mm&quot;</span><br><span class="line">      :showTime=&quot;&#123;</span><br><span class="line">        format: &#x27;HH:mm&#x27;,</span><br><span class="line">      &#125;&quot;</span><br><span class="line">      :disabled-date=&quot;disabledDate&quot;</span><br><span class="line">      :placeholder=&quot;[&#x27;开始日期&#x27;,&#x27;结束日期&#x27;]&quot;</span><br><span class="line">    &gt;&lt;/d-range-picker&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import moment from &#x27;moment&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      rangePicker: [&#x27;&#x27;, &#x27;&#x27;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    disabledDate (current) &#123;</span><br><span class="line">      // 禁止点击今天与今天之前的日志</span><br><span class="line">      return current &amp;&amp; current &lt; moment().endOf(&#x27;day&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-11"><a href="#属性-11" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>v-model(value)</td>
<td>绑定值</td>
<td>Array</td>
<td>[]</td>
</tr>
<tr>
<td>allowClear</td>
<td><em>是否展示清除按钮</em></td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>disabled</td>
<td><em>禁用全部操作</em></td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>format</td>
<td><em>展示的时间格式</em></td>
<td>String</td>
<td>YYYY-MM-DD</td>
</tr>
<tr>
<td>placeholder</td>
<td><em>没有值的时候显示的内容</em></td>
<td>Array</td>
<td>[]</td>
</tr>
<tr>
<td>size</td>
<td>文本框大小[large,default,small]</td>
<td>String</td>
<td>default</td>
</tr>
<tr>
<td>inputReadOnly</td>
<td><em>设置输入框为只读（避免在移动设备上打开虚拟键盘）</em></td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>showTime</td>
<td><em>显示时间选择器</em></td>
<td>[Object, Boolean]</td>
<td>false</td>
</tr>
<tr>
<td>disabledDate</td>
<td><em>禁用日期</em></td>
<td>[Function, Boolean]</td>
<td>false</td>
</tr>
<tr>
<td>disabledTime</td>
<td><em>禁用时间</em></td>
<td>[Function, Boolean]</td>
<td>false</td>
</tr>
<tr>
<td>showRanges</td>
<td><em>显示扩展按钮</em></td>
<td>Boolean</td>
<td>true</td>
</tr>
</tbody></table>
<h3 id="事件-8"><a href="#事件-8" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>选择值改变</td>
<td>function(values)</td>
</tr>
</tbody></table>
<h2 id="单选选择器"><a href="#单选选择器" class="headerlink" title="单选选择器"></a>单选选择器</h2><h3 id="示例-13"><a href="#示例-13" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-one-selector</span><br><span class="line">      :action=&quot;action&quot;</span><br><span class="line">      :replaceFields=&quot;&#123;</span><br><span class="line">        title: &#x27;cateName,cateCode&#x27;,</span><br><span class="line">        description: &#x27;createTime&#x27;,</span><br><span class="line">      &#125;&quot;</span><br><span class="line">      v-model=&quot;selector&quot;</span><br><span class="line">      @change=&quot;handelChange&quot;</span><br><span class="line">      :show-description=&quot;true&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      selector: null,</span><br><span class="line">      action: &#x27;http://xxx&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handelChange (values) &#123;</span><br><span class="line">      console.log(values)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-12"><a href="#属性-12" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>v-model(value)</td>
<td>绑定值</td>
<td>Object</td>
<td>null</td>
</tr>
<tr>
<td>action</td>
<td>左侧数据请求url<br/>（自动附加请求参数：pageSize，pageNumber，keyword）</td>
<td>String</td>
<td>‘’</td>
</tr>
<tr>
<td>replaceFields</td>
<td>显示的内容可以用(,)分割在一行展示多列</td>
<td>Object</td>
<td>{<br/>	title: ‘title,code’,<br/>	description: ‘createTime’,<br/>}</td>
</tr>
<tr>
<td>showDescription</td>
<td>是否显示描述行</td>
<td>Boolean</td>
<td>true</td>
</tr>
</tbody></table>
<h3 id="事件-9"><a href="#事件-9" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>结果发生改变时调用</td>
<td>function(values)</td>
</tr>
</tbody></table>
<h2 id="多选选择器"><a href="#多选选择器" class="headerlink" title="多选选择器"></a>多选选择器</h2><h3 id="示例-14"><a href="#示例-14" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-multiple-selector</span><br><span class="line">      :action=&quot;action&quot;</span><br><span class="line">      :replaceFields=&quot;&#123;</span><br><span class="line">        title: &#x27;title,code&#x27;,</span><br><span class="line">        description: &#x27;note&#x27;,</span><br><span class="line">      &#125;&quot;</span><br><span class="line">      v-model=&quot;selector&quot;</span><br><span class="line">      :show-description=&quot;false&quot;</span><br><span class="line">      @change=&quot;handelChange&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        selector: [],</span><br><span class="line">        action: &#x27;http://xxx&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handelChange (values) &#123;</span><br><span class="line">        console.log(values)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-13"><a href="#属性-13" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>v-model(value)</td>
<td>绑定值</td>
<td>Object</td>
<td>null</td>
</tr>
<tr>
<td>action</td>
<td>左侧数据请求url<br/>（自动附加请求参数：pageSize，pageNumber，keyword）</td>
<td>String</td>
<td>‘’</td>
</tr>
<tr>
<td>replaceFields</td>
<td>显示的内容可以用(,)分割在一行展示多列</td>
<td>Object</td>
<td>{<br/>	title: ‘title,code’,<br/>	description: ‘createTime’,<br/>}</td>
</tr>
<tr>
<td>showDescription</td>
<td>是否显示描述行</td>
<td>Boolean</td>
<td>true</td>
</tr>
</tbody></table>
<h3 id="事件-10"><a href="#事件-10" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>结果发生改变时调用</td>
<td>function(values)</td>
</tr>
</tbody></table>
<h2 id="月选择"><a href="#月选择" class="headerlink" title="月选择"></a>月选择</h2><h3 id="示例-15"><a href="#示例-15" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-month-picker v-model=&quot;month&quot; :disabledDate=&quot;disabledDate&quot; /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import moment from &#x27;moment&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      month: null</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    disabledDate (current) &#123;</span><br><span class="line">      // 只能选择今天及以前的月</span><br><span class="line">      return current &amp;&amp; current &gt; moment().endOf(&#x27;day&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-14"><a href="#属性-14" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>v-model(value)</td>
<td>绑定值</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>allowClear</td>
<td><em>是否展示清除按钮</em></td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>disabled</td>
<td><em>禁用全部操作</em></td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>format</td>
<td><em>展示格式</em></td>
<td>String</td>
<td>YYYY-MM</td>
</tr>
<tr>
<td>placeholder</td>
<td><em>没有值的时候显示的内容</em></td>
<td>String</td>
<td>‘’</td>
</tr>
<tr>
<td>size</td>
<td>文本框大小[large,default,small]</td>
<td>String</td>
<td>default</td>
</tr>
<tr>
<td>inputReadOnly</td>
<td><em>设置输入框为只读（避免在移动设备上打开虚拟键盘）</em></td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>disabledDate</td>
<td><em>禁用日期</em></td>
<td>[Function, Boolean]</td>
<td>false</td>
</tr>
</tbody></table>
<h3 id="事件-11"><a href="#事件-11" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>结果发生改变时调用</td>
<td>function(values)</td>
</tr>
</tbody></table>
<h2 id="图片列表"><a href="#图片列表" class="headerlink" title="图片列表"></a>图片列表</h2><h3 id="示例-16"><a href="#示例-16" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-image</span><br><span class="line">      url=&quot;path&quot;</span><br><span class="line">      :data-list=&quot;dataList&quot;</span><br><span class="line">      width=&quot;100px&quot;</span><br><span class="line">      height=&quot;100px&quot;</span><br><span class="line">    &gt;</span><br><span class="line"></span><br><span class="line">    &lt;/d-image&gt;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        dataList: [</span><br><span class="line">          &#123;</span><br><span class="line">            path:</span><br><span class="line">              &#x27;https://ss0.bdstatic.com/94oJfD_bAAcT8t7mm9GUKT-xh_/timg?image&amp;quality=100&amp;size=b4000_4000&amp;sec=1595555863&amp;di=170ed927a6ae5b36f478e5b222d05816&amp;src=http://a3.att.hudong.com/14/75/01300000164186121366756803686.jpg&#x27;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            path:</span><br><span class="line">              &#x27;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1595565947814&amp;di=88ad5be9f62cf469215501c5abe970a0&amp;imgtype=0&amp;src=http%3A%2F%2Fa4.att.hudong.com%2F22%2F59%2F19300001325156131228593878903.jpg&#x27;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            path:</span><br><span class="line">              &#x27;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1595565947814&amp;di=88ad5be9f62cf469215501c5abe970a0&amp;imgtype=0&amp;src=http%3A%2F%2Fa4.att.hudong.com%2F22%2F59%2F19300001325156131228593878903.jpg&#x27;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            path:</span><br><span class="line">              &#x27;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1595565947814&amp;di=88ad5be9f62cf469215501c5abe970a0&amp;imgtype=0&amp;src=http%3A%2F%2Fa4.att.hudong.com%2F22%2F59%2F19300001325156131228593878903.jpg&#x27;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            path:</span><br><span class="line">              &#x27;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1595565947814&amp;di=88ad5be9f62cf469215501c5abe970a0&amp;imgtype=0&amp;src=http%3A%2F%2Fa4.att.hudong.com%2F22%2F59%2F19300001325156131228593878903.jpg&#x27;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            path:</span><br><span class="line">              &#x27;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1595565947814&amp;di=88ad5be9f62cf469215501c5abe970a0&amp;imgtype=0&amp;src=http%3A%2F%2Fa4.att.hudong.com%2F22%2F59%2F19300001325156131228593878903.jpg&#x27;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;&#125;,</span><br><span class="line">  methods: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-15"><a href="#属性-15" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>data-list</td>
<td>图片列表数据</td>
<td>Array</td>
<td>[]</td>
</tr>
<tr>
<td>url</td>
<td>图片列表中对应url的地址dataIndex</td>
<td>String</td>
<td>url</td>
</tr>
<tr>
<td>baseUrl</td>
<td>图片访问跟地址</td>
<td>String</td>
<td>‘’</td>
</tr>
<tr>
<td>width</td>
<td>图片宽</td>
<td>String</td>
<td>100px</td>
</tr>
<tr>
<td>height</td>
<td>图片高</td>
<td>String</td>
<td>100px</td>
</tr>
</tbody></table>
<h2 id="高德地图坐标拾取"><a href="#高德地图坐标拾取" class="headerlink" title="高德地图坐标拾取"></a>高德地图坐标拾取</h2><h3 id="示例-17"><a href="#示例-17" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-map-choose-address</span><br><span class="line">      map-key=&quot;87ff1e887140aa980a075c096a434940&quot;</span><br><span class="line">      placeholder=&quot;请设置地址&quot;</span><br><span class="line">      v-model=&quot;chooseArddr&quot;</span><br><span class="line">      @change=&quot;chooseArddrChange&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    选择结果：&#123;&#123; chooseArddr &#125;&#125;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      chooseArddr: null</span><br><span class="line">      // &#123;</span><br><span class="line">      //   addr: &#x27;河南省郑州市金水区文化路街道河南省农业科学院1&#x27;,</span><br><span class="line">      //   lat: &#x27;34.788996&#x27;,</span><br><span class="line">      //   lng: &#x27;113.679317&#x27;</span><br><span class="line">      // &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    chooseArddrChange (val) &#123;</span><br><span class="line">      console.log(val)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-16"><a href="#属性-16" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>v-model(value)</td>
<td>绑定数据</td>
<td>Object</td>
<td>null</td>
</tr>
<tr>
<td>placeholder</td>
<td>数据空时提示</td>
<td>String</td>
<td>‘’</td>
</tr>
<tr>
<td>mapKey</td>
<td>高德地图申请的key</td>
<td>String</td>
<td>必填</td>
</tr>
</tbody></table>
<h3 id="事件-12"><a href="#事件-12" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>结果发生改变时调用</td>
<td>function(values)</td>
</tr>
</tbody></table>
<h2 id="树形-1"><a href="#树形-1" class="headerlink" title="树形"></a>树形</h2><blockquote>
<p>适用于授权等，层级不限，最后一级横排。</p>
</blockquote>
<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p><img src="https://cdn.jsdelivr.net/gh/itvita/liuqiang@master/md/lzAuthTree.jpg" alt="lzAuthTree.jpg"></p>
<h3 id="示例-18"><a href="#示例-18" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;lz-auth-tree v-model=&quot;checkedKeys&quot; :items=&quot;treeData&quot; @change=&quot;change&quot; /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;&#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      checkedKeys: [&#x27;1323994360672419840&#x27;],</span><br><span class="line">      treeData: [</span><br><span class="line">        &#123;</span><br><span class="line">          children: [</span><br><span class="line">            &#123;</span><br><span class="line">              pid: &#x27;1323994360672419840&#x27;,</span><br><span class="line">              menuType: 2,</span><br><span class="line">              id: &#x27;1323995046420152320&#x27;,</span><br><span class="line">              title: &#x27;分类管理&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              pid: &#x27;1323994360672419840&#x27;,</span><br><span class="line">              menuType: 2,</span><br><span class="line">              id: &#x27;1323997514642227200&#x27;,</span><br><span class="line">              title: &#x27;文章管理&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              pid: &#x27;1323994360672419840&#x27;,</span><br><span class="line">              menuType: 2,</span><br><span class="line">              id: &#x27;1335853728959299584&#x27;,</span><br><span class="line">              title: &#x27;用户管理&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">          ],</span><br><span class="line">          pid: &#x27;0&#x27;,</span><br><span class="line">          menuType: 1,</span><br><span class="line">          id: &#x27;1323994360672419840&#x27;,</span><br><span class="line">          title: &#x27;IT生活&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          children: [</span><br><span class="line">            &#123;</span><br><span class="line">              pid: &#x27;1322770188088639488&#x27;,</span><br><span class="line">              menuType: 2,</span><br><span class="line">              id: &#x27;1322803882748805120&#x27;,</span><br><span class="line">              title: &#x27;用户管理&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              pid: &#x27;1322770188088639488&#x27;,</span><br><span class="line">              menuType: 2,</span><br><span class="line">              id: &#x27;1322774696441151488&#x27;,</span><br><span class="line">              title: &#x27;菜单管理&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              pid: &#x27;1322770188088639488&#x27;,</span><br><span class="line">              menuType: 2,</span><br><span class="line">              id: &#x27;1322803959471013888&#x27;,</span><br><span class="line">              title: &#x27;角色管理&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">          ],</span><br><span class="line">          pid: &#x27;0&#x27;,</span><br><span class="line">          menuType: 1,</span><br><span class="line">          id: &#x27;1322770188088639488&#x27;,</span><br><span class="line">          title: &#x27;系统管理&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;&#125;,</span><br><span class="line">  mounted () &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    change (e) &#123;</span><br><span class="line">      console.log(e)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;		</span><br></pre></td></tr></table></figure>

<h3 id="属性-17"><a href="#属性-17" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>v-model(value)</td>
<td>绑定数据</td>
<td>Array</td>
<td>[]</td>
</tr>
<tr>
<td>items</td>
<td>渲染数据</td>
<td>Array(树形)[{id:xx,title:xx}]</td>
<td>[]</td>
</tr>
</tbody></table>
<h3 id="事件-13"><a href="#事件-13" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>结果发生改变时调用</td>
<td>function(values)</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>vue</category>
        <category>Afd-Lib</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>xTools帮助文档</title>
    <url>/20221009/xtools%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3/</url>
    <content><![CDATA[<ol>
<li><a href="#%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0">图片上传</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B">示例</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81">代码</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6">事件</a></li>
</ol>
</li>
<li><a href="#ztree%E6%A0%91%E5%BD%A2%E5%B1%95%E7%A4%BA">ztree树形展示</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-1">示例</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81-1">代码</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-1">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-1">事件</a></li>
<li><a href="#%E6%96%B9%E6%B3%95">方法</a></li>
</ol>
</li>
<li><a href="#%E5%A4%9A%E9%80%89">多选</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-2">示例</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81-2">代码</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-2">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-2">事件</a></li>
<li><a href="#%E6%96%B9%E6%B3%95-1">方法</a></li>
</ol>
</li>
<li><a href="#%E6%8F%8F%E8%BF%B0%E5%88%97%E8%A1%A8">描述列表</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-3">示例</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81-3">代码</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-3">属性</a></li>
</ol>
</li>
<li><a href="#%E5%9B%BE%E7%89%87%E9%A2%84%E8%A7%88">图片预览</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-4">示例</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81-4">代码</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-4">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-3">事件</a></li>
</ol>
</li>
<li><a href="#%E5%AF%8C%E6%96%87%E6%9C%AC">富文本</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-5">示例</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81-5">代码</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-5">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-4">事件</a></li>
</ol>
</li>
<li><a href="#%E7%AE%80%E6%98%93%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6">简易上传组件</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-6">示例</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81-6">代码</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-6">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-5">事件</a></li>
</ol>
</li>
<li><a href="#%E5%9B%BE%E7%89%87%E9%A2%84%E8%A7%88v2">图片预览v2</a><ol>
<li><a href="#%E7%A4%BA%E4%BE%8B-7">示例</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81-7">代码</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-7">属性</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6-6">事件</a></li>
</ol>
</li>
</ol>
<h2 id="图片上传"><a href="#图片上传" class="headerlink" title="图片上传"></a>图片上传</h2><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p><img src="https://cdn.jsdelivr.net/gh/itvita/resources@master/images/20210910175339.png"></p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xui-image-upload</span></span></span><br><span class="line"><span class="tag">      <span class="attr">baseUrl</span>=<span class="string">&quot;https://norisk-dev-1305901002.cos.ap-chengdu.myqcloud.com/&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">action</span>=<span class="string">&quot;http://192.168.1.59:9001/app/company/h5/v1/common/ant/upload&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:headers</span>=<span class="string">&quot;headers&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;images&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:maxNum</span>=<span class="string">&quot;3&quot;</span></span></span><br><span class="line"><span class="tag">      &gt;</span>&lt;/xui-image-upload</span><br><span class="line">    &gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  data () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">headers</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">xxx</span>: <span class="string">&#x27;xxxxxxx&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">images</span>: [</span></span><br><span class="line"><span class="language-javascript">        &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&#x27;测试1&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">original</span>:</span></span><br><span class="line"><span class="language-javascript">            <span class="string">&#x27;20210910/3ec7557b2a0d40a69b58b9f16a7cf2b1.png?imageMogr2/format/tpg&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">path</span>: <span class="string">&#x27;20210910/3ec7557b2a0d40a69b58b9f16a7cf2b1.png&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      ]</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  mounted () &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>baseUrl</td>
<td>图片访问跟地址</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>action</td>
<td>文件上传地址</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>headers</td>
<td>上传header</td>
<td>Object</td>
<td>{}</td>
</tr>
<tr>
<td>v-model</td>
<td>绑定数据</td>
<td>Array</td>
<td>[]</td>
</tr>
<tr>
<td>maxNum</td>
<td>最大上传数量</td>
<td>Number</td>
<td>5</td>
</tr>
<tr>
<td>size</td>
<td>大小限制，单位MB</td>
<td>Number</td>
<td>2</td>
</tr>
<tr>
<td>accept</td>
<td>限制格式</td>
<td>String</td>
<td>.png, .jpg, .jpeg, .gif</td>
</tr>
</tbody></table>
<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>done</td>
<td>上传完成调用</td>
<td>function(values)</td>
</tr>
</tbody></table>
<h2 id="ztree树形展示"><a href="#ztree树形展示" class="headerlink" title="ztree树形展示"></a>ztree树形展示</h2><h3 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h3><p><img src="https://cdn.jsdelivr.net/gh/itvita/resources@master/images/202202171710336.png"></p>
<h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xui-ztree</span></span></span><br><span class="line"><span class="tag">      <span class="attr">ref</span>=<span class="string">&quot;ztree&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">click</span>=<span class="string">&quot;handelClick&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">allowDrag</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">onDrop</span>=<span class="string">&quot;handelOnDrop&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">allowRight</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">add</span>=<span class="string">&quot;handelAdd&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">edit</span>=<span class="string">&quot;handelEdit&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">delete</span>=<span class="string">&quot;handelDelete&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">components</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">  data () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  mounted () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> zNodes = [&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1471031561859104768&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;技术部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;120&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;技术部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">drag</span>: <span class="literal">false</span>, <span class="comment">// 禁止拖动</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">childOuter</span>: <span class="literal">false</span>, <span class="comment">// 禁止子节点拖走</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">dropInner</span>: <span class="literal">false</span>, <span class="comment">// 禁止拖入内部</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">noR</span>: <span class="literal">true</span><span class="comment">// 禁止右键</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1446660854618521600&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;测试1&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;102&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;测试1&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1433634300481241088&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;总经办&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;100&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;总经办&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1449920876383305728&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;技术研发部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;111&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;技术研发部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1449920877176029184&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;质量管理部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;114&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;质量管理部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1448897871297380352&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;公司所有部门&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;109&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;公司所有部门&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1446310621657169920&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;生产处&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;101&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;生产处&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1449920877016645633&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;印刷车间&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;113&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;印刷车间&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1446714319529050113&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;EHS部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;103&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;EHS部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1447462514932580353&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;后勤处&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;106&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;后勤处&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1447462510973157377&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;行政部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;105&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;行政部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1447825233716183041&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;生产运行部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;108&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;生产运行部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1447462507491885057&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;危化部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;104&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;危化部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1467797017227952130&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;生产部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;115&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;生产部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1467797032931426306&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;安环部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;118&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;安环部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1447824551772684290&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;财务部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;107&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;财务部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1467797026493169666&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;仓库部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;116&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;仓库部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1467797030205128706&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;设备部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;117&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;设备部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1467797034667868162&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;副总经理&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;119&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;副总经理&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1449920876475580418&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;模切车间&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;112&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;模切车间&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1448897871381266435&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;综合管理部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;110&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;综合管理部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1433634472804220928&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;安全技术部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;100101&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;总经办&gt;安全技术部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;1433634300481241088&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1437968767303811072&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;综合财务部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;100102&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;总经办&gt;综合财务部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;1433634300481241088&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1433634437257494528&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;智慧研发部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;100100&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;总经办&gt;智慧研发部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;1433634300481241088&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1433634708930953216&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;研发一组&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;100100100&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;3&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;总经办&gt;智慧研发部&gt;研发一组&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;1433634437257494528&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1433634770872434688&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;研发2组&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;100100101&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;3&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;总经办&gt;智慧研发部&gt;研发2组&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;1433634437257494528&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1436160986611449856&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;技术一组&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;100101100&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;3&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;总经办&gt;安全技术部&gt;技术一组&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;1433634472804220928&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1446714319843622912&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;ehs检查科&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;103100&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;EHS部&gt;ehs检查科&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;1446714319529050113&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1466650607812083712&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;0&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;103100101&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;EHS部&gt;ehs检查科&gt;0&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;1446714319843622912&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1446714320263053312&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;LED班&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;103100100&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;3&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;EHS部&gt;ehs检查科&gt;LED班&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;1446714319843622912&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1447462507835817987&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;劳动防护用具&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;104100&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;3&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;危化部&gt;劳动防护用具&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;1447462507491885057&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1447462511283535875&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;池内外脱落&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;105100&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;3&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;行政部&gt;池内外脱落&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;1447462510973157377&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1447462513175166980&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;警示标识&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;105101&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;3&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;行政部&gt;警示标识&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;1447462510973157377&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1447462515242958851&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;有落石&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;106100&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;3&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;后勤处&gt;有落石&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;1447462514932580353&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;1447825234022367232&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">accountId</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;eh检查科&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgCode</span>: <span class="string">&#x27;108100&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">orgType</span>: <span class="string">&#x27;2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fullName</span>: <span class="string">&#x27;生产运行部&gt;eh检查科&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pid</span>: <span class="string">&#x27;1447825233716183041&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;]</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> root = &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">open</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">id</span>: <span class="string">&#x27;0&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">pId</span>: <span class="string">&#x27;-1&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;跟节点&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// icon: &#x27;https://cdn.jsdelivr.net/gh/itvita/liuqiang@master/nage/gongsi.png&#x27; //自定义图标</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">drag</span>: <span class="literal">false</span>, <span class="comment">// 禁止拖动</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    zNodes.<span class="title function_">forEach</span>(<span class="function"><span class="params">d</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      d.<span class="property">pId</span> = d.<span class="property">pid</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">delete</span> d.<span class="property">pid</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// d.icon = &#x27;https://cdn.jsdelivr.net/gh/itvita/liuqiang@master/nage/gongsi.png&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// drag: false, // 禁止拖动</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// childOuter: false, // 禁止子节点拖走</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// dropInner: false, // 禁止拖入内部</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// noR: true// 禁止右键</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    zNodes.<span class="title function_">push</span>(root)</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">ztree</span>.<span class="title function_">init</span>(zNodes)</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    handelClick (treeNode) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(treeNode)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    handelOnDrop (treeNodes, targetNode, moveType) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(treeNodes, targetNode, moveType)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    handelAdd (treeNode) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(treeNode)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    handelEdit (treeNode) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(treeNode)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    handelDelete (treeNode) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(treeNode)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>allowDrag</td>
<td>允许拖动</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>allowRight</td>
<td>允许右键菜单</td>
<td>Boolean</td>
<td>false</td>
</tr>
</tbody></table>
<h3 id="事件-1"><a href="#事件-1" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>回调参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>click</td>
<td>function(treeNode)</td>
<td>点击事件，选中项的数据</td>
</tr>
<tr>
<td>onDrop</td>
<td>function(treeNodes, targetNode, moveType)</td>
<td>拖动结束事件，treeNodes：拖动节点数组，targetNode目标节点，moveType移动方式（inner拖入，prev拖上，next拖下）</td>
</tr>
<tr>
<td>add</td>
<td>function(treeNode)</td>
<td>新增事件，选中项的数据</td>
</tr>
<tr>
<td>edit</td>
<td>function(treeNode)</td>
<td>编辑事件，选中项的数据</td>
</tr>
<tr>
<td>delete</td>
<td>function(treeNode)</td>
<td>删除事件，选中项的数据</td>
</tr>
</tbody></table>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><table>
<thead>
<tr>
<th>方法名称</th>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>init</td>
<td>树形简单数据[{id,name,pId}]</td>
<td>树形初始化</td>
</tr>
<tr>
<td>select</td>
<td>id</td>
<td>设置选中</td>
</tr>
</tbody></table>
<h2 id="多选"><a href="#多选" class="headerlink" title="多选"></a>多选</h2><h3 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h3><p><img src="https://cdn.jsdelivr.net/gh/itvita/resources@master/images/20210910180900.png"></p>
<h3 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xui-multiple-choice</span></span></span><br><span class="line"><span class="tag">      <span class="attr">ref</span>=<span class="string">&quot;xMultipleChoice&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:multiple</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">change</span>=<span class="string">&quot;handelChange&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:dataSource</span>=<span class="string">&quot;data&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;done&quot;</span>&gt;</span>获取选择结果<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  data () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> data = [</span></span><br><span class="line"><span class="language-javascript">      &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>: <span class="string">&#x27;现场管理&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">children</span>: []</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>: <span class="string">&#x27;基础管理&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">children</span>: []</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    ]</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">for</span> (<span class="keyword">var</span> x = <span class="number">0</span>; x &lt; <span class="number">10</span>; x++) &#123;</span></span><br><span class="line"><span class="language-javascript">        data[i].<span class="property">children</span>.<span class="title function_">push</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">id</span>: i + <span class="string">&#x27;&#x27;</span> + x,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: i + <span class="string">&#x27;-测试数据&#x27;</span> + x</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: data</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  mounted () &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">/**</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * <span class="doctag">@Time</span>: 2021-07-23 23:05:02</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * <span class="doctag">@author</span>: liu.q [916000612<span class="doctag">@qq</span>.com]</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * <span class="doctag">@des</span>:  item 当前操作项, type【&#x27;selected&#x27;选择，&#x27;unselected&#x27;取消选择】, selectIds 最终结果id数组</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * */</span></span></span><br><span class="line"><span class="language-javascript">    handelChange (&#123; item, type, selectIds &#125;) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(item, type, selectIds)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">/**</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * <span class="doctag">@Time</span>: 2021-07-23 23:06:14</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * <span class="doctag">@author</span>: liu.q [916000612<span class="doctag">@qq</span>.com]</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * <span class="doctag">@des</span>:  获取最终选择结果</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * */</span></span></span><br><span class="line"><span class="language-javascript">    done () &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">/* 获取选中ID */</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> selectIds = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">xMultipleChoice</span>.<span class="title function_">getSelectIds</span>()</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(selectIds)</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">/* 获取选中对象 */</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> selectObjects = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">xMultipleChoice</span>.<span class="title function_">getSelectObjects</span>()</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(selectObjects)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="属性-2"><a href="#属性-2" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>multiple</td>
<td>是否多选</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>dataSource</td>
<td>数据源，两级数组[{id,name,children}]</td>
<td>Array</td>
<td></td>
</tr>
</tbody></table>
<h3 id="事件-2"><a href="#事件-2" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>回调参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>function({ item, type, selectIds })</td>
<td>选项改变，item 当前操作项, type【’selected’选择，’unselected’取消选择】, selectIds 最终结果id数组</td>
</tr>
</tbody></table>
<h3 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h3><table>
<thead>
<tr>
<th>方法名称</th>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>getSelectIds</td>
<td></td>
<td>获取选中ID</td>
</tr>
<tr>
<td>getSelectObjects</td>
<td></td>
<td>获取选中对象</td>
</tr>
</tbody></table>
<h2 id="描述列表"><a href="#描述列表" class="headerlink" title="描述列表"></a>描述列表</h2><h3 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h3><p><img src="https://cdn.jsdelivr.net/gh/itvita/resources@master/images/20210917094248.png"></p>
<h3 id="代码-3"><a href="#代码-3" class="headerlink" title="代码"></a>代码</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">xui-descriptions</span> <span class="attr">label-width</span>=<span class="string">&quot;200px&quot;</span> <span class="attr">label</span>=<span class="string">&quot;测试标题&quot;</span> &gt;</span></span><br><span class="line">    斐济电视剧覅哦啊江东四杰佛i啊惊世毒妃</span><br><span class="line">  <span class="tag">&lt;/<span class="name">xui-descriptions</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">xui-descriptions</span> <span class="attr">label</span>=<span class="string">&quot;测试标题&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span></span><br><span class="line">    斐济电视剧覅</span><br><span class="line">  <span class="tag">&lt;/<span class="name">xui-descriptions</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">xui-descriptions</span> <span class="attr">label</span>=<span class="string">&quot;测试标题&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;fidjsif&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">xui-descriptions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">data () &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript">mounted () &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">methods</span>: &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="属性-3"><a href="#属性-3" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>label</td>
<td>标题</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>label-width</td>
<td>标题宽度，单位px</td>
<td>String</td>
<td>0px</td>
</tr>
</tbody></table>
<h2 id="图片预览"><a href="#图片预览" class="headerlink" title="图片预览"></a>图片预览</h2><h3 id="示例-4"><a href="#示例-4" class="headerlink" title="示例"></a>示例</h3><p><img src="https://cdn.jsdelivr.net/gh/itvita/resources@master/images/20211021113519.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/itvita/resources@master/images/20211021113828.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/itvita/resources@master/images/20211021113549.png"></p>
<h3 id="代码-4"><a href="#代码-4" class="headerlink" title="代码"></a>代码</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xui-image-preview</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:showBtn</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:showName</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">width</span>=<span class="string">&quot;100px&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">height</span>=<span class="string">&quot;100px&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:baseUrl</span>=<span class="string">&quot;baseUrl&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">url</span>=<span class="string">&quot;path&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;ImgList&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  data () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">baseUrl</span>: <span class="string">&#x27;https://norisk-prod-1305901002.cos.ap-chengdu.myqcloud.com/&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="title class_">ImgList</span>: [</span></span><br><span class="line"><span class="language-javascript">        &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&#x27;测试&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">path</span>: <span class="string">&#x27;20211015/f9cec9d0e43d4edb91c69d5d2b9389b0.jpg&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&#x27;测试&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">path</span>: <span class="string">&#x27;20211015/f9cec9d0e43d4edb91c69d5d2b9389b0.jpg&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&#x27;测试&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">path</span>: <span class="string">&#x27;20211015/f9cec9d0e43d4edb91c69d5d2b9389b0.jpg&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&#x27;测试&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">path</span>: <span class="string">&#x27;20211015/f9cec9d0e43d4edb91c69d5d2b9389b0.jpg&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&#x27;测试&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">path</span>: <span class="string">&#x27;20211015/f9cec9d0e43d4edb91c69d5d2b9389b0.jpg&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      ]</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  mounted () &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="属性-4"><a href="#属性-4" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>v-model(value)</td>
<td>数据[{name:xx,url:xx}]</td>
<td>Array</td>
<td>[]</td>
</tr>
<tr>
<td>url</td>
<td>url 键名</td>
<td>String</td>
<td>url</td>
</tr>
<tr>
<td>baseUrl</td>
<td>图片访问跟域名</td>
<td>String</td>
<td>‘’</td>
</tr>
<tr>
<td>width</td>
<td>宽</td>
<td>String</td>
<td>100px</td>
</tr>
<tr>
<td>height</td>
<td>高</td>
<td>String</td>
<td>100px</td>
</tr>
<tr>
<td>showBtn</td>
<td>是否显示预览 删除按钮</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>showName</td>
<td>是否显示图片名称</td>
<td>Boolean</td>
<td>false</td>
</tr>
</tbody></table>
<h3 id="事件-3"><a href="#事件-3" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>回调参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>function(newData)</td>
<td>图片列表改变后的数组</td>
</tr>
<tr>
<td>delete</td>
<td>function(newData,delData)</td>
<td>删除事件，newData删除后的结果，delData删除数据</td>
</tr>
</tbody></table>
<h2 id="富文本"><a href="#富文本" class="headerlink" title="富文本"></a>富文本</h2><h3 id="示例-5"><a href="#示例-5" class="headerlink" title="示例"></a>示例</h3><p><img src="https://cdn.jsdelivr.net/gh/itvita/resources@master/images/20211028105103.png"></p>
<h3 id="代码-5"><a href="#代码-5" class="headerlink" title="代码"></a>代码</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xui-editor</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;values&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">change</span>=<span class="string">&quot;handelChange&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">placeholder</span>=<span class="string">&quot;输入内容提示文字。。。&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:action</span>=<span class="string">&quot;action&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:basePath</span>=<span class="string">&quot;basePath&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:height</span>=<span class="string">&quot;300&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:headers</span>=<span class="string">&quot;headers&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  data () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">action</span>: <span class="string">&#x27;https://apis.norisk.com.cn/app/company/v1/common/ant/upload&#x27;</span>, <span class="comment">// 文件上传地址</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">basePath</span>: <span class="string">&#x27;https://norisk-prod-1305901002.cos.ap-chengdu.myqcloud.com/&#x27;</span>, <span class="comment">// 文件预览跟地址</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">values</span>: <span class="string">&#x27;&lt;p&gt;我是默认内容&lt;/p&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">headers</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&#x27;token&#x27;</span>:<span class="string">&#x27;111111&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  mounted () &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    handelChange () &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">values</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="属性-5"><a href="#属性-5" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>v-model(value)</td>
<td>数据(html内容)</td>
<td>String</td>
<td>‘’</td>
</tr>
<tr>
<td>action</td>
<td>文件上传地址</td>
<td>String</td>
<td>‘’</td>
</tr>
<tr>
<td>basePath</td>
<td>图片访问跟路径</td>
<td>String</td>
<td>‘’</td>
</tr>
<tr>
<td>placeholder</td>
<td>空内容提示性文字</td>
<td>String</td>
<td>请输入内容…</td>
</tr>
<tr>
<td>height</td>
<td>高(单位px)</td>
<td>Number</td>
<td>300</td>
</tr>
<tr>
<td>headers</td>
<td>自定义header</td>
<td>Object</td>
<td>{}</td>
</tr>
</tbody></table>
<h3 id="事件-4"><a href="#事件-4" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>回调参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>function(newValue)</td>
<td>内容改变触发</td>
</tr>
</tbody></table>
<h2 id="简易上传组件"><a href="#简易上传组件" class="headerlink" title="简易上传组件"></a>简易上传组件</h2><h3 id="示例-6"><a href="#示例-6" class="headerlink" title="示例"></a>示例</h3><p><img src="https://cdn.jsdelivr.net/gh/itvita/resources@master/images/202112311136516.png"></p>
<h3 id="代码-6"><a href="#代码-6" class="headerlink" title="代码"></a>代码</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">x-upload</span></span></span><br><span class="line"><span class="tag">      <span class="attr">accept</span>=<span class="string">&quot;.doc,.docx,.pdf,.xls,.xlsx&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:size</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:action</span>=<span class="string">&quot;url&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">beforeUpload</span>=<span class="string">&quot;beforeUpload&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">uploadSuccess</span>=<span class="string">&quot;uploadSuccess&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">uploadError</span>=<span class="string">&quot;uploadError&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        简易上传，自定义按钮</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">x-upload</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  data () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">url</span>: <span class="string">&#x27;https://xxx.com/v1/upload&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    beforeUpload (param) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(param)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    uploadSuccess (param) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(param)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    uploadError (error) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="属性-6"><a href="#属性-6" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>action</td>
<td>文件上传地址</td>
<td>String</td>
<td>‘’</td>
</tr>
<tr>
<td>size</td>
<td>文件限制大小，单位MB</td>
<td>Number</td>
<td>2</td>
</tr>
<tr>
<td>accept</td>
<td>格式限制（.jpg,.png,.xls）</td>
<td>String</td>
<td>各种</td>
</tr>
<tr>
<td>headers</td>
<td>自定义header</td>
<td>Object</td>
<td>{}</td>
</tr>
<tr>
<td>params</td>
<td>自定义额外参数</td>
<td>Object</td>
<td>{}</td>
</tr>
</tbody></table>
<h3 id="事件-5"><a href="#事件-5" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>回调参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>beforeUpload</td>
<td>function({ id,file,name,size,suffix})</td>
<td>上传前调用</td>
</tr>
<tr>
<td>uploadSuccess</td>
<td>function({name,path,original,suffix,size})</td>
<td>上传成功调用</td>
</tr>
<tr>
<td>uploadError</td>
<td>function({message})</td>
<td>上传失败调用</td>
</tr>
</tbody></table>
<h2 id="图片预览v2"><a href="#图片预览v2" class="headerlink" title="图片预览v2"></a>图片预览v2</h2><h3 id="示例-7"><a href="#示例-7" class="headerlink" title="示例"></a>示例</h3><p><img src="https://cdn.jsdelivr.net/gh/itvita/resources@master/images/202202151155088.png"></p>
<h3 id="代码-7"><a href="#代码-7" class="headerlink" title="代码"></a>代码</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">x-image-preview</span></span></span><br><span class="line"><span class="tag">      <span class="attr">width</span>=<span class="string">&quot;100px&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">height</span>=<span class="string">&quot;100px&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:baseUrl</span>=<span class="string">&quot;baseUrl&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">url</span>=<span class="string">&quot;path&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:showDel</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:draggable</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;ImgList&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">change</span>=<span class="string">&quot;handelChange&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">x-image-preview</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  data () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">baseUrl</span>: <span class="string">&#x27;https://norisk-prod-1305901002.cos.ap-chengdu.myqcloud.com/&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="title class_">ImgList</span>: [</span></span><br><span class="line"><span class="language-javascript">        &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">id</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">path</span>: <span class="string">&#x27;20220119/014026340563464bb7ee74d653325825.png&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">id</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">path</span>: <span class="string">&#x27;20211015/f9cec9d0e43d4edb91c69d5d2b9389b0.jpg&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      ]</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  mounted () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">ImgList</span>.<span class="title function_">push</span>(</span></span><br><span class="line"><span class="language-javascript">        &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">id</span>: <span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">path</span>: <span class="string">&#x27;20211015/f9cec9d0e43d4edb91c69d5d2b9389b0.jpg&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      )</span></span><br><span class="line"><span class="language-javascript">    &#125;, <span class="number">3000</span>)</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    handelChange (v) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(v))</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">ImgList</span>))</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="属性-7"><a href="#属性-7" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>v-model(value)</td>
<td>绑定数据[{path:xxx}]</td>
<td>Array</td>
<td>‘’</td>
</tr>
<tr>
<td>width</td>
<td>宽</td>
<td>String</td>
<td>‘100px’</td>
</tr>
<tr>
<td>height</td>
<td>高</td>
<td>String</td>
<td>‘100px’</td>
</tr>
<tr>
<td>baseUrl</td>
<td>图片跟地址</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>url</td>
<td>list对应url路径key</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>showDel</td>
<td>是否显示删除按钮</td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>draggable</td>
<td>是否允许拖动</td>
<td>Boolean</td>
<td>true</td>
</tr>
</tbody></table>
<h3 id="事件-6"><a href="#事件-6" class="headerlink" title="事件"></a>事件</h3><table>
<thead>
<tr>
<th>事件名称</th>
<th>回调参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>function(newValue)</td>
<td>内容改变触发</td>
</tr>
<tr>
<td>delete</td>
<td>function(delValue)</td>
<td>删除项</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>xtools-antd</category>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>xTable</title>
    <url>/20221009/xTable/</url>
    <content><![CDATA[<ol>
<li><a href="#%E7%A4%BA%E4%BE%8B">示例</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81">代码</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7">属性</a><ol>
<li><a href="#columns">columns</a></li>
<li><a href="#action">action</a></li>
<li><a href="#formatter-%E7%A4%BA%E4%BE%8B">formatter 示例</a><ol>
<li><a href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%BA%E6%96%87%E6%9C%AC">格式化为文本</a></li>
<li><a href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%BA%E5%BE%BD%E7%AB%A0">格式化为徽章</a></li>
<li><a href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%BA%E5%9B%BE%E7%89%87">格式化为图片</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#%E4%BA%8B%E4%BB%B6">事件</a></li>
<li><a href="#%E6%96%B9%E6%B3%95">方法</a></li>
</ol>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p><img src="https://cdn.jsdelivr.net/gh/itvita/resources@master/images/202201211649098.png"></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">x-table</span></span></span><br><span class="line"><span class="tag">     <span class="attr">ref</span>=<span class="string">&quot;myTable&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">title</span>=<span class="string">&quot;菜单列表&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">:columns</span>=<span class="string">&quot;columns&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">:action</span>=<span class="string">&quot;action&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">:expandedRowDetail</span>=<span class="string">&quot;2&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:scrollX</span>=<span class="string">&quot;1280&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">:scrollY</span>=<span class="string">&quot;300&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-url</span>=<span class="string">&quot;https://getman.cn/mock/my/table3&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">a-space</span> <span class="attr">slot</span>=<span class="string">&quot;tools&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">a-button</span> <span class="attr">icon</span>=<span class="string">&quot;plus&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span></span><br><span class="line">         添加</span><br><span class="line">       <span class="tag">&lt;/<span class="name">a-button</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">a-button</span> <span class="attr">icon</span>=<span class="string">&quot;delete&quot;</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span></span><br><span class="line">         批量删除</span><br><span class="line">       <span class="tag">&lt;/<span class="name">a-button</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">a-space</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">x-table</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> columns = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;名称&#x27;</span>,</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&#x27;accountName&#x27;</span>,</span><br><span class="line">    <span class="attr">align</span>: <span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">    <span class="attr">sorter</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">width</span>: <span class="number">180</span>,</span><br><span class="line">    <span class="attr">formatter</span>: &#123; <span class="comment">// 文本格式化显示</span></span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;text&#x27;</span>,</span><br><span class="line">      <span class="attr">format</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          <span class="attr">value</span>: row.<span class="property">accountName</span>, <span class="comment">// 显示文本（必填）</span></span><br><span class="line">          <span class="attr">color</span>: <span class="string">&#x27;#1890ff&#x27;</span>, <span class="comment">// 显示颜色link,error,wain, rgb , hex</span></span><br><span class="line">          <span class="attr">event</span>: <span class="function">() =&gt;</span> &#123; <span class="comment">// 点击触发事件</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(row.<span class="property">accountName</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;状态&#x27;</span>,</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&#x27;state&#x27;</span>,</span><br><span class="line">    <span class="attr">align</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">    <span class="attr">sorter</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">width</span>: <span class="number">180</span>,</span><br><span class="line">    <span class="attr">formatter</span>: &#123; <span class="comment">// 文本格式化显示</span></span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;badge&#x27;</span>,</span><br><span class="line">      <span class="attr">format</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (row.<span class="property">state</span> === <span class="number">1</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">value</span>: <span class="string">&#x27;启用&#x27;</span>, <span class="comment">// 显示文本（必填）</span></span><br><span class="line">            <span class="attr">color</span>: <span class="string">&#x27;blue&#x27;</span>, <span class="comment">// 徽章颜色&#x27;blue&#x27;,&#x27;green&#x27;,&#x27;gray&#x27;,&#x27;orange&#x27;,&#x27;yellow&#x27;,&#x27;red&#x27; 等支持16进制</span></span><br><span class="line">            <span class="attr">event</span>: <span class="function">() =&gt;</span> &#123; <span class="comment">// 点击触发事件</span></span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(row.<span class="property">state</span>)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">value</span>: <span class="string">&#x27;禁用&#x27;</span>, <span class="comment">// 显示文本（必填）</span></span><br><span class="line">            <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span> <span class="comment">// 徽章颜色&#x27;blue&#x27;,&#x27;green&#x27;,&#x27;gray&#x27;,&#x27;orange&#x27;,&#x27;yellow&#x27;,&#x27;red&#x27; 等支持16进制</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;图片格式化测试&#x27;</span>,</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&#x27;images&#x27;</span>,</span><br><span class="line">    <span class="attr">align</span>: <span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">    <span class="attr">sorter</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">width</span>: <span class="number">180</span>,</span><br><span class="line">    <span class="attr">formatter</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;image&#x27;</span>, <span class="comment">// 格式化方式</span></span><br><span class="line">      <span class="attr">width</span>: <span class="string">&#x27;28px&#x27;</span>, <span class="comment">// 图片显示宽度，不设置默认50px</span></span><br><span class="line">      <span class="attr">height</span>: <span class="string">&#x27;28px&#x27;</span>, <span class="comment">// 图片显示高度，不设置默认50px</span></span><br><span class="line">      <span class="attr">format</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;图片提示名称&#x27;</span>, <span class="comment">// 名称</span></span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;https://norisk-prod-1305901002.cos.ap-chengdu.myqcloud.com/20220119/014026340563464bb7ee74d653325825.png&#x27;</span> <span class="comment">// 图片路径</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;https://norisk-prod-1305901002.cos.ap-chengdu.myqcloud.com/20220119/014026340563464bb7ee74d653325825.png&#x27;</span> <span class="comment">// 图片路径</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;区域名称&#x27;</span>,</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&#x27;areaName&#x27;</span>,</span><br><span class="line">    <span class="attr">align</span>: <span class="string">&#x27;center&#x27;</span>, <span class="comment">// 对齐方式</span></span><br><span class="line">    <span class="attr">sorter</span>: <span class="literal">true</span>, <span class="comment">// 是否可以排序</span></span><br><span class="line">    <span class="attr">width</span>: <span class="number">150</span>, <span class="comment">// 宽度，数字或百分比</span></span><br><span class="line">    <span class="attr">ellipsis</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">hide</span>: <span class="literal">false</span><span class="comment">// 从列表中隐藏该列</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;时间&#x27;</span>,</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&#x27;createdTime&#x27;</span>,</span><br><span class="line">    <span class="attr">align</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">    <span class="attr">width</span>: <span class="number">150</span> <span class="comment">// 宽度，数字或百分比</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;地址&#x27;</span>,</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&#x27;cmpAddress&#x27;</span>,</span><br><span class="line">    <span class="attr">align</span>: <span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">    <span class="attr">ellipsis</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">width</span>: <span class="number">150</span> <span class="comment">// 宽度，数字或百分比</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> action = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;修改&#x27;</span>,</span><br><span class="line">    <span class="attr">icon</span>:<span class="string">&#x27;edit&#x27;</span>,<span class="comment">//显示图标，目前仅支持官方图标库，moren edit</span></span><br><span class="line">    <span class="attr">color</span>: <span class="string">&#x27;link&#x27;</span>, <span class="comment">// 显示颜色link,error,wain, rgb , hex</span></span><br><span class="line">    <span class="attr">permission</span>:<span class="string">&#x27;edit&#x27;</span>,</span><br><span class="line">    <span class="attr">event</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(row)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;删除&#x27;</span>,</span><br><span class="line">    <span class="attr">color</span>: <span class="string">&#x27;error&#x27;</span>, <span class="comment">// 显示颜色link,error,wain, rgb , hex</span></span><br><span class="line">    <span class="attr">event</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(row)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">hidden</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(row)</span><br><span class="line">      <span class="keyword">if</span> (row.<span class="property">id</span> % <span class="number">2</span> === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;其他&#x27;</span>,</span><br><span class="line">    <span class="attr">color</span>: <span class="string">&#x27;wain&#x27;</span>, <span class="comment">// 显示颜色link,error,wain, rgb , hex</span></span><br><span class="line">    <span class="attr">event</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(row)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      columns,</span><br><span class="line">      action</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">myTable</span>.<span class="title function_">search</span>(&#123; <span class="attr">headers</span>: &#123;&#125;, <span class="attr">params</span>: &#123;&#125; &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    search (params) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(params)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>title</td>
<td>列表标题</td>
<td>String</td>
<td>查询列表</td>
</tr>
<tr>
<td>columns</td>
<td>列配置</td>
<td>Array</td>
<td>[]</td>
</tr>
<tr>
<td>action</td>
<td>操作配置</td>
<td>Array</td>
<td>[]</td>
</tr>
<tr>
<td>expandedRowDetail</td>
<td>默认详情操作按钮（0不显示，1显示）</td>
<td>Number</td>
<td>0</td>
</tr>
<tr>
<td>rowKey</td>
<td>行键 同antd-table</td>
<td>String，function</td>
<td>id</td>
</tr>
<tr>
<td>selection</td>
<td>开启选择框 [checkbox,radio]</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>showIndex</td>
<td>显示序号</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>dataUrl</td>
<td>数据请求地址</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>actionWidth</td>
<td>操作列宽</td>
<td>Number</td>
<td>120</td>
</tr>
<tr>
<td>scrollX</td>
<td>滚动区域宽</td>
<td>Number</td>
<td>960</td>
</tr>
<tr>
<td>scrollY</td>
<td>滚动区域高</td>
<td>Number</td>
<td>800</td>
</tr>
<tr>
<td>data-source</td>
<td>默认数据</td>
<td>array</td>
<td>[]</td>
</tr>
</tbody></table>
<h3 id="columns"><a href="#columns" class="headerlink" title="columns"></a>columns</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>title</td>
<td>列名称</td>
<td>String</td>
<td></td>
<td></td>
</tr>
<tr>
<td>key</td>
<td>键</td>
<td>String</td>
<td></td>
<td></td>
</tr>
<tr>
<td>align</td>
<td>对齐方式</td>
<td>String</td>
<td>left，center,right</td>
<td>left</td>
</tr>
<tr>
<td>sorter</td>
<td>是否开启排序</td>
<td>Boolean</td>
<td>true，false</td>
<td>false</td>
</tr>
<tr>
<td>width</td>
<td>列宽</td>
<td>Number，String</td>
<td>像素或百分比</td>
<td>自适应</td>
</tr>
<tr>
<td>ellipsis</td>
<td>超出省略</td>
<td>Number</td>
<td>设置为0或false则全显</td>
<td>1</td>
</tr>
<tr>
<td>hide</td>
<td>隐藏列</td>
<td>Boolean</td>
<td></td>
<td>false</td>
</tr>
<tr>
<td>formatter</td>
<td>内容格式化</td>
<td>Object</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="action"><a href="#action" class="headerlink" title="action"></a>action</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>类型</th>
<th>可选</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>title</td>
<td>操作名称</td>
<td>String</td>
<td></td>
<td></td>
</tr>
<tr>
<td>icon</td>
<td>显示图标</td>
<td>String</td>
<td>antd-icon</td>
<td></td>
</tr>
<tr>
<td>color</td>
<td>文字颜色</td>
<td>String</td>
<td>显示颜色link,error,wain, rgb , hex</td>
<td></td>
</tr>
<tr>
<td>permission</td>
<td>权限标识</td>
<td>String</td>
<td></td>
<td></td>
</tr>
<tr>
<td>event</td>
<td>点击事件</td>
<td>row&#x3D;&gt;{}</td>
<td></td>
<td></td>
</tr>
<tr>
<td>hidden</td>
<td>动态隐藏条件</td>
<td>row&#x3D;&gt;{return true}</td>
<td></td>
<td>true</td>
</tr>
</tbody></table>
<h3 id="formatter-示例"><a href="#formatter-示例" class="headerlink" title="formatter 示例"></a>formatter 示例</h3><h4 id="格式化为文本"><a href="#格式化为文本" class="headerlink" title="格式化为文本"></a>格式化为文本</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">formatter</span>: &#123; <span class="comment">// 文本格式化显示</span></span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;text&#x27;</span>,</span><br><span class="line">      <span class="attr">format</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          <span class="attr">value</span>: row.<span class="property">accountName</span>, <span class="comment">// 显示文本（必填）</span></span><br><span class="line">          <span class="attr">color</span>: <span class="string">&#x27;#1890ff&#x27;</span>, <span class="comment">// 显示颜色link,error,wain, rgb , hex</span></span><br><span class="line">          <span class="attr">event</span>: <span class="function">() =&gt;</span> &#123; <span class="comment">// 点击触发事件</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(row.<span class="property">accountName</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="格式化为徽章"><a href="#格式化为徽章" class="headerlink" title="格式化为徽章"></a>格式化为徽章</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">formatter</span>: &#123; <span class="comment">// 文本格式化显示</span></span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;badge&#x27;</span>,</span><br><span class="line">  <span class="attr">format</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (row.<span class="property">state</span> === <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;启用&#x27;</span>, <span class="comment">// 显示文本（必填）</span></span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;blue&#x27;</span>, <span class="comment">// 徽章颜色&#x27;blue&#x27;,&#x27;green&#x27;,&#x27;gray&#x27;,&#x27;orange&#x27;,&#x27;yellow&#x27;,&#x27;red&#x27; 等支持16进制</span></span><br><span class="line">        <span class="attr">event</span>: <span class="function">() =&gt;</span> &#123; <span class="comment">// 点击触发事件</span></span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(row.<span class="property">state</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;禁用&#x27;</span>, <span class="comment">// 显示文本（必填）</span></span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span> <span class="comment">// 徽章颜色&#x27;blue&#x27;,&#x27;green&#x27;,&#x27;gray&#x27;,&#x27;orange&#x27;,&#x27;yellow&#x27;,&#x27;red&#x27; 等支持16进制</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="格式化为图片"><a href="#格式化为图片" class="headerlink" title="格式化为图片"></a>格式化为图片</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">formatter</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;image&#x27;</span>, <span class="comment">// 格式化方式</span></span><br><span class="line">      <span class="attr">width</span>: <span class="string">&#x27;28px&#x27;</span>, <span class="comment">// 图片显示宽度，不设置默认50px</span></span><br><span class="line">      <span class="attr">height</span>: <span class="string">&#x27;28px&#x27;</span>, <span class="comment">// 图片显示高度，不设置默认50px</span></span><br><span class="line">      <span class="attr">format</span>: <span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;图片提示名称&#x27;</span>, <span class="comment">// 名称</span></span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;https://norisk-prod-1305901002.cos.ap-chengdu.myqcloud.com/20220119/014026340563464bb7ee74d653325825.png&#x27;</span> <span class="comment">// 图片路径</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;https://norisk-prod-1305901002.cos.ap-chengdu.myqcloud.com/20220119/014026340563464bb7ee74d653325825.png&#x27;</span> <span class="comment">// 图片路径</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><table>
<thead>
<tr>
<th>事件名称</th>
<th>说明</th>
<th>回调参数</th>
</tr>
</thead>
<tbody><tr>
<td>rowSelection</td>
<td>行选择</td>
<td>function(selectedRowKeys，selectedRows)</td>
</tr>
</tbody></table>
<blockquote>
<p>selectedRowKeys 选中行 key</p>
</blockquote>
<blockquote>
<p>selectedRows 选中行数据</p>
</blockquote>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><table>
<thead>
<tr>
<th>方法名称</th>
<th>说明</th>
<th>举例</th>
</tr>
</thead>
<tbody><tr>
<td>search</td>
<td>获取查询条件</td>
<td>this.$refs.myTable.search({ headers: {}, params: {} })</td>
</tr>
</tbody></table>
<blockquote>
<p>headers 主要用于增加token</p>
</blockquote>
<blockquote>
<p>params 搜索条查询条件，或其他来源查询条件，分页排序条件已内置</p>
</blockquote>
]]></content>
      <categories>
        <category>xtools-antd</category>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>vscode配置markdown</title>
    <url>/20221205/vscode%E9%85%8D%E7%BD%AEmarkdown/</url>
    <content><![CDATA[<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=true} -->
<!-- code_chunk_output -->

<ol>
<li><a href="#%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6">安装插件</a></li>
<li><a href="#%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE">插件配置</a></li>
<li><a href="#%E9%80%9A%E8%BF%87markdown-preview-enhanced%E5%AF%BC%E5%87%BA%E5%B7%A6%E4%BE%A7%E7%9B%AE%E5%BD%95">通过markdown-preview-enhanced导出左侧目录</a></li>
</ol>
<!-- /code_chunk_output -->


<h1 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h1><p><img src="/img/20221205100328.png"></p>
<ol>
<li>Markdown All in One</li>
<li>Markdown PDF</li>
<li>Markdown Preview Enhanced</li>
<li>Paste Image</li>
</ol>
<h1 id="插件配置"><a href="#插件配置" class="headerlink" title="插件配置"></a>插件配置</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;markdown-pdf.displayHeaderFooter&quot;: false,</span><br><span class="line">&quot;markdown-pdf.highlightStyle&quot;: &quot;github.css&quot;,</span><br><span class="line">&quot;markdown-pdf.styles&quot;: [</span><br><span class="line">    &quot;C:\\home\\tools\\vscodeMdStyle\\typora-vue-theme-master\\vue.css&quot;</span><br><span class="line">],</span><br><span class="line">&quot;markdown-preview-enhanced.codeBlockTheme&quot;: &quot;github.css&quot;,</span><br><span class="line">&quot;markdown-preview-enhanced.automaticallyShowPreviewOfMarkdownBeingEdited&quot;: true,</span><br><span class="line">&quot;markdown-preview-enhanced.enableCriticMarkupSyntax&quot;: true,</span><br><span class="line">&quot;markdown-preview-enhanced.enableExtendedTableSyntax&quot;: true,</span><br><span class="line">&quot;markdown-preview-enhanced.enableHTML5Embed&quot;: true,</span><br><span class="line">&quot;markdown-preview-enhanced.enableTypographer&quot;: true,</span><br><span class="line">&quot;markdown-preview-enhanced.frontMatterRenderingOption&quot;: &quot;table&quot;,</span><br><span class="line">&quot;markdown-preview-enhanced.HTML5EmbedUseLinkSyntax&quot;: true,</span><br><span class="line">&quot;markdown-preview-enhanced.enableScriptExecution&quot;: true,</span><br><span class="line">&quot;markdown-preview-enhanced.previewTheme&quot;: &quot;github-light.css&quot;,</span><br><span class="line">&quot;pasteImage.path&quot;: &quot;$&#123;projectRoot&#125;/source/img&quot;,</span><br><span class="line">&quot;pasteImage.basePath&quot;: &quot;$&#123;projectRoot&#125;/source&quot;,</span><br><span class="line">&quot;pasteImage.forceUnixStyleSeparator&quot;: true,</span><br><span class="line">&quot;pasteImage.prefix&quot;: &quot;/&quot;,</span><br><span class="line">&quot;pasteImage.defaultName&quot;: &quot;YMMDDHHmmss&quot;</span><br></pre></td></tr></table></figure>
<h1 id="通过markdown-preview-enhanced导出左侧目录"><a href="#通过markdown-preview-enhanced导出左侧目录" class="headerlink" title="通过markdown-preview-enhanced导出左侧目录"></a>通过markdown-preview-enhanced导出左侧目录</h1><p><img src="/img/20221205101434.png"><br><img src="/img/20221205101507.png"></p>
<ol>
<li>增加如下代码生成左侧目录<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--</span><br><span class="line">html:</span><br><span class="line">  toc: true</span><br><span class="line">  print_background: true</span><br><span class="line">toc:</span><br><span class="line">  depth_from: 1</span><br><span class="line">  depth_to: 6</span><br><span class="line">  ordered: true</span><br><span class="line">--</span><br></pre></td></tr></table></figure></li>
<li>增加如下代码生成顶部目录<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- @import &quot;[TOC]&quot; &#123;cmd=&quot;toc&quot; depthFrom=1 depthTo=6 orderedList=true&#125; --&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>开发工具</category>
      </categories>
      <tags>
        <tag>markdown</tag>
        <tag>vscode</tag>
      </tags>
  </entry>
  <entry>
    <title>儿童感染新冠用药</title>
    <url>/20221213/%E5%84%BF%E7%AB%A5%E6%84%9F%E6%9F%93%E6%96%B0%E5%86%A0%E7%94%A8%E8%8D%AF/</url>
    <content><![CDATA[<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=true} -->
<!-- code_chunk_output -->

<ol>
<li><a href="#%E5%84%BF%E7%AB%A5385%E4%BB%A5%E4%B8%8A">儿童38.5以上</a></li>
<li><a href="#%E5%84%BF%E7%AB%A5385%E4%BB%A5%E4%B8%8B">儿童38.5以下</a></li>
<li><a href="#%E5%97%93%E5%AD%90%E7%96%BC%E5%92%BD%E7%97%9B%E5%97%93%E5%AD%90%E5%B9%B2%E7%96%BC">嗓子疼，咽痛，嗓子干疼</a></li>
<li><a href="#%E5%92%B3%E5%97%BD">咳嗽</a></li>
<li><a href="#%E9%BC%BB%E5%A1%9E">鼻塞</a></li>
<li><a href="#%E8%85%B9%E6%B3%BB">腹泻</a></li>
</ol>
<!-- /code_chunk_output -->

<p><font color='red'>资源均来自网络，仅供参考</font></p>
<h2 id="儿童38-5以上"><a href="#儿童38-5以上" class="headerlink" title="儿童38.5以上"></a>儿童38.5以上</h2><blockquote>
<p>立刻吃退烧药</p>
</blockquote>
<ol>
<li>布洛芬混悬滴剂<br><img src="/img/20221213102840.png"></li>
<li>对乙酰氨基酚混悬滴剂<br><img src="/img/20221213103026.png"></li>
</ol>
<h2 id="儿童38-5以下"><a href="#儿童38-5以下" class="headerlink" title="儿童38.5以下"></a>儿童38.5以下</h2><blockquote>
<p>中成药退烧</p>
</blockquote>
<ol>
<li>小儿柴桂退热颗粒<br><img src="/img/20221213103204.png"></li>
<li>小儿豉翘退热颗粒<br><img src="/img/20221213103237.png"></li>
</ol>
<h2 id="嗓子疼，咽痛，嗓子干疼"><a href="#嗓子疼，咽痛，嗓子干疼" class="headerlink" title="嗓子疼，咽痛，嗓子干疼"></a>嗓子疼，咽痛，嗓子干疼</h2><blockquote>
<p>中药，中成药制剂<br>如果出现热性症候</p>
</blockquote>
<ol>
<li>小儿青翘颗粒<br><img src="/img/20221213103324.png"></li>
<li>蒲地蓝消炎口服液<br><img src="/img/20221213103403.png"></li>
<li>小儿咽扁颗粒<br><img src="/img/20221213103421.png"></li>
</ol>
<h2 id="咳嗽"><a href="#咳嗽" class="headerlink" title="咳嗽"></a>咳嗽</h2><blockquote>
<p>中成药制剂</p>
</blockquote>
<ol>
<li>小儿咳嗽糖浆<br><img src="/img/20221213103500.png"></li>
<li>肺力咳合剂<br><img src="/img/20221213103551.png"></li>
</ol>
<blockquote>
<p>如果干咳</p>
</blockquote>
<ol>
<li>氢溴酸右美沙芬分散片<br><img src="/img/20221213103646.png"></li>
</ol>
<blockquote>
<p>如果有痰</p>
</blockquote>
<ol>
<li>盐酸氨溴索口服溶液<br><img src="/img/20221213103723.png"></li>
</ol>
<h2 id="鼻塞"><a href="#鼻塞" class="headerlink" title="鼻塞"></a>鼻塞</h2><ol>
<li>盐酸萘甲唑林滴鼻液<br><img src="/img/20221213103801.png"></li>
<li>鼻渊通窍颗粒<br><img src="/img/20221213103818.png"></li>
</ol>
<h2 id="腹泻"><a href="#腹泻" class="headerlink" title="腹泻"></a>腹泻</h2><ol>
<li>蒙脱石散<br><img src="/img/20221213103903.png"></li>
<li>益生菌<br><img src="/img/20221213103927.png"></li>
</ol>
]]></content>
      <categories>
        <category>其他</category>
      </categories>
      <tags>
        <tag>其他</tag>
      </tags>
  </entry>
  <entry>
    <title>人民日报新冠治疗用药第一版</title>
    <url>/20221214/%E4%BA%BA%E6%B0%91%E6%97%A5%E6%8A%A5%E6%96%B0%E5%86%A0%E6%B2%BB%E7%96%97%E7%94%A8%E8%8D%AF%E7%AC%AC%E4%B8%80%E7%89%88/</url>
    <content><![CDATA[<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=true} -->
<!-- code_chunk_output -->



<!-- /code_chunk_output -->

<p><img src="/img/20221214103406.png"><br><img src="/img/20221214103417.png"></p>
]]></content>
      <categories>
        <category>其他</category>
      </categories>
      <tags>
        <tag>其他</tag>
      </tags>
  </entry>
  <entry>
    <title>新冠病毒感染者居家治疗指南</title>
    <url>/20221214/%E6%96%B0%E5%86%A0%E7%97%85%E6%AF%92%E6%84%9F%E6%9F%93%E8%80%85%E5%B1%85%E5%AE%B6%E6%B2%BB%E7%96%97%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=true} -->
<!-- code_chunk_output -->

<ul>
<li><a href="#%E6%96%B0%E5%86%A0%E7%97%85%E6%AF%92%E6%84%9F%E6%9F%93%E8%80%85%E5%B1%85%E5%AE%B6%E6%B2%BB%E7%96%97%E6%8C%87%E5%8D%97">新冠病毒感染者居家治疗指南</a><ul>
<li><a href="#%E4%B8%80%E9%80%82%E7%94%A8%E5%AF%B9%E8%B1%A1">一、适用对象</a></li>
<li><a href="#%E4%BA%8C%E5%AE%B6%E5%B1%85%E7%8E%AF%E5%A2%83%E8%A6%81%E6%B1%82">二、家居环境要求</a></li>
<li><a href="#%E4%B8%89%E7%AE%A1%E7%90%86%E8%A6%81%E6%B1%82">三、管理要求</a></li>
<li><a href="#%E5%9B%9B%E7%BB%93%E6%9D%9F%E5%B1%85%E5%AE%B6%E6%B2%BB%E7%96%97%E7%9A%84%E6%9D%A1%E4%BB%B6">四、结束居家治疗的条件</a></li>
<li><a href="#%E4%BA%94%E4%BF%9D%E9%9A%9C%E8%A6%81%E6%B1%82">五、保障要求</a></li>
<li><a href="#%E9%99%84%E4%BB%B6">附件：</a></li>
</ul>
</li>
</ul>
<!-- /code_chunk_output -->


<h1 id="新冠病毒感染者居家治疗指南"><a href="#新冠病毒感染者居家治疗指南" class="headerlink" title="新冠病毒感染者居家治疗指南"></a>新冠病毒感染者居家治疗指南</h1><p> </p>
<h2 id="一、适用对象"><a href="#一、适用对象" class="headerlink" title="一、适用对象"></a>一、适用对象</h2><p>（一）未合并严重基础疾病的无症状或症状轻微的感染者。</p>
<p>（二）基础疾病处于稳定期，无严重心肝肺肾脑等重要脏器功能不全等需要住院治疗情况的感染者。</p>
<h2 id="二、家居环境要求"><a href="#二、家居环境要求" class="headerlink" title="二、家居环境要求"></a>二、家居环境要求</h2><p>（一）在条件允许情况下，居家治疗人员尽可能在家庭相对独立的房间居住，使用单独卫生间。</p>
<p>（二）家庭应当配备体温计（感染者专用）、纸巾、口罩、一次性手套、消毒剂等个人防护用品和消毒产品及带盖的垃圾桶。</p>
<h2 id="三、管理要求"><a href="#三、管理要求" class="headerlink" title="三、管理要求"></a>三、管理要求</h2><p> （一）社区（村）和基层医疗卫生机构工作要求。</p>
<p>1.建立联系。发挥各地疫情防控社区（基层）工作机制的组织、动员、引导、服务、保障、管理重要作用。基层医疗卫生机构公开咨询电话，告知居家治疗注意事项，并将居家治疗人员纳入网格化管理。对于空巢独居老年人、有基础疾病患者、孕产妇、血液透析患者等居家治疗特殊人员建立台账，做好必要的医疗服务保障。</p>
<p>2.给予指导。居家治疗人员根据说明书规范进行抗原检测，必要时可请基层医疗卫生机构给予指导。基层医疗卫生机构对有需要的人员给予必要的对症治疗和口服药指导。</p>
<p>3.协助就医。社区或基层医疗卫生机构收到居家治疗人员提出的协助安排外出就医需求后，要及时了解其主要病情，由基层医疗卫生机构指导急危重症患者做好应急处置，并协助尽快闭环转运至相关医院救治。要以县（市、区）为单位，建立上级医院与城乡社区的快速转运通道。</p>
<p>4.心理援助。以地市为单位建立畅通心理咨询热线。基层医疗卫生机构和社区要将心理热线主动告知居家治疗人员，方便其寻求心理支持、心理疏导帮助。对于发现的心理或精神卫生问题较严重者，可向本地（市、县）精神卫生医疗机构报告，必要时予以转介。</p>
<p>5.个人防护。与居家治疗人员接触时，应当做好自我防护，尽可能保持1米以上距离。</p>
<p> （二）居家治疗人员自我管理要求。</p>
<p>1.健康监测和对症治疗。居家治疗人员应当每天早、晚各进行1次体温测量和自我健康监测，如出现发热、咳嗽等症状，可进行对症处置或口服药治疗。有需要时也可联系基层医疗卫生机构医务人员或通过互联网医疗形式咨询相关医疗机构。无症状者无需药物治疗。居家治疗人员服药时，须按药品说明书服用，避免盲目使用抗菌药物。如患有基础疾病，在病情稳定时，无需改变正在使用的基础疾病治疗药物剂量。</p>
<p>2.转诊治疗。如出现以下情况，可通过自驾车、120救护车等方式，转至相关医院进行治疗。</p>
<p>（1）呼吸困难或气促。</p>
<p>（2）经药物治疗后体温仍持续高于38.5℃，超过3天。</p>
<p>（3）原有基础疾病明显加重且不能控制。</p>
<p>（4）儿童出现嗜睡、持续拒食、喂养困难、持续腹泻或呕吐等情况。</p>
<p>（5）孕妇出现头痛、头晕、心慌、憋气等症状，或出现腹痛、阴道出血或流液、胎动异常等情况。</p>
<p>3.控制外出。居家治疗人员非必要不外出、不接受探访。对因就医等确需外出人员，要全程做好个人防护，点对点到达医疗机构，就医后再点对点返回家中，尽可能不乘坐公共交通工具。</p>
<p>4.个人防护。居家治疗人员要做好防护，尽量不与其他家庭成员接触。如居家治疗人员为哺乳期母亲，在做好个人防护的基础上可继续母乳喂养婴儿。</p>
<p>5.抗原自测。居家治疗人员需根据相关防疫要求进行抗原自测和结果上报。</p>
<p>6.感染防控要求。</p>
<p>（1）每天定时开门窗通风，保持室内空气流通，不具备自然通风条件的，可用排气扇等进行机械通风。</p>
<p>（2）做好卫生间、浴室等共享区域的通风和消毒。</p>
<p>（3）准备食物、饭前便后、摘戴口罩等，应当洗手或手消毒。</p>
<p>（4）咳嗽或打喷嚏时用纸巾遮盖口鼻或用手肘内侧遮挡口鼻，将用过的纸巾丢至垃圾桶。</p>
<p>（5）不与家庭内其他成员共用生活用品，餐具使用后应当清洗和消毒。</p>
<p>（6）居家治疗人员日常可能接触的物品表面及其使用的毛巾、衣物、被罩等需及时清洁消毒，感染者个人物品单独放置。</p>
<p>（7）如家庭共用卫生间，居家治疗人员每次用完卫生间均应消毒；若居家治疗人员使用单独卫生间，可每天进行1次消毒。</p>
<p>（8）用过的纸巾、口罩、一次性手套以及其他生活垃圾装入塑料袋，放置到专用垃圾桶。</p>
<p>（9）被唾液、痰液等污染的物品随时消毒。</p>
<h2 id="四、结束居家治疗的条件"><a href="#四、结束居家治疗的条件" class="headerlink" title="四、结束居家治疗的条件"></a>四、结束居家治疗的条件</h2><p>如居家治疗人员症状明显好转或无明显症状，自测抗原阴性并且连续两次新冠病毒核酸检测Ct值≥35（两次检测间隔大于24小时），可结束居家治疗，恢复正常生活和外出。</p>
<h2 id="五、保障要求"><a href="#五、保障要求" class="headerlink" title="五、保障要求"></a>五、保障要求</h2><p>（一）各地疫情防控领导机制中负责社区（基层、农村）工作的牵头单位要充分发挥作用，切实担当负责。基层医疗卫生机构建立24小时值班制度，指定专人承担感染者居家治疗健康咨询工作。社区（村）安排做好核酸检测、垃圾清运、环境消杀等工作，并及时发现和解决问题。</p>
<p>（二）要组织医疗机构，通过远程指导、互联网医疗等线上+线下相结合的方式，为居家人员提供康复指导支持和心理支持，基层医疗卫生机构通过互联网等多种方式加强对辖区居家康复人员的巡查指导和健康监测，二、三级医院要通过远程医疗的方式为基层医疗机构提供会诊指导。</p>
<p>（三）各地要加强基层医疗卫生机构常用药品、抗原检测试剂、指夹式血氧仪等储备，切实满足居家治疗人员用药和健康监测需求。</p>
<p>（四）医疗机构要严格落实首诊负责制和急危重症抢救制度，不得以任何理由推诿或拒绝居家治疗的新冠病毒感染者特别是急危重症患者到医疗机构就诊。</p>
<p> </p>
<h2 id="附件："><a href="#附件：" class="headerlink" title="附件："></a>附件：</h2><p>1.新冠病毒感染者居家治疗常用药参考表<br><img src="/img/20221214105151.png"></p>
<p>2.新冠病毒感染者居家治疗抗原检测指南<br><img src="/img/20221214105224.png"></p>
]]></content>
      <categories>
        <category>其他</category>
      </categories>
      <tags>
        <tag>其他</tag>
      </tags>
  </entry>
  <entry>
    <title>docker命令</title>
    <url>/20221216/docker%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=true} -->
<!-- code_chunk_output -->

<ul>
<li><a href="#%E4%BB%A5nginx%E4%B8%BA%E4%BE%8B">以nginx为例</a><ul>
<li><a href="#%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F">拉取镜像</a></li>
<li><a href="#%E6%9F%A5%E7%9C%8B%E9%95%9C%E5%83%8F">查看镜像</a></li>
<li><a href="#%E8%BF%90%E8%A1%8C%E9%95%9C%E5%83%8F">运行镜像</a></li>
<li><a href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E8%BF%90%E8%A1%8C%E4%B8%AD%E5%BA%94%E7%94%A8">查看当前运行中应用</a></li>
<li><a href="#%E5%81%9C%E6%AD%A2%E5%AE%B9%E5%99%A8">停止容器</a></li>
<li><a href="#%E9%87%8D%E5%90%AF%E5%AE%B9%E5%99%A8">重启容器</a></li>
</ul>
</li>
<li><a href="#%E5%AE%89%E8%A3%85%E5%B9%B6%E5%90%AF%E5%8A%A8nacos-%E5%8D%95%E6%9C%BA%E7%89%88">安装并启动nacos 单机版</a></li>
<li><a href="#docker%E6%9F%A5%E7%9C%8B%E5%AE%B9%E5%99%A8%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF">docker查看容器详细信息</a></li>
</ul>
<!-- /code_chunk_output -->
<h2 id="以nginx为例"><a href="#以nginx为例" class="headerlink" title="以nginx为例"></a>以nginx为例</h2><h3 id="拉取镜像"><a href="#拉取镜像" class="headerlink" title="拉取镜像"></a>拉取镜像</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker pull nginx:latest</span><br></pre></td></tr></table></figure>

<h3 id="查看镜像"><a href="#查看镜像" class="headerlink" title="查看镜像"></a>查看镜像</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>

<h3 id="运行镜像"><a href="#运行镜像" class="headerlink" title="运行镜像"></a>运行镜像</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker run --name nginx-test -p 8080:80 -d nginx</span><br></pre></td></tr></table></figure>
<blockquote>
<p>说明：</p>
</blockquote>
<ul>
<li><strong>–name nginx-test：</strong> 容器名称。</li>
<li><strong>-p 8080:80：</strong> 端口进行映射，将本地 8080 端口映射到容器内部的 80 端口。</li>
<li><strong>-d nginx：</strong> 设置容器在在后台一直运行。</li>
</ul>
<h3 id="查看当前运行中应用"><a href="#查看当前运行中应用" class="headerlink" title="查看当前运行中应用"></a>查看当前运行中应用</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure>
<blockquote>
<p>说明                  </p>
</blockquote>
<ul>
<li><strong>CONTAINER ID：</strong> 容器 ID</li>
<li><strong>IMAGE：</strong> 使用的镜像</li>
<li><strong>COMMAND：</strong> 启动容器时运行的命令</li>
<li><strong>CREATED：</strong> 容器的创建时间。</li>
<li><strong>STATUS：</strong> 容器状态<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">created（已创建）</span><br><span class="line">restarting（重启中）</span><br><span class="line">running 或 Up（运行中）</span><br><span class="line">removing（迁移中）</span><br><span class="line">paused（暂停）</span><br><span class="line">exited（停止）</span><br><span class="line">dead（死亡）</span><br></pre></td></tr></table></figure></li>
<li><strong>PORTS：</strong> 容器的端口信息和使用的连接类型（tcp\udp）。</li>
<li><strong>NAMES：</strong> 自动分配的容器名称。</li>
</ul>
<h3 id="停止容器"><a href="#停止容器" class="headerlink" title="停止容器"></a>停止容器</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker stop &lt;容器 ID&gt;</span><br></pre></td></tr></table></figure>
<h3 id="重启容器"><a href="#重启容器" class="headerlink" title="重启容器"></a>重启容器</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker restart &lt;容器 ID&gt;</span><br></pre></td></tr></table></figure>

<h2 id="安装并启动nacos-单机版"><a href="#安装并启动nacos-单机版" class="headerlink" title="安装并启动nacos 单机版"></a>安装并启动nacos 单机版</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker run -d -e MODE=standalone  -p 8848:8848  --restart=always --name nacos nacos/nacos-server:2.0.2</span><br></pre></td></tr></table></figure>


<h2 id="docker查看容器详细信息"><a href="#docker查看容器详细信息" class="headerlink" title="docker查看容器详细信息"></a>docker查看容器详细信息</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker inspect 容器ID</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title>http-server参数说明</title>
    <url>/20221223/http-server%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/</url>
    <content><![CDATA[<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=true} -->
<!-- code_chunk_output -->



<!-- /code_chunk_output -->
<p>http-server –cors</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-p 端口号 (默认 8080)</span><br><span class="line">-a IP 地址 (默认 0.0.0.0)</span><br><span class="line">-d 显示目录列表 (默认 &#x27;True&#x27;)</span><br><span class="line">-i 显示 autoIndex (默认 &#x27;True&#x27;)</span><br><span class="line">-e or --ext 如果没有提供默认的文件扩展名(默认 &#x27;html&#x27;)</span><br><span class="line">-s or --silent 禁止日志信息输出</span><br><span class="line">--cors 启用 CORS via the Access-Control-Allow-Origin header</span><br><span class="line">-o 在开始服务后打开浏览器</span><br><span class="line">-c 为 cache-control max-age header 设置Cache time(秒) , e.g. -c10 for 10 seconds (defaults to &#x27;3600&#x27;). 禁用 caching, 则使用 -c-1.</span><br><span class="line">-U 或 --utc 使用UTC time 格式化log消息</span><br><span class="line">-P or --proxy Proxies all requests which can&#x27;t be resolved locally to the given url. e.g.: -P http://someurl.com</span><br><span class="line">-S or --ssl 启用 https</span><br><span class="line">-C or --cert ssl cert 文件路径 (default: cert.pem)</span><br><span class="line">-K or --key Path to ssl key file (default: key.pem).</span><br><span class="line">-r or --robots Provide a /robots.txt (whose content defaults to &#x27;User-agent: *\nDisallow: /&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>分类1</category>
      </categories>
      <tags>
        <tag>标签1</tag>
        <tag>标签2</tag>
      </tags>
  </entry>
  <entry>
    <title>firefox远程调试</title>
    <url>/20230131/firefox%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/</url>
    <content><![CDATA[<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=true} -->
<!-- code_chunk_output -->

<ol>
<li><a href="#%E5%AE%89%E8%A3%85adb">安装adb</a><ol>
<li><a href="#%E4%B8%8B%E8%BD%BD">下载</a></li>
<li><a href="#%E8%A7%A3%E5%8E%8B%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">解压配置环境变量</a></li>
</ol>
</li>
<li><a href="#%E5%AE%89%E5%8D%93-firefox%E9%85%8D%E7%BD%AE">安卓 firefox配置</a></li>
<li><a href="#windows-firefox%E9%85%8D%E7%BD%AE">windows firefox配置</a></li>
</ol>
<!-- /code_chunk_output -->


<h2 id="安装adb"><a href="#安装adb" class="headerlink" title="安装adb"></a>安装adb</h2><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>Windows版本：<a href="https://dl.google.com/android/repository/platform-tools-latest-windows.zip">https://dl.google.com/android/repository/platform-tools-latest-windows.zip</a><br>Mac版本：<a href="https://dl.google.com/android/repository/platform-tools-latest-darwin.zip">https://dl.google.com/android/repository/platform-tools-latest-darwin.zip</a><br>Linux版本：<a href="https://dl.google.com/android/repository/platform-tools-latest-linux.zip">https://dl.google.com/android/repository/platform-tools-latest-linux.zip</a></p>
<h3 id="解压配置环境变量"><a href="#解压配置环境变量" class="headerlink" title="解压配置环境变量"></a>解压配置环境变量</h3><p><img src="/img/20230131182908.png"><br><img src="/img/20230131182943.png"><br><img src="/img/20230131183007.png"></p>
<h2 id="安卓-firefox配置"><a href="#安卓-firefox配置" class="headerlink" title="安卓 firefox配置"></a>安卓 firefox配置</h2><ol>
<li>设置中开始usb调试</li>
<li>usb连接电脑</li>
</ol>
<h2 id="windows-firefox配置"><a href="#windows-firefox配置" class="headerlink" title="windows firefox配置"></a>windows firefox配置</h2><ol>
<li>地址栏输入 about:config 搜索 devtools.debugger.remote-enabled  设置为true</li>
<li>更多工具中找到远程调试，打开</li>
<li>启用usb调试</li>
<li>打开命令行 执行 adb forward tcp:6000 tcp:6000</li>
<li>刷新设备 连接即可</li>
</ol>
]]></content>
      <categories>
        <category>分类1</category>
      </categories>
      <tags>
        <tag>标签1</tag>
        <tag>标签2</tag>
      </tags>
  </entry>
  <entry>
    <title>需求分析面试题</title>
    <url>/20230206/%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E9%9D%A2%E8%AF%95%E9%A2%98/</url>
    <content><![CDATA[<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=true} -->
<!-- code_chunk_output -->



<!-- /code_chunk_output -->
<blockquote>
<p>需求调研前的准备？</p>
</blockquote>
<ol>
<li>各渠道了解行业信息；</li>
<li>向有接触的同事了解业务；</li>
<li>搜集对方的信息、业务单等；</li>
<li>整理出调研问题；</li>
<li>制定调研计划、时间安排；</li>
<li>准备好需要的软硬件。</li>
</ol>
<blockquote>
<p>如何展开需求调研？</p>
</blockquote>
<ol>
<li>调研前准备，如上；</li>
<li>组织需求调研会议，用户主动说，针对性提问；</li>
<li>整理会议纪要，签字确认；</li>
<li>整理需求规格说明书，发客户确认。</li>
</ol>
<blockquote>
<p>需求调研如何开展，将取得更好的效果？</p>
</blockquote>
<ol>
<li>按计划有步骤完成；</li>
<li>细心交流，及时记录；</li>
<li>“从宏观到细节”“简单到复杂”；</li>
<li>挖掘原始需求，而非口头需求；</li>
<li>引导客户需求；</li>
<li>合理规避有时间和技术研制的需求；</li>
<li>及时总结调研报告，反馈客户；</li>
<li>及时处理需求变更，做好记录。</li>
</ol>
<blockquote>
<p>需求分析师应该具备的能力？</p>
</blockquote>
<ol>
<li>沟通能力：了解客户需求本质；团队内部，随时跟进；</li>
<li>演讲能力，讲清楚业务和功能；</li>
<li>逻辑思维能力；</li>
<li>原型设计能力，便于理解需求；</li>
<li>写作能力；</li>
<li>懂代码；</li>
<li>细心和记录。</li>
</ol>
<blockquote>
<p>如何控制项目范围？</p>
</blockquote>
<ol>
<li>关系到项目成本，开发难度，项目成败；</li>
<li>讨论超范围，告诉客户可以留接口，本期暂不实现；</li>
<li>向客户说明，对项目质量的影响；</li>
<li>高层要加就加，但要加钱；</li>
<li>减少需求变更。</li>
</ol>
<blockquote>
<p>项目已经落后，如何短时间追近项目进度？</p>
</blockquote>
<ol>
<li>自我鼓励；</li>
<li>加强专业知识，缩短与客户交流时间；</li>
<li>有效沟通；</li>
<li>适当加班；</li>
<li>脚踏实地地干。</li>
</ol>
<blockquote>
<p>需求分析工作包括哪些？</p>
</blockquote>
<ol>
<li>角色分析；</li>
<li>业务流程分析；</li>
<li>核心功能分析；</li>
<li>关键需求点分析；</li>
<li>用例分析；</li>
<li>数据流图分析；</li>
<li>核心功能点的时序分析；</li>
<li>需求文档编写；</li>
<li>调研记录；</li>
<li>需求变更记录等。</li>
</ol>
<blockquote>
<p>对于不配合的客户，如何处理？</p>
</blockquote>
<ol>
<li>自身态度或方式不正确；</li>
<li>换个时间，人心情有变化；</li>
<li>申请换人；</li>
<li>侧面了解，通过其他部门。</li>
</ol>
<blockquote>
<p>客户意见不统一，怎么解决？</p>
</blockquote>
<ol>
<li>制定几种方案，给出优缺点，工期，价格等，让客户自己商定。</li>
</ol>
<blockquote>
<p>软件的需求分类？</p>
</blockquote>
<ol>
<li>业务需求；</li>
<li>用户需求；</li>
<li>功能需求；</li>
<li>行业隐含需求；</li>
<li>非功能性需求。</li>
</ol>
]]></content>
      <categories>
        <category>面试</category>
      </categories>
      <tags>
        <tag>需求</tag>
      </tags>
  </entry>
</search>
